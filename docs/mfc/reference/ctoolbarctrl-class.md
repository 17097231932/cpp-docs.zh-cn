---
title: CToolBarCtrl 类
ms.date: 11/04/2016
f1_keywords:
- CToolBarCtrl
- AFXCMN/CToolBarCtrl
- AFXCMN/CToolBarCtrl::CToolBarCtrl
- AFXCMN/CToolBarCtrl::AddBitmap
- AFXCMN/CToolBarCtrl::AddButtons
- AFXCMN/CToolBarCtrl::AddString
- AFXCMN/CToolBarCtrl::AddStrings
- AFXCMN/CToolBarCtrl::AutoSize
- AFXCMN/CToolBarCtrl::ChangeBitmap
- AFXCMN/CToolBarCtrl::CheckButton
- AFXCMN/CToolBarCtrl::CommandToIndex
- AFXCMN/CToolBarCtrl::Create
- AFXCMN/CToolBarCtrl::CreateEx
- AFXCMN/CToolBarCtrl::Customize
- AFXCMN/CToolBarCtrl::DeleteButton
- AFXCMN/CToolBarCtrl::EnableButton
- AFXCMN/CToolBarCtrl::GetAnchorHighlight
- AFXCMN/CToolBarCtrl::GetBitmap
- AFXCMN/CToolBarCtrl::GetBitmapFlags
- AFXCMN/CToolBarCtrl::GetButton
- AFXCMN/CToolBarCtrl::GetButtonCount
- AFXCMN/CToolBarCtrl::GetButtonInfo
- AFXCMN/CToolBarCtrl::GetButtonSize
- AFXCMN/CToolBarCtrl::GetColorScheme
- AFXCMN/CToolBarCtrl::GetDisabledImageList
- AFXCMN/CToolBarCtrl::GetDropTarget
- AFXCMN/CToolBarCtrl::GetExtendedStyle
- AFXCMN/CToolBarCtrl::GetHotImageList
- AFXCMN/CToolBarCtrl::GetHotItem
- AFXCMN/CToolBarCtrl::GetImageList
- AFXCMN/CToolBarCtrl::GetInsertMark
- AFXCMN/CToolBarCtrl::GetInsertMarkColor
- AFXCMN/CToolBarCtrl::GetItemRect
- AFXCMN/CToolBarCtrl::GetMaxSize
- AFXCMN/CToolBarCtrl::GetMaxTextRows
- AFXCMN/CToolBarCtrl::GetMetrics
- AFXCMN/CToolBarCtrl::GetPadding
- AFXCMN/CToolBarCtrl::GetPressedImageList
- AFXCMN/CToolBarCtrl::GetRect
- AFXCMN/CToolBarCtrl::GetRows
- AFXCMN/CToolBarCtrl::GetState
- AFXCMN/CToolBarCtrl::GetString
- AFXCMN/CToolBarCtrl::GetStyle
- AFXCMN/CToolBarCtrl::GetToolTips
- AFXCMN/CToolBarCtrl::HideButton
- AFXCMN/CToolBarCtrl::HitTest
- AFXCMN/CToolBarCtrl::Indeterminate
- AFXCMN/CToolBarCtrl::InsertButton
- AFXCMN/CToolBarCtrl::InsertMarkHitTest
- AFXCMN/CToolBarCtrl::IsButtonChecked
- AFXCMN/CToolBarCtrl::IsButtonEnabled
- AFXCMN/CToolBarCtrl::IsButtonHidden
- AFXCMN/CToolBarCtrl::IsButtonHighlighted
- AFXCMN/CToolBarCtrl::IsButtonIndeterminate
- AFXCMN/CToolBarCtrl::IsButtonPressed
- AFXCMN/CToolBarCtrl::LoadImages
- AFXCMN/CToolBarCtrl::MapAccelerator
- AFXCMN/CToolBarCtrl::MarkButton
- AFXCMN/CToolBarCtrl::MoveButton
- AFXCMN/CToolBarCtrl::PressButton
- AFXCMN/CToolBarCtrl::ReplaceBitmap
- AFXCMN/CToolBarCtrl::RestoreState
- AFXCMN/CToolBarCtrl::SaveState
- AFXCMN/CToolBarCtrl::SetAnchorHighlight
- AFXCMN/CToolBarCtrl::SetBitmapSize
- AFXCMN/CToolBarCtrl::SetButtonInfo
- AFXCMN/CToolBarCtrl::SetButtonSize
- AFXCMN/CToolBarCtrl::SetButtonStructSize
- AFXCMN/CToolBarCtrl::SetButtonWidth
- AFXCMN/CToolBarCtrl::SetCmdID
- AFXCMN/CToolBarCtrl::SetColorScheme
- AFXCMN/CToolBarCtrl::SetDisabledImageList
- AFXCMN/CToolBarCtrl::SetDrawTextFlags
- AFXCMN/CToolBarCtrl::SetExtendedStyle
- AFXCMN/CToolBarCtrl::SetHotImageList
- AFXCMN/CToolBarCtrl::SetHotItem
- AFXCMN/CToolBarCtrl::SetImageList
- AFXCMN/CToolBarCtrl::SetIndent
- AFXCMN/CToolBarCtrl::SetInsertMark
- AFXCMN/CToolBarCtrl::SetInsertMarkColor
- AFXCMN/CToolBarCtrl::SetMaxTextRows
- AFXCMN/CToolBarCtrl::SetMetrics
- AFXCMN/CToolBarCtrl::SetOwner
- AFXCMN/CToolBarCtrl::SetPadding
- AFXCMN/CToolBarCtrl::SetPressedImageList
- AFXCMN/CToolBarCtrl::SetRows
- AFXCMN/CToolBarCtrl::SetState
- AFXCMN/CToolBarCtrl::SetStyle
- AFXCMN/CToolBarCtrl::SetToolTips
- AFXCMN/CToolBarCtrl::SetWindowTheme
helpviewer_keywords:
- CToolBarCtrl [MFC], CToolBarCtrl
- CToolBarCtrl [MFC], AddBitmap
- CToolBarCtrl [MFC], AddButtons
- CToolBarCtrl [MFC], AddString
- CToolBarCtrl [MFC], AddStrings
- CToolBarCtrl [MFC], AutoSize
- CToolBarCtrl [MFC], ChangeBitmap
- CToolBarCtrl [MFC], CheckButton
- CToolBarCtrl [MFC], CommandToIndex
- CToolBarCtrl [MFC], Create
- CToolBarCtrl [MFC], CreateEx
- CToolBarCtrl [MFC], Customize
- CToolBarCtrl [MFC], DeleteButton
- CToolBarCtrl [MFC], EnableButton
- CToolBarCtrl [MFC], GetAnchorHighlight
- CToolBarCtrl [MFC], GetBitmap
- CToolBarCtrl [MFC], GetBitmapFlags
- CToolBarCtrl [MFC], GetButton
- CToolBarCtrl [MFC], GetButtonCount
- CToolBarCtrl [MFC], GetButtonInfo
- CToolBarCtrl [MFC], GetButtonSize
- CToolBarCtrl [MFC], GetColorScheme
- CToolBarCtrl [MFC], GetDisabledImageList
- CToolBarCtrl [MFC], GetDropTarget
- CToolBarCtrl [MFC], GetExtendedStyle
- CToolBarCtrl [MFC], GetHotImageList
- CToolBarCtrl [MFC], GetHotItem
- CToolBarCtrl [MFC], GetImageList
- CToolBarCtrl [MFC], GetInsertMark
- CToolBarCtrl [MFC], GetInsertMarkColor
- CToolBarCtrl [MFC], GetItemRect
- CToolBarCtrl [MFC], GetMaxSize
- CToolBarCtrl [MFC], GetMaxTextRows
- CToolBarCtrl [MFC], GetMetrics
- CToolBarCtrl [MFC], GetPadding
- CToolBarCtrl [MFC], GetPressedImageList
- CToolBarCtrl [MFC], GetRect
- CToolBarCtrl [MFC], GetRows
- CToolBarCtrl [MFC], GetState
- CToolBarCtrl [MFC], GetString
- CToolBarCtrl [MFC], GetStyle
- CToolBarCtrl [MFC], GetToolTips
- CToolBarCtrl [MFC], HideButton
- CToolBarCtrl [MFC], HitTest
- CToolBarCtrl [MFC], Indeterminate
- CToolBarCtrl [MFC], InsertButton
- CToolBarCtrl [MFC], InsertMarkHitTest
- CToolBarCtrl [MFC], IsButtonChecked
- CToolBarCtrl [MFC], IsButtonEnabled
- CToolBarCtrl [MFC], IsButtonHidden
- CToolBarCtrl [MFC], IsButtonHighlighted
- CToolBarCtrl [MFC], IsButtonIndeterminate
- CToolBarCtrl [MFC], IsButtonPressed
- CToolBarCtrl [MFC], LoadImages
- CToolBarCtrl [MFC], MapAccelerator
- CToolBarCtrl [MFC], MarkButton
- CToolBarCtrl [MFC], MoveButton
- CToolBarCtrl [MFC], PressButton
- CToolBarCtrl [MFC], ReplaceBitmap
- CToolBarCtrl [MFC], RestoreState
- CToolBarCtrl [MFC], SaveState
- CToolBarCtrl [MFC], SetAnchorHighlight
- CToolBarCtrl [MFC], SetBitmapSize
- CToolBarCtrl [MFC], SetButtonInfo
- CToolBarCtrl [MFC], SetButtonSize
- CToolBarCtrl [MFC], SetButtonStructSize
- CToolBarCtrl [MFC], SetButtonWidth
- CToolBarCtrl [MFC], SetCmdID
- CToolBarCtrl [MFC], SetColorScheme
- CToolBarCtrl [MFC], SetDisabledImageList
- CToolBarCtrl [MFC], SetDrawTextFlags
- CToolBarCtrl [MFC], SetExtendedStyle
- CToolBarCtrl [MFC], SetHotImageList
- CToolBarCtrl [MFC], SetHotItem
- CToolBarCtrl [MFC], SetImageList
- CToolBarCtrl [MFC], SetIndent
- CToolBarCtrl [MFC], SetInsertMark
- CToolBarCtrl [MFC], SetInsertMarkColor
- CToolBarCtrl [MFC], SetMaxTextRows
- CToolBarCtrl [MFC], SetMetrics
- CToolBarCtrl [MFC], SetOwner
- CToolBarCtrl [MFC], SetPadding
- CToolBarCtrl [MFC], SetPressedImageList
- CToolBarCtrl [MFC], SetRows
- CToolBarCtrl [MFC], SetState
- CToolBarCtrl [MFC], SetStyle
- CToolBarCtrl [MFC], SetToolTips
- CToolBarCtrl [MFC], SetWindowTheme
ms.assetid: 8f2f8ad2-05d7-4975-8715-3f2eed795248
ms.openlocfilehash: 50d3174d4569392be72efdad338eeaac3154ec56
ms.sourcegitcommit: 7a6116e48c3c11b97371b8ae4ecc23adce1f092d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/22/2020
ms.locfileid: "81752227"
---
# <a name="ctoolbarctrl-class"></a>CToolBarCtrl 类

提供 Windows 工具栏公共控件的功能。

## <a name="syntax"></a>语法

```
class CToolBarCtrl : public CWnd
```

## <a name="members"></a>成员

### <a name="public-constructors"></a>公共构造函数

|名称|说明|
|----------|-----------------|
|[CToolBarCtrl：CToolBarCtrl](#ctoolbarctrl)|构造 `CToolBarCtrl` 对象。|

### <a name="public-methods"></a>公共方法

|名称|说明|
|----------|-----------------|
|[CToolBarCtrl：：添加比特图](#addbitmap)|将一个或多个位图按钮图像添加到可用于工具栏控件的按钮图像列表中。|
|[CToolBarCtrl：：添加按钮](#addbuttons)|将一个或多个按钮添加到工具栏控件。|
|[CToolBarCtrl：：添加String](#addstring)|将作为资源 ID 传递的新字符串添加到工具栏的内部字符串列表中。|
|[CToolBarCtrl：：添加字符串](#addstrings)|将新的字符串或字符串（作为指向空分隔字符串的缓冲区的指针）传递到工具栏的内部字符串列表中。|
|[CToolBarCtrl：自动调整](#autosize)|调整工具栏控件的大小。|
|[CToolBarCtrl：：更改位图](#changebitmap)|更改当前工具栏控件中按钮的位图。|
|[CToolBarCtrl：：检查按钮](#checkbutton)|检查或清除工具栏控件中的给定按钮。|
|[CToolBarctrl：：命令索引](#commandtoindex)|检索与指定命令标识符关联的按钮的零基索引。|
|[CToolBarCtrl：：创建](#create)|创建工具栏控件并将其附加到`CToolBarCtrl`对象。|
|[CToolBarCtrl：：创建Ex](#createex)|使用指定的 Windows 扩展样式创建工具栏控件，并将其附加到`CToolBarCtrl`对象。|
|[CToolBarCtrl：自定义](#customize)|显示"自定义工具栏"对话框。|
|[CToolBarCtrl：:DeleteButton](#deletebutton)|从工具栏控件中删除按钮。|
|[CToolBarCtrl：：启用按钮](#enablebutton)|启用或禁用工具栏控件中的指定按钮。|
|[CToolBarCtrl：：获取锚点突出显示](#getanchorhighlight)|检索工具栏的锚点高光设置。|
|[CToolBarCtrl：：获取比特图](#getbitmap)|检索与工具栏中的按钮关联的位图的索引。|
|[CToolBarCtrl：：获取比特映射标记](#getbitmapflags)|获取与工具栏位图关联的标志。|
|[CToolBarCtrl：获取按钮](#getbutton)|检索有关工具栏控件中指定按钮的信息。|
|[CToolBarCtrl：：获取按钮计数](#getbuttoncount)|检索工具栏控件中当前按钮的计数。|
|[CToolBarCtrl：：获取按钮信息](#getbuttoninfo)|检索工具栏中按钮的信息。|
|[CToolBarCtrl：获取按钮大小](#getbuttonsize)|检索工具栏按钮的当前宽度和高度（以像素为单位）。|
|[CToolBarCtrl：获取颜色方案](#getcolorscheme)|检索当前工具栏控件的配色方案。|
|[CToolBarCtrl：获取禁用图像列表](#getdisabledimagelist)|检索工具栏控件用于显示禁用按钮的图像列表。|
|[CToolBarCtrl：：获取DropTarget](#getdroptarget)|检索工具栏控件的[IDropTarget](/windows/win32/api/oleidl/nn-oleidl-idroptarget)界面。|
|[CToolBarCtrl：：获取扩展样式](#getextendedstyle)|检索工具栏控件的扩展样式。|
|[CToolBarCtrl：获取HotImage列表](#gethotimagelist)|检索工具栏控件用于显示"热"按钮的图像列表。 当鼠标指针位于其上方时，将显示一个热按钮。|
|[CToolBarCtrl：获取Hot项目](#gethotitem)|检索工具栏中热项的索引。|
|[CToolBarCtrl：获取图片列表](#getimagelist)|检索工具栏控件用于以默认状态显示按钮的图像列表。|
|[CToolBarCtrl：：获取插入标记](#getinsertmark)|检索工具栏的当前插入标记。|
|[CToolBarCtrl：：获取插入标记颜色](#getinsertmarkcolor)|检索用于绘制工具栏插入标记的颜色。|
|[CToolBarCtrl：：获取项目](#getitemrect)|检索工具栏控件中按钮的边界矩形。|
|[CToolBarCtrl：获取最大尺寸](#getmaxsize)|检索工具栏中所有可见按钮和分隔符的总大小。|
|[CToolBarCtrl：：获取最大文本行](#getmaxtextrows)|检索工具栏按钮上显示的最大文本行数。|
|[CToolBarCtrl：获取指标](#getmetrics)|检索工具栏控件的指标。|
|[CToolBarCtrl：：获取填充](#getpadding)|检索当前工具栏控件的水平和垂直填充。|
|[CToolBarCtrl：获取被压图像列表](#getpressedimagelist)|检索当前工具栏控件用于表示处于按下状态的按钮的图像列表。|
|[CToolBarCtrl：：获取Rect](#getrect)|检索指定工具栏按钮的边界矩形。|
|[CToolBarCtrl：：获取](#getrows)|检索工具栏中当前显示的按钮行数。|
|[CToolBarCtrl：获取状态](#getstate)|检索有关工具栏控件中指定按钮的状态的信息，例如是启用、按下还是选中该按钮。|
|[CToolBarCtrl：：GetString](#getstring)|检索工具栏字符串。|
|[CToolBarCtrl：：获取样式](#getstyle)|检索当前用于工具栏控件的样式。|
|[CToolBarCtrl：获取工具提示](#gettooltips)|检索与工具栏控件关联的工具尖端控件的句柄（如果有）。|
|[CToolBarCtrl：隐藏按钮](#hidebutton)|在工具栏控件中隐藏或显示指定的按钮。|
|[CToolBarCtrl：hitTest](#hittest)|确定点位于工具栏控件的位置。|
|[CToolBarctrl：：不确定](#indeterminate)|设置或清除工具栏控件中指定按钮的不确定（灰色）状态。|
|[CToolBarCtrl：：插入按钮](#insertbutton)|在工具栏控件中插入按钮。|
|[CToolBarCtrl：：插入标记命中测试](#insertmarkhittest)|检索工具栏中点的插入标记信息。|
|[CToolBarCtrl：：是按钮检查](#isbuttonchecked)|告诉是否选中工具栏控件中的指定按钮。|
|[CToolBarCtrl：即启用按钮](#isbuttonenabled)|告诉工具栏控件中的指定按钮是否已启用。|
|[CToolBarCtrl：：是按钮隐藏](#isbuttonhidden)|告诉工具栏控件中的指定按钮是否隐藏。|
|[CToolBarCtrl：：按键突出显示](#isbuttonhighlighted)|检查工具栏按钮的突出显示状态。|
|[CToolBarctrl：：是按钮不确定](#isbuttonindeterminate)|告知工具栏控件中指定按钮的状态是否不确定（灰色）。|
|[CToolBarCtrl：：按键](#isbuttonpressed)|告诉是否按下工具栏控件中的指定按钮。|
|[CToolBarCtrl：：加载图像](#loadimages)|将位图加载到工具栏控件的图像列表中。|
|[CToolBarCtrl：：地图加速器](#mapaccelerator)|将快捷键字符映射到工具栏按钮。|
|[CToolBarCtrl：：标记按钮](#markbutton)|设置工具栏控件中给定按钮的突出显示状态。|
|[CToolBarCtrl：：移动按钮](#movebutton)|将按钮从一个索引移动到另一个索引。|
|[CToolBarCtrl：:PresButton](#pressbutton)|按下或释放工具栏控件中的指定按钮。|
|[CToolBarCtrl：：替换位图](#replacebitmap)|将当前工具栏控件中的现有位图替换为新的位图。|
|[CToolBarCtrl：：恢复状态](#restorestate)|还原工具栏控件的状态。|
|[CToolBarCtrl：：保存状态](#savestate)|保存工具栏控件的状态。|
|[CToolBarCtrl：：设置锚点高光](#setanchorhighlight)|设置工具栏的锚点高光设置。|
|[CToolBarCtrl：：设置位图大小](#setbitmapsize)|设置要添加到工具栏控件的位映射图像的大小。|
|[CToolBarCtrl：：设置按钮信息](#setbuttoninfo)|设置工具栏中现有按钮的信息。|
|[CToolBarCtrl：：设置按钮大小](#setbuttonsize)|设置要添加到工具栏控件的按钮的大小。|
|[CToolBarctrl：：设置按钮结构大小](#setbuttonstructsize)|指定结构的大小`TBBUTTON`。|
|[CToolBarCtrl：：设置按钮宽度](#setbuttonwidth)|设置工具栏控件中的最小和最大按钮宽度。|
|[CToolBarCtrl：：SetCmdID](#setcmdid)|设置在按下指定按钮时要发送到所有者窗口的命令标识符。|
|[CToolBarCtrl：：设置颜色方案](#setcolorscheme)|设置当前工具栏控件的配色方案。|
|[CToolBarCtrl：：设置禁用图像列表](#setdisabledimagelist)|设置工具栏控件将用于显示禁用按钮的图像列表。|
|[CToolBarCtrl：：设置绘制文本标志](#setdrawtextflags)|设置 Win32 函数[DrawText](/windows/win32/api/winuser/nf-winuser-drawtext)中的标志 ，用于在指定的矩形中绘制文本，根据标志的设置方式进行格式化。|
|[CToolBarCtrl：：设置扩展样式](#setextendedstyle)|设置工具栏控件的扩展样式。|
|[CToolBarCtrl：：设置HotImage列表](#sethotimagelist)|设置工具栏控件将用于显示"热"按钮的图像列表。|
|[CToolBarCtrl：：设置Hot项目](#sethotitem)|在工具栏中设置热项。|
|[CToolBarCtrl：：设置图像列表](#setimagelist)|设置工具栏用于显示处于默认状态的按钮的图像列表。|
|[CToolBarctrl：setindent](#setindent)|设置工具栏控件中第一个按钮的缩进。|
|[CToolBarCtrl：：设置插入标记](#setinsertmark)|设置工具栏的当前插入标记。|
|[CToolBarCtrl：：设置插入标记颜色](#setinsertmarkcolor)|设置用于绘制工具栏插入标记的颜色。|
|[CToolBarCtrl：：设置MaxTextRows](#setmaxtextrows)|设置工具栏按钮上显示的最大文本行数。|
|[CToolBarCtrl：：设置指标](#setmetrics)|设置工具栏控件的指标。|
|[CToolBarCtrl：：SetOwner](#setowner)|设置窗口以接收来自工具栏控件的通知消息。|
|[CToolBarCtrl：：设置](#setpadding)|设置当前工具栏控件的水平和垂直填充。|
|[CToolBarCtrl：：设置被压抑的图像列表](#setpressedimagelist)|设置当前工具栏控件用于表示处于按下状态的按钮的图像列表。|
|[CToolBarCtrl：：SetRows](#setrows)|设置工具栏中显示的按钮行数。|
|[CToolBarCtrl：：设置状态](#setstate)|设置工具栏控件中指定按钮的状态。|
|[CToolBarCtrl：：设置样式](#setstyle)|设置工具栏控件的样式。|
|[CToolBarCtrl：：设置工具提示](#settooltips)|将工具尖端控件与工具栏控件关联。|
|[CToolBarctrl：：设置窗口主题](#setwindowtheme)|设置工具栏控件的可视样式。|

## <a name="remarks"></a>备注

此控件（因此该`CToolBarCtrl`类）仅适用于在 Windows 95/98 和 Windows NT 版本 3.51 及更高版本下运行的程序。

Windows 工具栏公共控件是包含一个或多个按钮的矩形子窗口。 这些按钮可以显示位图图像、字符串或两者。 当用户选择一个按钮时，它会向工具栏的所有者窗口发送命令消息。 通常，工具栏中的按钮对应于应用程序菜单中的项;它们为用户提供了一种更直接的方式来访问应用程序的命令。

`CToolBarCtrl`对象包含几个重要的内部数据结构：按钮图像位图或图像列表的列表、按钮标签字符串的列表以及将图像和/或字符串与按钮的位置`TBBUTTON`、样式、状态和命令 ID 相关联的结构列表。 这些数据结构的每个元素都用零基索引来引用。 在使用`CToolBarCtrl`对象之前，必须设置这些数据结构。 字符串列表只能用于按钮标签;因此，字符串列表只能用于按钮标签。无法从工具栏检索字符串。

为了使用 `CToolBarCtrl` 对象，您通常将执行下列步骤：

1. 构造 `CToolBarCtrl` 对象。

1. 调用["创建](#create)"以创建 Windows 工具栏通用控件并将其附加到`CToolBarCtrl`对象。 使用样式指示工具栏的样式，例如为透明工具栏TBSTYLE_TRANSPARENT，或支持下拉样式按钮的工具栏TBSTYLE_DROPDOWN。

1. 确定您希望工具栏上的按钮显示方式：

   - 要将位图图像用于按钮，请通过调用[AddBitmap](#addbitmap)将按钮位图添加到工具栏。

   - 要使用从图像列表中显示的图像进行按钮，请通过调用[SetImageList、SetHotImageList](#sethotimagelist)或["设置禁用图像列表](#setdisabledimagelist)"来指定图像列表。 [SetImageList](#setimagelist)

   - 要对按钮使用字符串标签，请使用调用[AddString](#addstring)和/或[AddString](#addstrings)将字符串添加到工具栏中。

1. 通过调用[AddButton](#addbuttons)向工具栏添加按钮结构。

1. 如果要在所有者窗口中的工具栏按钮（不是`CFrameWnd`）中查找工具提示，则需要处理工具栏所有者窗口中TTN_NEEDTEXT消息，如["处理工具提示通知"](../../mfc/handling-tool-tip-notifications.md)中所述。 如果工具栏的父窗口派生自`CFrameWnd`，则不会显示工具提示，因为`CFrameWnd`提供了默认处理程序，因此无需进行任何额外工作。

1. 如果希望用户能够自定义工具栏，请在所有者窗口中处理自定义通知消息，如[处理自定义通知](../../mfc/handling-customization-notifications.md)中所述。

您可以使用[SaveState](#savestate)在注册表和[RestoreState](#restorestate)中保存工具栏控件的当前状态，以便根据以前存储在注册表中的信息还原状态。 除了在应用程序使用之间保存工具栏状态外，应用程序通常在用户开始自定义工具栏之前存储该状态，以防用户以后希望将工具栏还原到其原始状态。

## <a name="support-for-internet-explorer-version-40-and-later"></a>支持 IE 浏览器版本 4.0 及更高版本

为了支持 Internet Explorer 版本 4.0 及更高版本中引入的功能，MFC 为工具栏控件提供图像列表支持以及透明和平面样式。

透明工具栏允许工具栏下的客户端显示通过。 要创建透明工具栏，请使用TBSTYLE_FLAT和TBSTYLE_TRANSPARENT样式。 透明工具栏具有热跟踪功能;也就是说，当鼠标指针在工具栏上的热按钮上移动时，按钮的外观会发生变化。 仅使用TBSTYLE_FLAT样式创建的工具栏将包含不透明的按钮。

图像列表支持允许对默认行为、热图像和禁用图像进行更大的灵活性。 使用[GetImageList、GetHotImageList](#gethotimagelist)和["获取禁用图像列表](#getdisabledimagelist)"使用透明工具栏根据其状态操作图像： [GetImageList](#getimagelist)

有关 使用`CToolBarCtrl`的详细信息，请参阅[控件](../../mfc/controls-mfc.md)[和使用 CToolBarCtrl](../../mfc/using-ctoolbarctrl.md)。

## <a name="inheritance-hierarchy"></a>继承层次结构

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

`CToolBarCtrl`

## <a name="requirements"></a>要求

**标头：** afxcmn.h

## <a name="ctoolbarctrladdbitmap"></a><a name="addbitmap"></a>CToolBarCtrl：：添加比特图

将一个或多个按钮图像添加到工具栏控件中存储的按钮图像列表中。

```
int AddBitmap(
    int nNumButtons,
    UINT nBitmapID);

int AddBitmap(
    int nNumButtons,
    CBitmap* pBitmap);
```

### <a name="parameters"></a>参数

*nNumButtons*<br/>
位图中的按钮图像数。

*nBitmapID*<br/>
包含要添加的按钮图像或图像的位图的资源标识符。

*pBitmap*<br/>
指向包含要`CBitmap`添加的按钮图像或图像的对象的指针。

### <a name="return-value"></a>返回值

第一个新图像的零基索引（如果成功）;否则 - 1。

### <a name="remarks"></a>备注

在将位图添加到工具栏之前，可以使用 Windows API[创建映射位映射](/windows/win32/api/commctrl/nf-commctrl-createmappedbitmap)来映射颜色。 如果将指针传递给`CBitMap`对象，则必须确保在销毁工具栏之前不会销毁位图。

## <a name="ctoolbarctrladdbuttons"></a><a name="addbuttons"></a>CToolBarCtrl：：添加按钮

将一个或多个按钮添加到工具栏控件。

```
BOOL AddButtons(
    int nNumButtons,
    LPTBBUTTON lpButtons);
```

### <a name="parameters"></a>参数

*nNumButtons*<br/>
要添加的按钮数。

*lpButtons*<br/>
包含要添加的按钮`TBBUTTON`的信息的结构数组的地址。 数组中的元素数必须与*nNumButton 指定的*按钮数量相同。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

### <a name="remarks"></a>备注

*lpButtons*指针指向结构数组`TBBUTTON`。 每个`TBBUTTON`结构将添加的按钮与按钮的样式、图像和/或字符串、命令 ID、状态和用户定义的数据关联：

```cpp
typedef struct _TBBUTTON {
    int iBitmap;    // zero-based index of button image
    int idCommand;  // command to be sent when button pressed
    BYTE fsState;   // button state--see below
    BYTE fsStyle;   // button style--see below
    DWORD dwData;   // application-defined value
    int iString;    // zero-based index of button label string
} TBBUTTON;
```

成员如下：

- `iBitmap`

   按钮图像的零索引，如果此按钮没有图像，则为 -1。

- `idCommand`

   与按钮关联的命令标识符。 选择按钮时，该标识符以WM_COMMAND消息发送。 如果`fsStyle`成员具有TBSTYLE_SEP值，则此成员必须为零。

- `fsState`

   按钮状态标志。 它可以是下面列出的值的组合：

  - TBSTATE_CHECKED 按钮具有TBSTYLE_CHECKED样式，正在按下。

  - TBSTATE_ENABLED 该按钮接受用户输入。 没有此状态的按钮不接受用户输入，并且为灰色。

  - TBSTATE_HIDDEN 该按钮不可见，无法接收用户输入。

  - TBSTATE_INDETERMINATE 该按钮为灰色。

  - TBSTATE_PRESSED 按下按钮。

  - TBSTATE_WRAP按钮后面的换行符。 该按钮还必须具有TBSTATE_ENABLED状态。

- `fsStyle`

   按钮样式。 它可以是下面列出的值的组合：

  - TBSTYLE_BUTTON 创建标准按钮。

  - TBSTYLE_CHECK 创建一个按钮，每次用户单击按下状态和未按下状态时切换该按钮。 当按钮处于按下状态时，其背景颜色不同。

  - TBSTYLE_CHECKGROUP 创建一个检查按钮，直到按下组中的另一个按钮。

  - TBSTYLE_GROUP 创建一个按钮，直到按下组中的另一个按钮。

  - TBSTYLE_SEP 创建分隔符，在按钮组之间提供一个小间隙。 具有此样式的按钮不会接收用户输入。

- `dwData`

   用户定义的数据。

- `iString`

   字符串的零索引用作按钮的标签，如果此按钮没有字符串，则为 -1。

提供索引的图像和/或字符串以前必须使用[AddBitmap、AddString](#addbitmap)和/或[AddString](#addstrings)添加到工具栏控件[AddString](#addstring)列表中。

## <a name="ctoolbarctrladdstring"></a><a name="addstring"></a>CToolBarCtrl：：添加String

将作为资源 ID 传递的新字符串添加到工具栏的内部字符串列表中。

```
int AddString(UINT nStringID);
```

### <a name="parameters"></a>参数

*恩斯特林ID*<br/>
要添加到工具栏控件的字符串列表的字符串资源的资源标识符。

### <a name="return-value"></a>返回值

如果成功，则添加第一个新字符串的零基索引;否则 -1。

## <a name="ctoolbarctrladdstrings"></a><a name="addstrings"></a>CToolBarCtrl：：添加字符串

将新字符串或字符串添加到可用于工具栏控件的字符串列表中。

```
int AddStrings(LPCTSTR lpszStrings);
```

### <a name="parameters"></a>参数

*lpsz字符串*<br/>
包含一个或多个要添加到工具栏字符串列表的空终止字符串的缓冲区的地址。 最后一个字符串必须用两个空字符终止。

### <a name="return-value"></a>返回值

如果成功，则添加第一个新字符串的零基索引;否则 -1。

### <a name="remarks"></a>备注

缓冲区中的字符串必须用空字符分隔。 必须确保最后一个字符串具有两个空终止符。 要正确格式化常量字符串，可以将其编写为：

[!code-cpp[NVC_MFCControlLadenDialog#72](../../mfc/codesnippet/cpp/ctoolbarctrl-class_1.cpp)]

或：

[!code-cpp[NVC_MFCControlLadenDialog#73](../../mfc/codesnippet/cpp/ctoolbarctrl-class_2.cpp)]

不应将`CString`对象传递给此函数，因为 不可能在 中`CString`具有多个空字符。

## <a name="ctoolbarctrlautosize"></a><a name="autosize"></a>CToolBarCtrl：自动调整

调整整个工具栏控件的大小。

```cpp
void AutoSize();
```

### <a name="remarks"></a>备注

当父窗口大小发生变化或工具栏大小更改时（例如设置按钮或位图大小或添加字符串时），应调用此函数。

## <a name="ctoolbarctrlchangebitmap"></a><a name="changebitmap"></a>CToolBarCtrl：：更改位图

更改当前工具栏控件中按钮的位图。

```
BOOL ChangeBitmap(
    int idButton,
    int iBitmap);
```

### <a name="parameters"></a>参数

|参数|说明|
|---------------|-----------------|
|*idButton*|[在]要接收新位图的按钮的命令标识符。|
|*iBitmap*|[在]当前工具栏控件的图像列表中图像的基于零的索引。|

### <a name="return-value"></a>返回值

如果此方法成功，则为 TRUE;否则，FALSE。

### <a name="remarks"></a>备注

如果此方法成功，系统将在指定的按钮中显示指定的图像。

此方法发送[TB_CHANGEBITMAP](/windows/win32/Controls/tb-changebitmap)消息，这在 Windows SDK 中介绍。

### <a name="example"></a>示例

以下代码示例将 **"文件保存**"按钮的位图更改为 **"关于**"按钮的位图。

[!code-cpp[NVC_MFC_CToolBarCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctoolbarctrl-class_3.cpp)]

## <a name="ctoolbarctrlcheckbutton"></a><a name="checkbutton"></a>CToolBarCtrl：：检查按钮

检查或清除工具栏控件中的给定按钮。

```
BOOL CheckButton(
    int nID,
    BOOL bCheck = TRUE);
```

### <a name="parameters"></a>参数

*nID*<br/>
要检查或清除的按钮的命令标识符。

*b检查*<br/>
TRUE 检查按钮，FALSE 将其清除。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

### <a name="remarks"></a>备注

选中按钮后，该按钮似乎已按下。 如果要更改多个按钮状态，请考虑改为调用[SetState。](#setstate)

## <a name="ctoolbarctrlcommandtoindex"></a><a name="commandtoindex"></a>CToolBarctrl：：命令索引

检索与指定命令标识符关联的按钮的零基索引。

```
UINT CommandToIndex(UINT nID) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
要查找其按钮索引的命令 ID。

### <a name="return-value"></a>返回值

与命令 ID 关联的按钮的零基索引。

### <a name="remarks"></a>备注

## <a name="ctoolbarctrlcreate"></a><a name="create"></a>CToolBarCtrl：：创建

创建工具栏控件并将其附加到`CToolBarCtrl`对象。

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>参数

*dwStyle*<br/>
指定工具栏控件的样式。 工具栏必须始终具有WS_CHILD样式。 此外，还可以指定工具栏样式和窗口样式的任意组合，如**备注**项下所述。

*矩形*<br/>
可选地指定工具栏控件的大小和位置。 它可以是[CRect](../../atl-mfc-shared/reference/crect-class.md)对象或[RECT](/windows/win32/api/windef/ns-windef-rect)结构。

*pparentwnd*<br/>
指定工具栏控件的父窗口。 值不得为 NULL。

*nID*<br/>
指定工具栏控件的 ID。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

### <a name="remarks"></a>备注

在两个步骤`CToolBarCtrl`中构造 一个。 首先调用构造函数，然后调用`Create`，这将创建工具栏控件并将其附加到`CToolBarCtrl`对象。 将以下窗口样式应用于工具栏控件。

- WS_CHILD始终

- WS_VISIBLE 通常

- WS_DISABLED很少

有关窗口样式的说明，请参阅 Windows SDK 中[创建窗口](/windows/win32/api/winuser/nf-winuser-createwindoww)。

或者，应用[通用控件样式](/windows/win32/Controls/common-control-styles)的组合，如 Windows SDK 中所述。

将工具栏样式的组合应用于控件或按钮本身。 这些样式在 Windows SDK 中的主题[工具栏控件和按钮样式](/windows/win32/Controls/toolbar-control-and-button-styles)中介绍。

要使用扩展工具栏样式，请调用`Create`后调用 Set[扩展样式](#setextendedstyle)。 要创建具有扩展窗口样式的工具栏，请致电[CToolBarCtrl：：createEx](#createex)而不是`Create`。

工具栏控件会自动设置工具栏窗口的大小和位置。 高度基于工具栏中按钮的高度。 宽度与父窗口工作区的宽度相同。 CCS_TOP和CCS_BOTTOM样式确定工具栏是沿工作区的顶部还是底部放置。 默认情况下，工具栏具有CCS_TOP样式。

## <a name="ctoolbarctrlcreateex"></a><a name="createex"></a>CToolBarCtrl：：创建Ex

创建控件（子窗口），并将其与`CToolBarCtrl`对象关联。

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>参数

*dwExStyle*<br/>
指定要创建的控件的扩展样式。 有关扩展 Windows 样式的列表，请参阅 Windows SDK 中[创建 WindowEx](/windows/win32/api/winuser/nf-winuser-createwindowexw)的*dwExStyle*参数。

*dwStyle*<br/>
指定工具栏控件的样式。 工具栏必须始终具有WS_CHILD样式。 此外，还可以指定工具栏样式和窗口样式的任意组合，如["创建](#create)**"的备注**部分所述。

*矩形*<br/>
对[RECT](/windows/win32/api/windef/ns-windef-rect)结构的引用，描述要创建的窗口的大小和位置，在*pParentWnd*的客户端坐标中。

*pparentwnd*<br/>
指向控件的父窗口的指针。

*nID*<br/>
控件的子窗口 ID。

### <a name="return-value"></a>返回值

如果成功，则不为 0；否则为 0。

### <a name="remarks"></a>备注

使用`CreateEx`而不是["创建](#create)"来应用扩展的 Windows 样式，该样式由 Windows 扩展样式前言**WS_EX_** 指定。 `CreateEx`使用*dwExStyle*指定的扩展 Windows 样式创建控件。 使用[Set 扩展样式](#setextendedstyle)设置特定于控件的扩展样式。 例如，用于`CreateEx`将此类样式设置为WS_EX_CONTEXTHELP，但用于`SetExtendedStyle`将此类样式设置为TBSTYLE_EX_DRAWDDARROWS。 有关详细信息，请参阅 Windows SDK 中的[工具栏扩展样式中描述的样式](/windows/win32/Controls/toolbar-extended-styles)。

## <a name="ctoolbarctrlctoolbarctrl"></a><a name="ctoolbarctrl"></a>CToolBarCtrl：CToolBarCtrl

构造 `CToolBarCtrl` 对象。

```
CToolBarCtrl();
```

### <a name="remarks"></a>备注

必须调用[Create](#create)以使工具栏可用。

## <a name="ctoolbarctrlcustomize"></a><a name="customize"></a>CToolBarCtrl：自定义

显示"自定义工具栏"对话框。

```cpp
void Customize();
```

### <a name="remarks"></a>备注

此对话框允许用户通过添加和删除按钮来自定义工具栏。 要支持自定义，工具栏的父窗口必须处理自定义通知消息，如[处理自定义通知](../../mfc/handling-customization-notifications.md)中所述。 工具栏也必须使用CCS_ADJUSTABLE样式创建，如[CToolBarCtrl：：create](#create)中所述。

## <a name="ctoolbarctrldeletebutton"></a><a name="deletebutton"></a>CToolBarCtrl：:DeleteButton

从工具栏控件中删除按钮。

```
BOOL DeleteButton(int nIndex);
```

### <a name="parameters"></a>参数

*nIndex*<br/>
要删除的按钮的零索引。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

### <a name="remarks"></a>备注

## <a name="ctoolbarctrlenablebutton"></a><a name="enablebutton"></a>CToolBarCtrl：：启用按钮

启用或禁用工具栏控件中的指定按钮。

```
BOOL EnableButton(
    int nID,
    BOOL bEnable = TRUE);
```

### <a name="parameters"></a>参数

*nID*<br/>
要启用或禁用按钮的命令标识符。

*b 启用*<br/>
TRUE 启用按钮;FALSE 以禁用按钮。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

### <a name="remarks"></a>备注

启用按钮后，可以按下并检查该按钮。 如果要更改多个按钮状态，请考虑改为调用[SetState。](#setstate)

## <a name="ctoolbarctrlgetanchorhighlight"></a><a name="getanchorhighlight"></a>CToolBarCtrl：：获取锚点突出显示

检索工具栏的锚点高光设置。

```
BOOL GetAnchorHighlight() const;
```

### <a name="return-value"></a>返回值

如果未为零，则启用锚点突出显示。 如果为零，则禁用锚点突出显示。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[的行为TB_GETANCHORHIGHLIGHT](/windows/win32/Controls/tb-getanchorhighlight)，如 Windows SDK 中所述。

## <a name="ctoolbarctrlgetbitmap"></a><a name="getbitmap"></a>CToolBarCtrl：：获取比特图

检索与工具栏中的按钮关联的位图的索引。

```
int GetBitmap(int nID) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
要检索其位图索引的按钮的命令标识符。

### <a name="return-value"></a>返回值

如果成功，则返回位图的索引，否则返回零。

### <a name="remarks"></a>备注

在 Windows SDK 中实现[TB_GETBITMAP](/windows/win32/Controls/tb-getbitmap)的功能。

## <a name="ctoolbarctrlgetbitmapflags"></a><a name="getbitmapflags"></a>CToolBarCtrl：：获取比特映射标记

从工具栏检索位图标志。

```
UINT GetBitmapFlags() const;
```

### <a name="return-value"></a>返回值

如果显示屏可以支持大型工具栏位图，则具有TBBF_LARGE标志集的 UINT，否则清除。

### <a name="remarks"></a>备注

应在创建工具栏后，但在将位图添加到工具栏之前调用它。 返回值指示显示器是否支持大位图。 如果显示支持大位图，并且如果您选择使用它们，请调用[SetBitmapSize 和](#setbitmapsize) [SetButtonSize，](#setbuttonsize)然后再使用[AddBitmap](#addbitmap)添加大位图。

## <a name="ctoolbarctrlgetbutton"></a><a name="getbutton"></a>CToolBarCtrl：获取按钮

检索有关工具栏控件中指定按钮的信息。

```
BOOL GetButton(
    int nIndex,
    LPTBBUTTON lpButton) const;
```

### <a name="parameters"></a>参数

*nIndex*<br/>
用于检索信息的按钮的零索引。

*lpButton*<br/>
要接收按钮`TBBUTTON`信息副本的结构的地址。 有关结构的信息，`TBBUTTON`请参阅[CToolBarCtrl：添加按钮](#addbuttons)。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

## <a name="ctoolbarctrlgetbuttoncount"></a><a name="getbuttoncount"></a>CToolBarCtrl：：获取按钮计数

检索工具栏控件中当前按钮的计数。

```
int GetButtonCount() const;
```

### <a name="return-value"></a>返回值

按钮的计数。

## <a name="ctoolbarctrlgetbuttoninfo"></a><a name="getbuttoninfo"></a>CToolBarCtrl：：获取按钮信息

检索工具栏中按钮的信息。

```
int GetButtonInfo(
    int nID,
    TBBUTTONINFO* ptbbi) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
按钮标识符。

*普特比*<br/>
指向接收按钮信息的[TBBUTTONINFO](/windows/win32/api/commctrl/ns-commctrl-tbbuttoninfow)结构的指针。

### <a name="return-value"></a>返回值

按钮的零基索引（如果成功）;否则 -1。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_GETBUTTONINFO](/windows/win32/Controls/tb-getbuttoninfo)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlgetbuttonsize"></a><a name="getbuttonsize"></a>CToolBarCtrl：获取按钮大小

获取工具栏按钮的大小。

```
DWORD GetButtonSize() const;
```

### <a name="return-value"></a>返回值

分别包含 LOWORD 和 HIWORD 中的宽度和高度值的 DWORD 值。

## <a name="ctoolbarctrlgetbuttontext"></a><a name="getbuttontext"></a>CToolBarCtrl：获取按钮文本

检索当前工具栏控件上指定按钮的显示文本。

```
CString GetButtonText(int idButton) const;
```

### <a name="parameters"></a>参数

|参数|说明|
|---------------|-----------------|
|*idButton*|[在]其显示文本检索的按钮的标识符。|

### <a name="return-value"></a>返回值

包含指定按钮的显示文本的[CString。](../../atl-mfc-shared/using-cstring.md)

### <a name="remarks"></a>备注

此方法发送[TB_GETBUTTONTEXT](/windows/win32/Controls/tb-getbuttontext)消息，这在 Windows SDK 中介绍。

## <a name="ctoolbarctrlgetcolorscheme"></a><a name="getcolorscheme"></a>CToolBarCtrl：获取颜色方案

检索当前工具栏控件的配色方案。

```
BOOL GetColorScheme(COLORSCHEME* lpColorScheme) const;
```

### <a name="parameters"></a>参数

|参数|说明|
|---------------|-----------------|
|*lpColor计划*|[出]指向接收配色方案信息的[COLORSCHEME](/windows/win32/api/commctrl/ns-commctrl-colorscheme)结构的指针。 当此方法返回时，结构将描述工具栏控件的高光颜色和阴影颜色。|

### <a name="return-value"></a>返回值

如果此方法成功，则为 TRUE;否则，FALSE。

### <a name="remarks"></a>备注

此方法发送[TB_GETCOLORSCHEME](/windows/win32/Controls/tb-getcolorscheme)消息，这在 Windows SDK 中介绍。

## <a name="ctoolbarctrlgetdisabledimagelist"></a><a name="getdisabledimagelist"></a>CToolBarCtrl：获取禁用图像列表

检索工具栏控件用于显示禁用按钮的图像列表。

```
CImageList* GetDisabledImageList() const;
```

### <a name="return-value"></a>返回值

指向[CImageList](../../mfc/reference/cimagelist-class.md)对象的指针，如果未设置禁用的图像列表，则指向 NULL。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_GETDISABLEDIMAGELIST](/windows/win32/Controls/tb-getdisabledimagelist)的行为，如 Windows SDK 中所述。 的`GetDisabledImageList`MFC 实现使用`CImageList`包含工具栏控件的按钮图像的对象，而不是图像列表的句柄。

## <a name="ctoolbarctrlgetdroptarget"></a><a name="getdroptarget"></a>CToolBarCtrl：：获取DropTarget

检索工具栏控件的[IDropTarget](/windows/win32/api/oleidl/nn-oleidl-idroptarget)界面。

```
HRESULT GetDropTarget(IDropTarget** ppDropTarget) const;
```

### <a name="parameters"></a>参数

*ppDrop目标*<br/>
指向[IDropTarget](/windows/win32/api/oleidl/nn-oleidl-idroptarget)接口指针的指针。 如果发生错误，则在此地址中放置 NULL 指针。

### <a name="return-value"></a>返回值

返回指示操作成功或失败的 HRESULT 值。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_GETOBJECT](/windows/win32/Controls/tb-getobject)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlgetextendedstyle"></a><a name="getextendedstyle"></a>CToolBarCtrl：：获取扩展样式

检索工具栏控件的扩展样式。

```
DWORD GetExtendedStyle() const;
```

### <a name="return-value"></a>返回值

表示工具栏控件当前使用的扩展样式的 DWORD。 有关样式列表，请参阅 Windows SDK 中的[工具栏扩展样式](/windows/win32/Controls/toolbar-extended-styles)。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_GETEXTENDEDSTYLE](/windows/win32/Controls/tb-getextendedstyle)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlgethotimagelist"></a><a name="gethotimagelist"></a>CToolBarCtrl：获取HotImage列表

检索工具栏控件用于显示"热"按钮的图像列表。 当鼠标指针位于其上方时，将显示一个热按钮。

```
CImageList* GetHotImageList() const;
```

### <a name="return-value"></a>返回值

指向[CImageList](../../mfc/reference/cimagelist-class.md)对象的指针，如果未设置禁用的图像列表，则指向 NULL。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[的行为TB_GETHOTIMAGELIST](/windows/win32/Controls/tb-gethotimagelist)，如 Windows SDK 中所述。 当鼠标指针位于其上方时，将显示一个热按钮。

## <a name="ctoolbarctrlgethotitem"></a><a name="gethotitem"></a>CToolBarCtrl：获取Hot项目

检索工具栏中热项的索引。

```
int GetHotItem() const;
```

### <a name="return-value"></a>返回值

工具栏中热项的零基索引。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_GETHOTITEM](/windows/win32/Controls/tb-gethotitem)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlgetimagelist"></a><a name="getimagelist"></a>CToolBarCtrl：获取图片列表

检索工具栏控件用于以默认状态显示按钮的图像列表。

```
CImageList* GetImageList() const;
```

### <a name="return-value"></a>返回值

指向[CImageList](../../mfc/reference/cimagelist-class.md)对象的指针，如果未设置图像列表，则为 NULL。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[的行为TB_GETIMAGELIST，](/windows/win32/Controls/tb-getimagelist)如 Windows SDK 中所述。

## <a name="ctoolbarctrlgetinsertmark"></a><a name="getinsertmark"></a>CToolBarCtrl：：获取插入标记

检索工具栏的当前插入标记。

```cpp
void GetInsertMark(TBINSERTMARK* ptbim) const;
```

### <a name="parameters"></a>参数

*普比姆*<br/>
指向接收插入标记的[TB INSERTMARK](/windows/win32/api/commctrl/ns-commctrl-tbinsertmark)结构的指针。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_GETINSERTMARK](/windows/win32/Controls/tb-getinsertmark)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlgetinsertmarkcolor"></a><a name="getinsertmarkcolor"></a>CToolBarCtrl：：获取插入标记颜色

检索用于绘制工具栏插入标记的颜色。

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>返回值

包含当前插入标记颜色的 COLORREF 值。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_GETINSERTMARKCOLOR](/windows/win32/Controls/tb-getinsertmarkcolor)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlgetitemrect"></a><a name="getitemrect"></a>CToolBarCtrl：：获取项目

检索工具栏控件中按钮的边界矩形。

```
BOOL GetItemRect(
    int nIndex,
    LPRECT lpRect) const;
```

### <a name="parameters"></a>参数

*nIndex*<br/>
用于检索信息的按钮的零索引。

*lpRect*<br/>
接收边界矩形坐标的[RECT](/windows/win32/api/windef/ns-windef-rect)结构或[CRect](../../atl-mfc-shared/reference/crect-class.md)对象的地址。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

### <a name="remarks"></a>备注

此函数不检索其状态设置为TBSTATE_HIDDEN的按钮的边界矩形。

## <a name="ctoolbarctrlgetmaxsize"></a><a name="getmaxsize"></a>CToolBarCtrl：获取最大尺寸

检索工具栏中所有可见按钮和分隔符的总大小。

```
BOOL GetMaxSize(LPSIZE pSize) const;
```

### <a name="parameters"></a>参数

*pSize*<br/>
指向接收项大小的[SIZE](/windows/win32/api/windef/ns-windef-size)结构的指针。

### <a name="return-value"></a>返回值

如果成功，则不为 0；否则为 0。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_GETMAXSIZE](/windows/win32/Controls/tb-getmaxsize)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlgetmaxtextrows"></a><a name="getmaxtextrows"></a>CToolBarCtrl：：获取最大文本行

检索工具栏按钮上显示的最大文本行数。

```
int GetMaxTextRows() const;
```

### <a name="return-value"></a>返回值

工具栏按钮上显示的最大文本行数。

## <a name="ctoolbarctrlgetmetrics"></a><a name="getmetrics"></a>CToolBarCtrl：获取指标

检索`CToolBarCtrl`对象的指标。

```cpp
void GetMetrics(LPTBMETRICS ptbm) const;
```

### <a name="parameters"></a>参数

*ptbm*<br/>
指向对象的[TBMETRICS](/windows/win32/api/commctrl/ns-commctrl-tbmetrics)结构的`CToolBarCtrl`指针。

### <a name="remarks"></a>备注

此成员函数模拟[TB_GETMETRICS](/windows/win32/Controls/tb-getmetrics)消息的功能，如 Windows SDK 中所述。

## <a name="ctoolbarctrlgetpadding"></a><a name="getpadding"></a>CToolBarCtrl：：获取填充

检索当前工具栏控件的水平和垂直填充。

```
BOOL GetPadding(
    int* pnHorzPadding,
    int* pnVertPadding) const;
```

### <a name="parameters"></a>参数

|参数|说明|
|---------------|-----------------|
|*pnHorzPadding*|[出]以像素为单位接收工具栏控件的水平填充的整数。|
|*pnVertpadding*|[出]以像素为单位接收工具栏控件的垂直填充的整数。|

### <a name="return-value"></a>返回值

如果此方法成功，则为 TRUE;否则，FALSE。

### <a name="remarks"></a>备注

此方法发送[TB_GETPADDING](/windows/win32/Controls/tb-getpadding)消息，这在 Windows SDK 中介绍。

## <a name="ctoolbarctrlgetpressedimagelist"></a><a name="getpressedimagelist"></a>CToolBarCtrl：获取被压图像列表

检索当前工具栏控件用于表示处于按下状态的按钮的图像列表。

```
CImageList* GetPressedImageList();
```

### <a name="return-value"></a>返回值

指向包含当前控件的图像列表的[CImageList 的](../../mfc/reference/cimagelist-class.md)指针，如果没有设置此类图像列表，则指向 NULL。

### <a name="remarks"></a>备注

此方法发送[TB_GETPRESSEDIMAGELIST](/windows/win32/Controls/tb-getpressedimagelist)消息，这在 Windows SDK 中介绍。

## <a name="ctoolbarctrlgetrect"></a><a name="getrect"></a>CToolBarCtrl：：获取Rect

检索指定工具栏按钮的边界矩形。

```
BOOL GetRect(
    int nID,
    LPRECT lpRect) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
按钮标识符。

*lpRect*<br/>
指向[RECT](/windows/win32/api/windef/ns-windef-rect)结构的指针，用于接收边界矩形信息。

### <a name="return-value"></a>返回值

若成功，则为 TRUE；否则为 FALSE。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_GETRECT](/windows/win32/Controls/tb-getrect)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlgetrows"></a><a name="getrows"></a>CToolBarCtrl：：获取

检索工具栏控件当前显示的按钮行数。

```
int GetRows() const;
```

### <a name="return-value"></a>返回值

工具栏上当前显示的按钮行数。

### <a name="remarks"></a>备注

请注意，除非使用TBSTYLE_WRAPABLE样式创建工具栏，否则行数将始终为 1。

## <a name="ctoolbarctrlgetstate"></a><a name="getstate"></a>CToolBarCtrl：获取状态

检索有关工具栏控件中指定按钮的状态的信息，例如是启用、按下还是选中该按钮。

```
int GetState(int nID) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
要为其检索信息的按钮的命令标识符。

### <a name="return-value"></a>返回值

如果成功或 - 1，按钮状态信息。 按钮状态信息可以是[CToolBarCtrl 中列出的值的组合：：addButton。](#addbuttons)

### <a name="remarks"></a>备注

如果要检索多个按钮状态，此功能特别方便。 要检索一个状态，请使用以下成员函数之一：[启用"正在按钮](#isbuttonenabled)"、"[已选中"、"](#isbuttonchecked)[按按钮"、"](#isbuttonpressed)[正在隐藏](#isbuttonhidden)"或["IsButton 不确定"。](#isbuttonindeterminate) 但是，`GetState`成员函数是检测TBSTATE_WRAP按钮状态的唯一方法。

## <a name="ctoolbarctrlgetstring"></a><a name="getstring"></a>CToolBarCtrl：：GetString

检索工具栏字符串。

```
int GetString(
    int nString,
    LPTSTR lpstrString,
    int cchMaxLen) const;

int GetString(
    int nString,
    CString& str) const;
```

### <a name="parameters"></a>参数

nString**<br/>
字符串的索引。

*lpstrString*<br/>
指向用于返回字符串的缓冲区的指针。

*chMaxLen*<br/>
缓冲区的长度（以字节为单位）。

*Str*<br/>
字符串。

### <a name="return-value"></a>返回值

如果成功，字符串的长度将 -1（如果不是）。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_GETSTRING](/windows/win32/Controls/tb-getstring)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlgetstyle"></a><a name="getstyle"></a>CToolBarCtrl：：获取样式

获取当前应用于工具栏控件的样式。

```
DWORD GetStyle() const;
```

### <a name="return-value"></a>返回值

包含[工具栏控件样式](/windows/win32/Controls/toolbar-control-and-button-styles)组合的 DWORD，如 Windows SDK 中所述。

## <a name="ctoolbarctrlgettooltips"></a><a name="gettooltips"></a>CToolBarCtrl：获取工具提示

检索与工具栏控件关联的工具尖端控件的句柄（如果有）。

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>返回值

如果工具栏没有关联的工具提示控件，则指向与此工具栏关联的[CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md)对象的指针或 NULL。

### <a name="remarks"></a>备注

由于工具栏控件通常创建并维护其自己的工具提示控件，因此大多数程序不需要调用此函数。

## <a name="ctoolbarctrlhittest"></a><a name="hittest"></a>CToolBarCtrl：hitTest

确定点位于工具栏控件的位置。

```
int HitTest(LPPOINT ppt) const;
```

### <a name="parameters"></a>参数

*Ppt*<br/>
指向[POINT](/windows/win32/api/windef/ns-windef-point)结构的指针，该结构包含`x`成员中命中测试的 x 坐标和`y`成员中命中测试的 y 坐标。 坐标相对于工具栏的工作区。

### <a name="return-value"></a>返回值

指示点在工具栏上的位置的整数值。 如果该值为零或为正值，则此返回值是点所在的非分离器项的零基索引。

如果返回值为负，则点不在按钮内。 返回值的绝对值是分隔符项或最近的非分离项的索引。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_HITTEST](/windows/win32/Controls/tb-hittest)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlhidebutton"></a><a name="hidebutton"></a>CToolBarCtrl：隐藏按钮

在工具栏控件中隐藏或显示指定的按钮。

```
BOOL HideButton(
    int nID,
    BOOL bHide = TRUE);
```

### <a name="parameters"></a>参数

*nID*<br/>
要隐藏或显示的按钮的命令标识符。

*bHide*<br/>
TRUE 隐藏按钮，FALSE 显示它。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

### <a name="remarks"></a>备注

如果要更改多个按钮状态，请考虑改为调用[SetState。](#setstate)

## <a name="ctoolbarctrlindeterminate"></a><a name="indeterminate"></a>CToolBarctrl：：不确定

设置或清除工具栏控件中指定按钮的不确定状态。

```
BOOL Indeterminate(
    int nID,
    BOOL bIndeterminate = TRUE);
```

### <a name="parameters"></a>参数

*nID*<br/>
要设置或清除其不确定状态的按钮的命令标识符。

*b 不确定*<br/>
TRUE 设置为指定按钮的不确定状态，FALSE 将其清除。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

### <a name="remarks"></a>备注

不确定按钮显示为灰色，例如当所选文本同时包含粗体字符和常规字符时，字处理器工具栏上的粗体按钮的外观。 如果要更改多个按钮状态，请考虑改为调用[SetState。](#setstate)

## <a name="ctoolbarctrlinsertbutton"></a><a name="insertbutton"></a>CToolBarCtrl：：插入按钮

在工具栏控件中插入按钮。

```
BOOL InsertButton(
    int nIndex,
    LPTBBUTTON lpButton);
```

### <a name="parameters"></a>参数

*nIndex*<br/>
按钮的零索引。 此功能在此按钮左侧插入新按钮。

*lpButton*<br/>
包含要插入`TBBUTTON`的按钮信息的结构的地址。 有关`TBBUTTON`结构的说明，请参阅[CToolBarCtrl：添加按钮](#addbuttons)。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

### <a name="remarks"></a>备注

提供索引的图像和/或字符串以前必须使用[AddBitmap、AddString](#addbitmap)和/或[AddString](#addstrings)添加到工具栏控件[AddString](#addstring)列表中。

## <a name="ctoolbarctrlinsertmarkhittest"></a><a name="insertmarkhittest"></a>CToolBarCtrl：：插入标记命中测试

检索工具栏中点的插入标记信息。

```
BOOL InsertMarkHitTest(
    LPPOINT ppt,
    LPTBINSERTMARK ptbim) const;
```

### <a name="parameters"></a>参数

*Ppt*<br/>
指向 POINT[结构的](/windows/win32/api/windef/ns-windef-point)指针，该结构包含命中测试坐标，相对于工具栏的工作区区域。

*普比姆*<br/>
指向接收插入标记信息的[TB INSERTMARK](/windows/win32/api/commctrl/ns-commctrl-tbinsertmark)结构的指针。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_INSERTMARKHITTEST](/windows/win32/Controls/tb-insertmarkhittest)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlisbuttonchecked"></a><a name="isbuttonchecked"></a>CToolBarCtrl：：是按钮检查

确定是否选中工具栏控件中的指定按钮。

```
BOOL IsButtonChecked(int nID) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
工具栏中按钮的命令标识符。

### <a name="return-value"></a>返回值

如果选中按钮，则非零;否则为零。

### <a name="remarks"></a>备注

如果要检索多个按钮状态，请考虑调用[GetState。](#getstate)

## <a name="ctoolbarctrlisbuttonenabled"></a><a name="isbuttonenabled"></a>CToolBarCtrl：即启用按钮

确定是否启用了工具栏控件中的指定按钮。

```
BOOL IsButtonEnabled(int nID) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
工具栏中按钮的命令标识符。

### <a name="return-value"></a>返回值

如果启用了按钮，则非零;否则为零。

### <a name="remarks"></a>备注

如果要检索多个按钮状态，请考虑调用[GetState。](#getstate)

## <a name="ctoolbarctrlisbuttonhidden"></a><a name="isbuttonhidden"></a>CToolBarCtrl：：是按钮隐藏

确定工具栏控件中的指定按钮是否隐藏。

```
BOOL IsButtonHidden(int nID) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
工具栏中按钮的命令标识符。

### <a name="return-value"></a>返回值

如果按钮隐藏，则非零;否则为零。

### <a name="remarks"></a>备注

如果要检索多个按钮状态，请考虑调用[GetState。](#getstate)

## <a name="ctoolbarctrlisbuttonhighlighted"></a><a name="isbuttonhighlighted"></a>CToolBarCtrl：：按键突出显示

检查工具栏按钮的突出显示状态。

```
BOOL IsButtonHighlighted(int nID) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
[在]工具栏按钮的命令 ID。

### <a name="return-value"></a>返回值

如果按钮高亮显示，则为正整数;如果未突出显示按钮，则为 0;如果发生错误，则为 -1。

## <a name="ctoolbarctrlisbuttonindeterminate"></a><a name="isbuttonindeterminate"></a>CToolBarctrl：：是按钮不确定

确定工具栏控件中的指定按钮是否不确定。

```
BOOL IsButtonIndeterminate(int nID) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
[在]工具栏中按钮的命令标识符。

### <a name="return-value"></a>返回值

如果按钮不确定，则为正整数;如果按钮不确定为零;如果发生错误，为 -1。

### <a name="remarks"></a>备注

不确定按钮显示为灰色，例如当所选文本同时包含粗体和常规字符时，字处理器工具栏上的粗体按钮的外观。 如果要检索多个按钮状态，请考虑调用[GetState。](#getstate)

## <a name="ctoolbarctrlisbuttonpressed"></a><a name="isbuttonpressed"></a>CToolBarCtrl：：按键

确定是否按下工具栏控件中的指定按钮。

```
BOOL IsButtonPressed(int nID) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
工具栏中按钮的命令标识符。

### <a name="return-value"></a>返回值

如果按下按钮，则非零，否则为零。

### <a name="remarks"></a>备注

如果要检索多个按钮状态，请考虑调用[GetState。](#getstate)

## <a name="ctoolbarctrlloadimages"></a><a name="loadimages"></a>CToolBarCtrl：：加载图像

将位图加载到工具栏控件的图像列表中。

```cpp
void LoadImages(
    int iBitmapID,
    HINSTANCE hinst);
```

### <a name="parameters"></a>参数

*iBitmapID*<br/>
包含要加载的图像的位图的 ID。 要指定自己的位图资源，请为此参数设置为位图资源的 ID，并将*hInst*设置为 NULL。 您的位图资源将作为单个图像添加到图像列表中。 通过将*hinst*设置为HINST_COMMCTRL并将此参数设置为以下 ID 之一，可以添加标准、系统定义的位图：

|位图 ID|说明|
|---------------|-----------------|
|IDB_HIST_LARGE_COLOR|大型资源管理器位图|
|IDB_HIST_SMALL_COLOR|小型资源管理器位图|
|IDB_STD_LARGE_COLOR|大尺寸的标准位图|
|IDB_STD_SMALL_COLOR|小尺寸的标准位图|
|IDB_VIEW_LARGE_COLOR|查看大尺寸位图|
|IDB_VIEW_SMALL_COLOR|查看小尺寸位图|

*欣斯特*<br/>
对调用应用程序的程序实例句柄。 可以HINST_COMMCTRL此参数来加载标准映像列表。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_LOADIMAGES](/windows/win32/Controls/tb-loadimages)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlmapaccelerator"></a><a name="mapaccelerator"></a>CToolBarCtrl：：地图加速器

将快捷键字符映射到工具栏按钮。

```
BOOL MapAccelerator(
    TCHAR chAccel,
    UINT* pIDBtn);
```

### <a name="parameters"></a>参数

*查克尔*<br/>
要映射的加速器字符。 此字符与按钮文本中带下划线字符的字符相同。

*pIDBtn*<br/>
指向 UINT 的指针，该指针接收对应于*chAccel*中指定的加速器的按钮的命令标识符。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[的行为TB_MAPACCELERATOR](/windows/win32/Controls/tb-mapaccelerator)，如 Windows SDK 中所述。

## <a name="ctoolbarctrlmarkbutton"></a><a name="markbutton"></a>CToolBarCtrl：：标记按钮

设置工具栏控件中给定按钮的突出显示状态。

```
BOOL MarkButton(
    int nID,
    BOOL fHighlight = TRUE);
```

### <a name="parameters"></a>参数

*nID*<br/>
按钮标识符。

*f 突出显示*<br/>
指定要设置的高光状态。 默认情况下，TRUE。 如果设置为 FALSE，则按钮将设置为其默认状态。

### <a name="return-value"></a>返回值

如果成功，则不为 0；否则为 0。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_MARKBUTTON](/windows/win32/Controls/tb-markbutton)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlmovebutton"></a><a name="movebutton"></a>CToolBarCtrl：：移动按钮

将按钮从一个索引移动到另一个索引。

```
BOOL MoveButton(
    UINT nOldPos,
    UINT nNewPos);
```

### <a name="parameters"></a>参数

*内奥德波斯*<br/>
要移动的按钮的零基索引。

*n 纽波斯*<br/>
按钮目标的零基索引。

### <a name="return-value"></a>返回值

如果成功，则不为 0；否则为 0。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_MOVEBUTTON](/windows/win32/Controls/tb-movebutton)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlpressbutton"></a><a name="pressbutton"></a>CToolBarCtrl：:PresButton

按下或释放工具栏控件中的指定按钮。

```
BOOL PressButton(int nID, BOOL bPress = TRUE);
```

### <a name="parameters"></a>参数

*nID*<br/>
[在]要按下或释放按钮的命令标识符。

*bPress*<br/>
[在]TRUE 以按指定的按钮;FALSE 以释放指定的按钮。 默认值为 TRUE。

### <a name="return-value"></a>返回值

如果方法成功，则为 TRUE;否则，FALSE。

### <a name="remarks"></a>备注

如果要更改多个按钮状态，请考虑改为调用[SetState。](#setstate)

此方法发送[TB_PRESSBUTTON](/windows/win32/Controls/tb-pressbutton)消息，这在 Windows SDK 中介绍。

## <a name="ctoolbarctrlreplacebitmap"></a><a name="replacebitmap"></a>CToolBarCtrl：：替换位图

将当前工具栏控件中的现有位图替换为新的位图。

```
BOOL ReplaceBitmap(LPTBREPLACEBITMAP pReplaceBitmap);
```

### <a name="parameters"></a>参数

|参数|说明|
|---------------|-----------------|
|*p 替换位图*|[在]指向[TBREPLACEBITMAP](/windows/win32/api/commctrl/ns-commctrl-tbreplacebitmap)结构的指针，该结构描述要替换的位图和新的位图。|

### <a name="return-value"></a>返回值

如果此方法成功，则为 TRUE;否则，FALSE。

### <a name="remarks"></a>备注

此方法发送[TB_REPLACEBITMAP](/windows/win32/Controls/tb-replacebitmap)消息，这在 Windows SDK 中介绍。

### <a name="example"></a>示例

以下代码示例将标准工具栏的位图替换为不同的位图。

[!code-cpp[NVC_MFC_CToolBarCtrl_s1#2](../../mfc/reference/codesnippet/cpp/ctoolbarctrl-class_4.cpp)]

## <a name="ctoolbarctrlrestorestate"></a><a name="restorestate"></a>CToolBarCtrl：：恢复状态

从参数指定的注册表中的位置还原工具栏控件的状态。

```cpp
void RestoreState(
    HKEY hKeyRoot,
    LPCTSTR lpszSubKey,
    LPCTSTR lpszValueName);
```

### <a name="parameters"></a>参数

*hKeyRoot*<br/>
标识注册表中当前打开的密钥或以下任何预定义的保留句柄值：

- HKEY_CLASSES_ROOT

- HKEY_CURRENT_USER

- HKEY_LOCAL_MACHINE

- HKEY_USERS

*lpszSubkey*<br/>
指向包含与该值关联的子键的名称的 null 端接字符串。 此参数可以是 null 或指向空字符串的指针。 如果参数为 NULL，则该值将添加到*hKeyRoot*参数标识的键中。

*lpszValue名称*<br/>
指向包含要检索的值的名称的字符串。 如果具有此名称的值在键中不存在，则函数将其添加到键中。

## <a name="ctoolbarctrlsavestate"></a><a name="savestate"></a>CToolBarCtrl：：保存状态

将工具栏控件的状态保存在参数指定的注册表中的位置。

```cpp
void SaveState(
    HKEY hKeyRoot,
    LPCTSTR lpszSubKey,
    LPCTSTR lpszValueName);
```

### <a name="parameters"></a>参数

*hKeyRoot*<br/>
标识注册表中当前打开的密钥或以下任何预定义的保留句柄值：

- HKEY_CLASSES_ROOT

- HKEY_CURRENT_USER

- HKEY_LOCAL_MACHINE

- HKEY_USERS

*lpszSubkey*<br/>
指向包含与该值关联的子键的名称的 null 端接字符串。 此参数可以是 null 或指向空字符串的指针。 如果参数为 NULL，则该值将添加到*hKeyRoot*参数标识的键中。

*lpszValue名称*<br/>
指向包含要设置的值名称的字符串。 如果具有此名称的值在键中不存在，则函数将其添加到键中。

## <a name="ctoolbarctrlsetanchorhighlight"></a><a name="setanchorhighlight"></a>CToolBarCtrl：：设置锚点高光

设置工具栏的锚点高光设置。

```
BOOL SetAnchorHighlight(BOOL fAnchor = TRUE);
```

### <a name="parameters"></a>参数

*fAnchor*<br/>
[在]指定是启用或禁用锚点突出显示。 如果此值为非零，则将启用锚点突出显示。 如果此值为零，将禁用锚点突出显示

### <a name="return-value"></a>返回值

上一个锚点设置。 如果启用了突出显示，则此值为非零。 如果未启用突出显示，则此值为零。

### <a name="remarks"></a>备注

此方法实现 Win32 消息[TB_SETANCHORHIGHLIGHT](/windows/win32/Controls/tb-setanchorhighlight)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlsetbitmapsize"></a><a name="setbitmapsize"></a>CToolBarCtrl：：设置位图大小

设置要添加到工具栏控件的实际位映射图像的大小。

```
BOOL SetBitmapSize(CSize size);
```

### <a name="parameters"></a>参数

size <br/>
位映射图像的宽度和高度（以像素为单位）。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

### <a name="remarks"></a>备注

只有在向工具栏添加任何位图之前，才能调用此功能。 如果应用程序未显式设置位图大小，则默认为 16 x 15 像素。

## <a name="ctoolbarctrlsetbuttoninfo"></a><a name="setbuttoninfo"></a>CToolBarCtrl：：设置按钮信息

设置工具栏中现有按钮的信息。

```
BOOL SetButtonInfo(
    int nID,
    TBBUTTONINFO* ptbbi);
```

### <a name="parameters"></a>参数

*nID*<br/>
按钮标识符。

*普特比*<br/>
指向接收按钮信息的[TBBUTTONINFO](/windows/win32/api/commctrl/ns-commctrl-tbbuttoninfow)结构的指针。

### <a name="return-value"></a>返回值

如果成功，则不为 0；否则为 0。

### <a name="remarks"></a>备注

成员函数实现 Win32 消息[TB_SETBUTTONINFO](/windows/win32/Controls/tb-setbuttoninfo)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlsetbuttonsize"></a><a name="setbuttonsize"></a>CToolBarCtrl：：设置按钮大小

设置工具栏控件中按钮的大小。

```
BOOL SetButtonSize(CSize size);
```

### <a name="parameters"></a>参数

size <br/>
按钮的宽度和高度（以像素为单位）。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

### <a name="remarks"></a>备注

按钮大小必须始终至少与它所包含的位图大小一样大。 只有在向工具栏添加任何位图之前，才能调用此功能。 如果应用程序未显式设置按钮大小，则默认为 24 x 22 像素。

### <a name="example"></a>示例

  请参阅[CToolBar 的示例：获取工具栏。](../../mfc/reference/ctoolbar-class.md#gettoolbarctrl)

## <a name="ctoolbarctrlsetbuttonstructsize"></a><a name="setbuttonstructsize"></a>CToolBarctrl：：设置按钮结构大小

指定结构的大小`TBBUTTON`。

```cpp
void SetButtonStructSize(int nSize);
```

### <a name="parameters"></a>参数

*nSize*<br/>
`TBBUTTON`结构的大小（以字节为单位）。

### <a name="remarks"></a>备注

如果要在`TBBUTTON`结构中存储额外的数据，可以从 中派生新结构`TBBUTTON`，添加所需的成员，或者创建一个包含`TBBUTTON`结构作为其第一个成员的新结构。 然后，您将调用此函数告诉工具栏控制新结构的大小。

有关`TBBUTTON`结构的详细信息，请参阅[CToolBarCtrl：添加按钮](#addbuttons)。

## <a name="ctoolbarctrlsetbuttonwidth"></a><a name="setbuttonwidth"></a>CToolBarCtrl：：设置按钮宽度

设置工具栏控件中的最小和最大按钮宽度。

```
BOOL SetButtonWidth(
    int cxMin,
    int cxMax);
```

### <a name="parameters"></a>参数

*cxMin*<br/>
最小按钮宽度（以像素为单位）。 工具栏按钮永远不会比此值窄。

*cxMax*<br/>
最大按钮宽度（以像素为单位）。 如果按钮文本太宽，控件将显示它与省略点。

### <a name="return-value"></a>返回值

如果成功，则不为 0；否则为 0。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_SETBUTTONWIDTH](/windows/win32/Controls/tb-setbuttonwidth)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlsetcmdid"></a><a name="setcmdid"></a>CToolBarCtrl：：SetCmdID

设置按下指定按钮时将发送到所有者窗口的命令标识符。

```
BOOL SetCmdID(
    int nIndex,
    UINT nID);
```

### <a name="parameters"></a>参数

*nIndex*<br/>
要设置其命令 ID 的按钮的零基索引。

*nID*<br/>
要将所选按钮设置为的命令 ID。

### <a name="return-value"></a>返回值

如果成功，则返回非零;否则为零。

## <a name="ctoolbarctrlsetcolorscheme"></a><a name="setcolorscheme"></a>CToolBarCtrl：：设置颜色方案

设置当前工具栏控件的配色方案。

```cpp
void SetColorScheme(const COLORSCHEME* lpColorScheme);
```

### <a name="parameters"></a>参数

|参数|说明|
|---------------|-----------------|
|*lpColor计划*|[在]指向描述工具栏控件的高光颜色和阴影颜色的[COLORSCHEME](/windows/win32/api/commctrl/ns-commctrl-colorscheme)结构的指针。|

### <a name="remarks"></a>备注

如果设置了 Windows Vista 视觉主题，则此方法不起作用。

此方法发送[TB_SETCOLORSCHEME](/windows/win32/Controls/tb-setcolorscheme)消息，这在 Windows SDK 中介绍。

### <a name="example"></a>示例

以下代码示例设置当前工具栏控件的配色方案。 代码示例使每个工具按钮的左边缘和上边缘为红色，右边缘和下边缘为蓝色。 当用户按下按钮时，按钮的红色边缘变为蓝色，其蓝色边缘变为红色。

[!code-cpp[NVC_MFC_CToolBarCtrl_s1#3](../../mfc/reference/codesnippet/cpp/ctoolbarctrl-class_5.cpp)]

## <a name="ctoolbarctrlsetdisabledimagelist"></a><a name="setdisabledimagelist"></a>CToolBarCtrl：：设置禁用图像列表

设置工具栏控件将用于显示禁用按钮的图像列表。

```
CImageList* SetDisabledImageList(CImageList* pImageList);
```

### <a name="parameters"></a>参数

*pImageList*<br/>
指向包含工具栏控件`CImageList`用于显示禁用按钮图像的图像的对象的指针。

### <a name="return-value"></a>返回值

指向以前由工具栏控件用于显示禁用按钮图像的[CImageList](../../mfc/reference/cimagelist-class.md)对象的指针。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[的行为TB_SETDISABLEDIMAGELIST](/windows/win32/Controls/tb-setdisabledimagelist)，如 Windows SDK 中所述。 的`SetDisabledImageList`MFC 实现使用`CImageList`包含工具栏控件禁用按钮图像的对象，而不是图像列表的句柄。

## <a name="ctoolbarctrlsetdrawtextflags"></a><a name="setdrawtextflags"></a>CToolBarCtrl：：设置绘制文本标志

设置 Win32 函数[DrawText](/windows/win32/api/winuser/nf-winuser-drawtext)中的标志 ，用于在指定的矩形中绘制文本，根据标志的设置方式进行格式化。

```
DWORD SetDrawTextFlags(
    DWORD dwMask,
    DWORD dwDTFlags);
```

### <a name="parameters"></a>参数

*dwMask*<br/>
Win32 函数[DrawText](/windows/win32/api/winuser/nf-winuser-drawtext)中指定的一个或多个DT_标志的组合，指示在绘制文本时将使用*dwDTFlags*中的哪些位。

*dwDTFlags*<br/>
Win32 函数`DrawText`中指定的一个或多个DT_标志的组合，指示按钮文本的绘制方式。 绘制按钮文本`DrawText`时，此值将传递给该值。

### <a name="return-value"></a>返回值

包含前一个文本绘图标志的 DWORD。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[的行为TB_SETDRAWTEXTFLAGS](/windows/win32/Controls/tb-setdrawtextflags)，如 Windows SDK 中所述。 此成员函数设置 Win32 函数中的标志`DrawText`，该函数在指定的矩形中绘制文本，根据标志的设置方式进行格式化。

## <a name="ctoolbarctrlsetextendedstyle"></a><a name="setextendedstyle"></a>CToolBarCtrl：：设置扩展样式

设置工具栏控件的扩展样式。

```
DWORD SetExtendedStyle(DWORD dwExStyle);
```

### <a name="parameters"></a>参数

*dwExStyle*<br/>
指定新扩展样式的值。 此参数可以是工具栏扩展样式的组合。

### <a name="return-value"></a>返回值

表示以前扩展样式的 DWORD。 有关样式列表，请参阅 Windows SDK 中的[工具栏扩展样式](/windows/win32/Controls/toolbar-extended-styles)。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_SETEXTENDEDSTYLE](/windows/win32/Controls/tb-setextendedstyle)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlsethotimagelist"></a><a name="sethotimagelist"></a>CToolBarCtrl：：设置HotImage列表

设置工具栏控件将用于显示"热"按钮的图像列表。

```
CImageList* SetHotImageList(CImageList* pImageList);
```

### <a name="parameters"></a>参数

*pImageList*<br/>
指向包含工具栏控件`CImageList`用于显示热按钮图像的图像的对象的指针。

### <a name="return-value"></a>返回值

指向以前由工具栏控件用于显示热按钮图像的[CImageList](../../mfc/reference/cimagelist-class.md)对象的指针。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_SETHOTIMAGELIST](/windows/win32/Controls/tb-sethotimagelist)的行为，如 Windows SDK 中所述。

的`SetHotImageList`MFC 实现使用`CImageList`包含工具栏控件的热按钮图像的对象，而不是图像列表的句柄。 当指针位于其上方时，将显示一个热按钮突出显示。

## <a name="ctoolbarctrlsethotitem"></a><a name="sethotitem"></a>CToolBarCtrl：：设置Hot项目

在工具栏中设置热项。

```
int SetHotItem(int nHot);
```

### <a name="parameters"></a>参数

*nHot*<br/>
将变得热的项的零基索引编号。 如果此值为 -1，则任何项都不会是热的。

### <a name="return-value"></a>返回值

上一个热项的索引，如果没有热项，则为 -1。

### <a name="remarks"></a>备注

此成员函数实现 win32 消息[TB_SETHOTITEM](/windows/win32/Controls/tb-sethotitem)的行为，如 Windows SDK 中所述。

## <a name="ctoolbarctrlsetimagelist"></a><a name="setimagelist"></a>CToolBarCtrl：：设置图像列表

设置工具栏用于显示处于默认状态的按钮的图像列表。

```
CImageList* SetImageList(CImageList* pImageList);
```

### <a name="parameters"></a>参数

*pImageList*<br/>
指向`CImageList`包含工具栏控件用于以显示其默认状态的按钮图像的对象的指针。

### <a name="return-value"></a>返回值

指向[CImageList](../../mfc/reference/cimagelist-class.md)对象的指针，以前工具栏控件用于以显示其默认状态的按钮图像。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[TB_SETIMAGELIST](/windows/win32/Controls/tb-setimagelist)的行为，如 Windows SDK 中所述。

的`SetImageList`MFC 实现使用`CImageList`包含工具栏控件的按钮图像的对象，而不是图像列表的句柄。

## <a name="ctoolbarctrlsetindent"></a><a name="setindent"></a>CToolBarctrl：setindent

设置工具栏控件中第一个按钮的缩进。

```
BOOL SetIndent(int iIndent);
```

### <a name="parameters"></a>参数

*iindent*<br/>
指定缩进的值（以像素为单位）。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

## <a name="ctoolbarctrlsetinsertmark"></a><a name="setinsertmark"></a>CToolBarCtrl：：设置插入标记

设置工具栏的当前插入标记。

```cpp
void SetInsertMark(TBINSERTMARK* ptbim);
```

### <a name="parameters"></a>参数

*普比姆*<br/>
指向包含插入标记的[TB INSERTMARK](/windows/win32/api/commctrl/ns-commctrl-tbinsertmark)结构的指针。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[的行为TB_SETINSERTMARK，](/windows/win32/Controls/tb-setinsertmark)如 Windows SDK 中所述。

## <a name="ctoolbarctrlsetinsertmarkcolor"></a><a name="setinsertmarkcolor"></a>CToolBarCtrl：：设置插入标记颜色

设置用于绘制工具栏插入标记的颜色。

```
COLORREF SetInsertMarkColor(COLORREF clrNew);
```

### <a name="parameters"></a>参数

*clrNew*<br/>
包含新插入标记颜色的 COLORREF 值。

### <a name="return-value"></a>返回值

包含上一个插入标记颜色的 COLORREF 值。

### <a name="remarks"></a>备注

此成员函数实现 Win32 消息[的行为TB_SETINSERTMARKCOLOR](/windows/win32/Controls/tb-setinsertmarkcolor)，如 Windows SDK 中所述。

## <a name="ctoolbarctrlsetmaxtextrows"></a><a name="setmaxtextrows"></a>CToolBarCtrl：：设置MaxTextRows

设置工具栏按钮上显示的最大文本行数。

```
BOOL SetMaxTextRows(int iMaxRows);
```

### <a name="parameters"></a>参数

*iMaxRows*<br/>
要设置的最大行数。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

## <a name="ctoolbarctrlsetmetrics"></a><a name="setmetrics"></a>CToolBarCtrl：：设置指标

设置`CToolBarCtrl`对象的指标。

```cpp
void SetMetrics(LPTBMETRICS ptbm);
```

### <a name="parameters"></a>参数

*ptbm*<br/>
指向对象的[TBMETRICS](/windows/win32/api/commctrl/ns-commctrl-tbmetrics)结构的`CToolBarCtrl`指针。

### <a name="remarks"></a>备注

此成员函数模拟[TB_SETMETRICS](/windows/win32/Controls/tb-setmetrics)消息的功能，如 Windows SDK 中所述。

## <a name="ctoolbarctrlsetowner"></a><a name="setowner"></a>CToolBarCtrl：：SetOwner

设置工具栏控件的所有者窗口。

```cpp
void SetOwner(CWnd* pWnd);
```

### <a name="parameters"></a>参数

*pwnd*<br/>
指向`CWnd`或`CWnd`派生对象的指针，该对象将成为工具栏控件的新所有者窗口。

### <a name="remarks"></a>备注

所有者窗口是从工具栏接收通知的窗口。

## <a name="ctoolbarctrlsetpadding"></a><a name="setpadding"></a>CToolBarCtrl：：设置

设置当前工具栏控件的水平和垂直填充。

```
DWORD SetPadding(
    int nHorzPadding,
    int nVertPadding);
```

### <a name="parameters"></a>参数

|参数|说明|
|---------------|-----------------|
|*nHorzPadding*|[在]指定工具栏控件的水平填充（以像素为单位）。|
|*nVertPadding*|[在]指定工具栏控件的垂直填充（以像素为单位）。|

### <a name="return-value"></a>返回值

低字包含上一个水平填充值的 DWORD，其高字包含以前的垂直填充值。 填充值以像素为单位进行测量。

### <a name="remarks"></a>备注

此方法发送[TB_SETPADDING](/windows/win32/Controls/tb-setpadding)消息，这在 Windows SDK 中介绍。

### <a name="example"></a>示例

以下代码示例将当前工具栏控件的水平和垂直填充集为 20 像素。

[!code-cpp[NVC_MFC_CToolBarCtrl_s1#4](../../mfc/reference/codesnippet/cpp/ctoolbarctrl-class_6.cpp)]

## <a name="ctoolbarctrlsetpressedimagelist"></a><a name="setpressedimagelist"></a>CToolBarCtrl：：设置被压抑的图像列表

设置当前工具栏控件用于表示处于按下状态的按钮的图像列表。

```
CImagelist* SetPressedImageList(
    int iImageID,
    CImageList* pImageList);
```

### <a name="parameters"></a>参数

|参数|说明|
|---------------|-----------------|
|*iImageID*|[在]图像列表的零基索引。 如果仅使用一个图像列表，则此参数将设置为零。|
|*pImageList*|[在]指向包含新图像列表的[CImageList 的](../../mfc/reference/cimagelist-class.md)指针。|

### <a name="return-value"></a>返回值

指向包含当前控件的上一个图像列表的[CImageList](../../mfc/reference/cimagelist-class.md)的指针，如果没有设置此类图像列表，则指向 NULL。

### <a name="remarks"></a>备注

此方法发送[TB_SETPRESSEDIMAGELIST](/windows/win32/Controls/tb-setpressedimagelist)消息，这在 Windows SDK 中介绍。

### <a name="example"></a>示例

以下代码示例将按下的图像列表设置为与默认图像列表相同的图像列表。

[!code-cpp[NVC_MFC_CToolBarCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctoolbarctrl-class_7.cpp)]

## <a name="ctoolbarctrlsetrows"></a><a name="setrows"></a>CToolBarCtrl：：SetRows

要求工具栏控件调整自身大小以调整为请求的行数。

```cpp
void SetRows(
    int nRows,
    BOOL bLarger,
    LPRECT lpRect);
```

### <a name="parameters"></a>参数

nRows**<br/>
请求的行数。

*b 更大*<br/>
如果工具栏无法调整为请求的行数，则说明是使用更多行还是减少行。

*lpRect*<br/>
指向将接收工具栏的新边界矩形的[CRect](../../atl-mfc-shared/reference/crect-class.md)对象或[RECT](/windows/win32/api/windef/ns-windef-rect)结构。

### <a name="remarks"></a>备注

如果工具栏无法将自身大小调整到请求的数字或行，则根据*bLarger*的值，它将调整自身大小以下一个较大的或下一个较小的有效大小。 如果*b大比较为*TRUE，则新行数将大于请求的行数。 如果*b更大*为 FALSE，则新行数将小于请求的数量。

如果可以排列按钮，使所有行具有相同的按钮数（可能最后一行除外），则给定数量的行对工具栏有效。 例如，包含四个按钮的工具栏不能调整为三行，因为最后两行必须变短。 如果尝试将其大小调整为三行，则如果*b大比较*为 TRUE，则获得四行;如果*b"较大"* 为 FALSE，则获取两行。

如果工具栏中有分隔符，则给定行数有效时的规则会更加复杂。 计算布局时，按钮组（在组中第一个和最后一个按钮之前带有分隔符的按钮）永远不会在数行上分解，除非组不能容纳一行。

如果组不适合一行，则下一个组将从下一行开始，即使它适合大型组结束的行。 此规则的目的是使大型组之间的分离更加明显。 生成的垂直分隔符计为行。

另请注意，`SetRows`成员函数将始终选择导致最小工具栏大小的布局。 使用TBSTYLE_WRAPABLE样式创建工具栏，然后调整控件大小，只需应用上述方法，给定控件的宽度。

只能为使用TBSTYLE_WRAPABLE样式创建的工具栏调用此功能。

## <a name="ctoolbarctrlsetstate"></a><a name="setstate"></a>CToolBarCtrl：：设置状态

设置工具栏控件中指定按钮的状态。

```
BOOL SetState(
    int nID,
    UINT nState);
```

### <a name="parameters"></a>参数

*nID*<br/>
按钮的命令标识符。

*n州*<br/>
州标志。 它可以是[CToolBarCtrl 中](#addbuttons)为按钮状态列出的值的组合：：addButton。

### <a name="return-value"></a>返回值

如果成功，则不为零，否则为零。

### <a name="remarks"></a>备注

如果要设置多个按钮状态，此功能特别方便。 要设置一种状态，请使用以下成员函数之一：[启用按钮](#enablebutton)、[检查按钮](#checkbutton)、[隐藏按钮](#hidebutton)、[不确定](#indeterminate)或[按按钮](#pressbutton)。

## <a name="ctoolbarctrlsetstyle"></a><a name="setstyle"></a>CToolBarCtrl：：设置样式

设置工具栏控件的样式。

```cpp
void SetStyle(DWORD dwStyle);
```

### <a name="parameters"></a>参数

*dwStyle*<br/>
包含[工具栏控件样式](/windows/win32/Controls/toolbar-control-and-button-styles)组合的 DWORD，如 Windows SDK 中所述。

## <a name="ctoolbarctrlsettooltips"></a><a name="settooltips"></a>CToolBarCtrl：：设置工具提示

将工具尖端控件与工具栏控件关联。

```cpp
void SetToolTips(CToolTipCtrl* pTip);
```

### <a name="parameters"></a>参数

*pTip*<br/>
指向[CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md)对象的指针。

## <a name="ctoolbarctrlsetwindowtheme"></a><a name="setwindowtheme"></a>CToolBarctrl：：设置窗口主题

设置`CToolBarCtrl`对象的可视样式。

```
HRESULT SetWindowTheme(LPCWSTR pszSubAppName);
```

### <a name="parameters"></a>参数

*pssSubApp名称*<br/>
指向要设置的工具栏视觉样式的 Unicode 字符串的指针。

### <a name="return-value"></a>返回值

不使用返回值。

### <a name="remarks"></a>备注

此成员函数模拟[TB_SETWINDOWTHEME](/windows/win32/Controls/tb-setwindowtheme)消息的功能，如 Windows SDK 中所述。

## <a name="see-also"></a>请参阅

[MFC 样品 CMNCTRL1](../../overview/visual-cpp-samples.md)<br/>
[MFC 示例 MFCIE](../../overview/visual-cpp-samples.md)<br/>
[CWnd 类](../../mfc/reference/cwnd-class.md)<br/>
[层次结构图表](../../mfc/hierarchy-chart.md)<br/>
[CToolBar 类](../../mfc/reference/ctoolbar-class.md)
