---
title: CFrameWndEx 类
ms.date: 11/04/2016
f1_keywords:
- CFrameWndEx
- AFXFRAMEWNDEX/CFrameWndEx
- AFXFRAMEWNDEX/CFrameWndEx::ActiveItemRecalcLayout
- AFXFRAMEWNDEX/CFrameWndEx::AddPane
- AFXFRAMEWNDEX/CFrameWndEx::AdjustDockingLayout
- AFXFRAMEWNDEX/CFrameWndEx::DelayUpdateFrameMenu
- AFXFRAMEWNDEX/CFrameWndEx::DockPane
- AFXFRAMEWNDEX/CFrameWndEx::DockPaneLeftOf
- AFXFRAMEWNDEX/CFrameWndEx::EnableAutoHidePanes
- AFXFRAMEWNDEX/CFrameWndEx::EnableDocking
- AFXFRAMEWNDEX/CFrameWndEx::EnableFullScreenMainMenu
- AFXFRAMEWNDEX/CFrameWndEx::EnableFullScreenMode
- AFXFRAMEWNDEX/CFrameWndEx::EnableLoadDockState
- AFXFRAMEWNDEX/CFrameWndEx::EnablePaneMenu
- AFXFRAMEWNDEX/CFrameWndEx::GetActivePopup
- AFXFRAMEWNDEX/CFrameWndEx::GetDefaultResId
- AFXFRAMEWNDEX/CFrameWndEx::GetDockingManager
- AFXFRAMEWNDEX/CFrameWndEx::GetMenuBar
- AFXFRAMEWNDEX/CFrameWndEx::GetPane
- AFXFRAMEWNDEX/CFrameWndEx::GetRibbonBar
- AFXFRAMEWNDEX/CFrameWndEx::GetTearOffBars
- AFXFRAMEWNDEX/CFrameWndEx::GetToolbarButtonToolTipText
- AFXFRAMEWNDEX/CFrameWndEx::InsertPane
- AFXFRAMEWNDEX/CFrameWndEx::IsFullScreen
- AFXFRAMEWNDEX/CFrameWndEx::IsMenuBarAvailable
- AFXFRAMEWNDEX/CFrameWndEx::IsPointNearDockSite
- AFXFRAMEWNDEX/CFrameWndEx::IsPrintPreview
- AFXFRAMEWNDEX/CFrameWndEx::LoadFrame
- AFXFRAMEWNDEX/CFrameWndEx::NegotiateBorderSpace
- AFXFRAMEWNDEX/CFrameWndEx::OnActivate
- AFXFRAMEWNDEX/CFrameWndEx::OnActivateApp
- AFXFRAMEWNDEX/CFrameWndEx::OnChangeVisualManager
- AFXFRAMEWNDEX/CFrameWndEx::OnClose
- AFXFRAMEWNDEX/CFrameWndEx::OnCloseDockingPane
- AFXFRAMEWNDEX/CFrameWndEx::OnCloseMiniFrame
- AFXFRAMEWNDEX/CFrameWndEx::OnClosePopupMenu
- AFXFRAMEWNDEX/CFrameWndEx::OnCmdMsg
- AFXFRAMEWNDEX/CFrameWndEx::OnContextHelp
- AFXFRAMEWNDEX/CFrameWndEx::OnCreate
- AFXFRAMEWNDEX/CFrameWndEx::OnDestroy
- AFXFRAMEWNDEX/CFrameWndEx::OnDrawMenuImage
- AFXFRAMEWNDEX/CFrameWndEx::OnDrawMenuLogo
- AFXFRAMEWNDEX/CFrameWndEx::OnDWMCompositionChanged
- AFXFRAMEWNDEX/CFrameWndEx::OnExitSizeMove
- AFXFRAMEWNDEX/CFrameWndEx::OnGetMinMaxInfo
- AFXFRAMEWNDEX/CFrameWndEx::OnIdleUpdateCmdUI
- AFXFRAMEWNDEX/CFrameWndEx::OnLButtonDown
- AFXFRAMEWNDEX/CFrameWndEx::OnLButtonUp
- AFXFRAMEWNDEX/CFrameWndEx::OnMenuButtonToolHitTest
- AFXFRAMEWNDEX/CFrameWndEx::OnMenuChar
- AFXFRAMEWNDEX/CFrameWndEx::OnMouseMove
- AFXFRAMEWNDEX/CFrameWndEx::OnMoveMiniFrame
- AFXFRAMEWNDEX/CFrameWndEx::OnNcActivate
- AFXFRAMEWNDEX/CFrameWndEx::OnNcCalcSize
- AFXFRAMEWNDEX/CFrameWndEx::OnNcHitTest
- AFXFRAMEWNDEX/CFrameWndEx::OnNcMouseMove
- AFXFRAMEWNDEX/CFrameWndEx::OnNcPaint
- AFXFRAMEWNDEX/CFrameWndEx::OnPaneCheck
- AFXFRAMEWNDEX/CFrameWndEx::OnPostPreviewFrame
- AFXFRAMEWNDEX/CFrameWndEx::OnPowerBroadcast
- AFXFRAMEWNDEX/CFrameWndEx::OnSetMenu
- AFXFRAMEWNDEX/CFrameWndEx::OnSetPreviewMode
- AFXFRAMEWNDEX/CFrameWndEx::OnSetText
- AFXFRAMEWNDEX/CFrameWndEx::OnShowCustomizePane
- AFXFRAMEWNDEX/CFrameWndEx::OnShowPanes
- AFXFRAMEWNDEX/CFrameWndEx::OnShowPopupMenu
- AFXFRAMEWNDEX/CFrameWndEx::OnSize
- AFXFRAMEWNDEX/CFrameWndEx::OnSizing
- AFXFRAMEWNDEX/CFrameWndEx::OnSysColorChange
- AFXFRAMEWNDEX/CFrameWndEx::OnTearOffMenu
- AFXFRAMEWNDEX/CFrameWndEx::OnToolbarContextMenu
- AFXFRAMEWNDEX/CFrameWndEx::OnToolbarCreateNew
- AFXFRAMEWNDEX/CFrameWndEx::OnToolbarDelete
- AFXFRAMEWNDEX/CFrameWndEx::OnUpdateFrameMenu
- AFXFRAMEWNDEX/CFrameWndEx::OnUpdateFrameTitle
- AFXFRAMEWNDEX/CFrameWndEx::OnUpdatePaneMenu
- AFXFRAMEWNDEX/CFrameWndEx::OnWindowPosChanged
- AFXFRAMEWNDEX/CFrameWndEx::PaneFromPoint
- AFXFRAMEWNDEX/CFrameWndEx::PreTranslateMessage
- AFXFRAMEWNDEX/CFrameWndEx::RecalcLayout
- AFXFRAMEWNDEX/CFrameWndEx::RemovePaneFromDockManager
- AFXFRAMEWNDEX/CFrameWndEx::SetDockState
- AFXFRAMEWNDEX/CFrameWndEx::SetPrintPreviewFrame
- AFXFRAMEWNDEX/CFrameWndEx::SetupToolbarMenu
- AFXFRAMEWNDEX/CFrameWndEx::ShowFullScreen
- AFXFRAMEWNDEX/CFrameWndEx::ShowPane
- AFXFRAMEWNDEX/CFrameWndEx::UpdateCaption
- AFXFRAMEWNDEX/CFrameWndEx::WinHelp
helpviewer_keywords:
- CFrameWndEx [MFC], ActiveItemRecalcLayout
- CFrameWndEx [MFC], AddPane
- CFrameWndEx [MFC], AdjustDockingLayout
- CFrameWndEx [MFC], DelayUpdateFrameMenu
- CFrameWndEx [MFC], DockPane
- CFrameWndEx [MFC], DockPaneLeftOf
- CFrameWndEx [MFC], EnableAutoHidePanes
- CFrameWndEx [MFC], EnableDocking
- CFrameWndEx [MFC], EnableFullScreenMainMenu
- CFrameWndEx [MFC], EnableFullScreenMode
- CFrameWndEx [MFC], EnableLoadDockState
- CFrameWndEx [MFC], EnablePaneMenu
- CFrameWndEx [MFC], GetActivePopup
- CFrameWndEx [MFC], GetDefaultResId
- CFrameWndEx [MFC], GetDockingManager
- CFrameWndEx [MFC], GetMenuBar
- CFrameWndEx [MFC], GetPane
- CFrameWndEx [MFC], GetRibbonBar
- CFrameWndEx [MFC], GetTearOffBars
- CFrameWndEx [MFC], GetToolbarButtonToolTipText
- CFrameWndEx [MFC], InsertPane
- CFrameWndEx [MFC], IsFullScreen
- CFrameWndEx [MFC], IsMenuBarAvailable
- CFrameWndEx [MFC], IsPointNearDockSite
- CFrameWndEx [MFC], IsPrintPreview
- CFrameWndEx [MFC], LoadFrame
- CFrameWndEx [MFC], NegotiateBorderSpace
- CFrameWndEx [MFC], OnActivate
- CFrameWndEx [MFC], OnActivateApp
- CFrameWndEx [MFC], OnChangeVisualManager
- CFrameWndEx [MFC], OnClose
- CFrameWndEx [MFC], OnCloseDockingPane
- CFrameWndEx [MFC], OnCloseMiniFrame
- CFrameWndEx [MFC], OnClosePopupMenu
- CFrameWndEx [MFC], OnCmdMsg
- CFrameWndEx [MFC], OnContextHelp
- CFrameWndEx [MFC], OnCreate
- CFrameWndEx [MFC], OnDestroy
- CFrameWndEx [MFC], OnDrawMenuImage
- CFrameWndEx [MFC], OnDrawMenuLogo
- CFrameWndEx [MFC], OnDWMCompositionChanged
- CFrameWndEx [MFC], OnExitSizeMove
- CFrameWndEx [MFC], OnGetMinMaxInfo
- CFrameWndEx [MFC], OnIdleUpdateCmdUI
- CFrameWndEx [MFC], OnLButtonDown
- CFrameWndEx [MFC], OnLButtonUp
- CFrameWndEx [MFC], OnMenuButtonToolHitTest
- CFrameWndEx [MFC], OnMenuChar
- CFrameWndEx [MFC], OnMouseMove
- CFrameWndEx [MFC], OnMoveMiniFrame
- CFrameWndEx [MFC], OnNcActivate
- CFrameWndEx [MFC], OnNcCalcSize
- CFrameWndEx [MFC], OnNcHitTest
- CFrameWndEx [MFC], OnNcMouseMove
- CFrameWndEx [MFC], OnNcPaint
- CFrameWndEx [MFC], OnPaneCheck
- CFrameWndEx [MFC], OnPostPreviewFrame
- CFrameWndEx [MFC], OnPowerBroadcast
- CFrameWndEx [MFC], OnSetMenu
- CFrameWndEx [MFC], OnSetPreviewMode
- CFrameWndEx [MFC], OnSetText
- CFrameWndEx [MFC], OnShowCustomizePane
- CFrameWndEx [MFC], OnShowPanes
- CFrameWndEx [MFC], OnShowPopupMenu
- CFrameWndEx [MFC], OnSize
- CFrameWndEx [MFC], OnSizing
- CFrameWndEx [MFC], OnSysColorChange
- CFrameWndEx [MFC], OnTearOffMenu
- CFrameWndEx [MFC], OnToolbarContextMenu
- CFrameWndEx [MFC], OnToolbarCreateNew
- CFrameWndEx [MFC], OnToolbarDelete
- CFrameWndEx [MFC], OnUpdateFrameMenu
- CFrameWndEx [MFC], OnUpdateFrameTitle
- CFrameWndEx [MFC], OnUpdatePaneMenu
- CFrameWndEx [MFC], OnWindowPosChanged
- CFrameWndEx [MFC], PaneFromPoint
- CFrameWndEx [MFC], PreTranslateMessage
- CFrameWndEx [MFC], RecalcLayout
- CFrameWndEx [MFC], RemovePaneFromDockManager
- CFrameWndEx [MFC], SetDockState
- CFrameWndEx [MFC], SetPrintPreviewFrame
- CFrameWndEx [MFC], SetupToolbarMenu
- CFrameWndEx [MFC], ShowFullScreen
- CFrameWndEx [MFC], ShowPane
- CFrameWndEx [MFC], UpdateCaption
- CFrameWndEx [MFC], WinHelp
ms.assetid: 5830aca8-4a21-4f31-91f1-dd5477ffcc8d
ms.openlocfilehash: 6073feb5cad5bda5e20f3ff5c16e1ed6d380bca7
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/14/2020
ms.locfileid: "81373761"
---
# <a name="cframewndex-class"></a>CFrameWndEx 类

实现 Windows 单文档界面 (SDI) 重叠式或弹出框架窗口功能，并提供管理窗口的成员。 它扩展了[CFrameWnd](../../mfc/reference/cframewnd-class.md)类。

## <a name="syntax"></a>语法

```
class CFrameWndEx : public CFrameWnd
```

## <a name="members"></a>成员

### <a name="public-methods"></a>公共方法

|名称|说明|
|----------|-----------------|
|[CFramewndEx：：活动项目Recalc布局](#activeitemrecalclayout)|调整 OLE 客户端项的布局和帧的工作区。|
|`CFrameWndEx::AddDockSite`|未使用此方法。|
|[CFramewndEx：：添加窗格](#addpane)|向停靠管理器注册控制栏。|
|[CFramewndEx：：调整扩展布局](#adjustdockinglayout)|重新计算停靠到框架窗口的所有窗格的布局。|
|[CFramewndEx：:D更新框架菜单](#delayupdateframemenu)|设置帧菜单，然后在命令处理空闲时更新它。|
|[CFramewndEx：:DockPane](#dockpane)|将指定的窗格停靠到框架窗口。|
|[CframewndEx：:D奥克帕内左侧](#dockpaneleftof)|将一个窗格停靠到另一个窗格的左侧。|
|[CFramewndEx：启用自动隐藏窗格](#enableautohidepanes)|当窗格停靠在主框架窗口的指定边时，启用它们自动隐藏模式。|
|[CFramewndEx：：启用停靠](#enabledocking)|启用属于框架窗口的窗格的停靠。|
|[CFramewndEx：启用全屏主菜单](#enablefullscreenmainmenu)|在全屏模式下显示或隐藏主菜单。|
|[CFramewndEx：：启用全屏模式](#enablefullscreenmode)|启用框架窗口的全屏模式。|
|[CFramewndEx：：启用LoadDockState](#enableloaddockstate)|启用或禁用停靠状态的加载。|
|[CFramewndEx：：启用PaneMenu](#enablepanemenu)|启用或禁用窗格菜单的自动处理。|
|[CFramewndEx：获取活动弹出](#getactivepopup)|返回指向当前显示的弹出式菜单的指针。|
|[CFramewndEx：获取默认ResId](#getdefaultresid)|返回框架加载框架窗口时指定的资源 ID。|
|[CFramewndEx：：获取对接管理器](#getdockingmanager)|检索框架窗口的[CDockingManager 类](../../mfc/reference/cdockingmanager-class.md)对象。|
|[CFramewndEx：：获取菜单栏](#getmenubar)|返回一个指向附加到框架窗口的菜单栏对象的指针。|
|[CFramewndEx：：获取窗格](#getpane)|返回指向具有指定 ID 的窗格的指针。|
|[CFramewndEx：：获取功能栏](#getribbonbar)|检索框架的功能区条控件。|
|[CFramewndEx：：获取关闭条形](#gettearoffbars)|返回处于拖曳状态的窗格对象的列表。|
|[CFramewndEx：：获取工具栏按钮工具提示文本](#gettoolbarbuttontooltiptext)|当应用程序显示工具栏按钮的工具提示时，由框架调用。|
|[CFrameWndEx::InsertPane](#insertpane)|向停靠管理器注册窗格。|
|[CFramewndEx：：全屏](#isfullscreen)|确定框架窗口是否处于全屏模式。|
|[CFramewndEx：：IsMenuBar可用](#ismenubaravailable)|确定指向菜单栏对象的指针是否有效。|
|[CFramewndEx：：IsPointNearDockSite](#ispointneardocksite)|指示点是否位于对齐区域中。|
|[CFramewndEx：：是打印预览](#isprintpreview)|指示框架窗口是否处于打印预览模式。|
|[CFramewndEx：：加载帧](#loadframe)|在构造后调用此方法以创建帧窗口并加载其资源。|
|[CFramewndEx：：谈判边界空间](#negotiateborderspace)|实现 OLE 客户端边界协商。|
|[CFramewndEx：：打开激活](#onactivate)|当用户输入切换到或远离帧时，框架调用此方法。|
|[CFramewndEx：打开ActivateApp](#onactivateapp)|在选择或取消选择应用程序时由框架调用。|
|[CFramewndEx：：打开视觉管理器](#onchangevisualmanager)|当对框架的更改需要更改视觉管理器时，由框架调用。|
|[CFramewndEx：：关闭](#onclose)|框架调用此方法以关闭帧。|
|[CFramewndEx：：关闭对接窗格](#onclosedockingpane)|当用户单击停靠窗格上的 **"关闭**"按钮时，由框架调用。|
|[CFramewndEx：：在关闭迷你框架上](#oncloseminiframe)|当用户单击浮动迷你框架窗口中的 **"关闭**"按钮时，由框架调用。|
|[CFramewndEx：：在关闭弹出菜单](#onclosepopupmenu)|当活动的弹出菜单处理 WM_DESTROY 消息时由框架调用。|
|[CFramewndEx：：OnCmdMsg](#oncmdmsg)|调度命令消息。|
|[CFramewndEx：：在上下文帮助](#oncontexthelp)|由框架调用以显示上下文相关帮助。|
|[CFramewndEx：：打开创建](#oncreate)|创建框架后由框架调用。|
|[CFramewndEx：：On销毁](#ondestroy)|框架被销毁时由框架调用。|
|[CFramewndEx：：在DrawMenu图像](#ondrawmenuimage)|当应用程序绘制与菜单项关联的图像时，由框架调用。|
|[CFramewndEx：：在DrawMenuLogo](#ondrawmenulogo)|当`CMFCPopupMenu`对象处理[WM_PAINT](/windows/win32/gdi/wm-paint)消息时，由框架调用。|
|[CFramewndEx：onDWM 组合已更改](#ondwmcompositionchanged)|当桌面窗口管理器 （DWM） 组合已启用或禁用时，由框架调用。|
|[CFramewndEx：打开退出大小移动](#onexitsizemove)|当框架停止移动或调整大小时，由框架调用。|
|[CFramewndEx：：OnGetminMaxinfo](#ongetminmaxinfo)|当框架调整大小以设置窗口尺寸限制时，由框架调用。|
|[CFramewndEx：：上线更新CmdUI](#onidleupdatecmdui)|当命令处理处于空闲状态时，框架调用以更新帧显示。|
|[CFramewndEx：：打开按钮](#onlbuttondown)|当用户按下鼠标左键时，框架将调用此方法。|
|[CFramewndEx：：OnLButtonUp](#onlbuttonup)|当用户释放鼠标左键时，框架将调用此方法。|
|[CFramewndEx：：在MenuButton工具命中测试](#onmenubuttontoolhittest)|当`CMFCToolBarButton`对象处理WM_NCHITTEST消息时，由框架调用。|
|[CFramewndEx：：在MenuChar](#onmenuchar)|当显示菜单并且用户按下与命令不对应的键时，由框架调用。|
|[CFramewndEx：：鼠标移动](#onmousemove)|当指针移动时，框架调用此方法。|
|[CFramewndEx：：在移动迷你框架](#onmoveminiframe)|当窗格窗口移动时由框架调用。|
|[CFramewndEx：：打开NcActivate](#onncactivate)|当必须重新绘制框架的非工作区以指示活动状态的更改时，框架调用框架。|
|[CFramewndEx：在NcCalcsize上](#onnccalcsize)|当必须计算工作区的大小和位置时，由框架调用。|
|[CFramewndEx：：OnNcHitTest](#onnchittest)|当指针移动或按下或释放鼠标按钮时，框架调用。|
|[CFramewndEx：：在NcMouseMove上](#onncmousemove)|当指针在非工作区中移动时，由框架调用。|
|[CFramewndEx：onNcPaint](#onncpaint)|当必须绘制非工作区时，框架调用。|
|[CFramewndEx：：在窗格检查](#onpanecheck)|由框架调用以控制窗格的可见性。|
|[CFramewndEx：在后预览帧上](#onpostpreviewframe)|当用户更改打印预览模式时，由框架调用。|
|[CFramewndEx：：在功率广播](#onpowerbroadcast)|发生电源管理事件时由框架调用。|
|[CFramewndEx：：打开菜单](#onsetmenu)|由框架调用以替换框架窗口菜单。|
|[CFramewndEx：：打开预览模式](#onsetpreviewmode)|由框架调用，以设置框架的打印预览模式。|
|[CFramewndEx：：打开文本](#onsettext)|由框架调用以设置窗口的文本。|
|[CFramewndEx：：在显示自定义窗格](#onshowcustomizepane)|启用快速自定义窗格时由框架调用。|
|[CFramewndEx：：在显示窗格](#onshowpanes)|由框架调用以显示或隐藏窗格。|
|[CFramewndEx：：在显示弹出菜单](#onshowpopupmenu)|启用弹出式菜单时由框架调用。|
|[CFramewndEx：：打开尺寸](#onsize)|框架在帧大小更改后调用此方法。|
|[CFramewndEx：：打开](#onsizing)|当用户调整帧大小时，框架将调用此方法。|
|[CFramewndEx：：SysColorChange](#onsyscolorchange)|当系统颜色发生变化时由框架调用。|
|[CFramewndEx：：在TearoffMenu上](#ontearoffmenu)|启用具有撕开条的菜单时，由框架调用。|
|[CFramewndEx：：在工具栏上下文菜单上](#ontoolbarcontextmenu)|由框架调用以生成工具栏上下文菜单。|
|[CFramewndEx：：在工具栏创建新](#ontoolbarcreatenew)|框架调用此方法以创建新工具栏。|
|[CFramewndEx：：打开工具栏删除](#ontoolbardelete)|删除工具栏时由框架调用。|
|[CFramewndEx：：更新框架菜单](#onupdateframemenu)|由框架调用以设置框架菜单。|
|[CFramewndEx：：更新帧标题](#onupdateframetitle)|框架调用此方法以更新框架窗口的标题栏。|
|[CFramewndEx：：更新窗格菜单](#onupdatepanemenu)|由框架调用以更新窗格菜单。|
|[CFramewndEx：：在窗口Pos上](#onwindowposchanged)|当帧大小、位置或 z 顺序因调用窗口管理方法而发生更改时，由框架调用。|
|[CFramewndEx：:P从点](#panefrompoint)|返回包含指定点的停靠窗格。|
|[CFramewndEx：:P重新翻译消息](#pretranslatemessage)|在调度特定窗口消息之前处理它们。|
|[CFramewndEx：recalclayout](#recalclayout)|调整框架及其子窗口的布局。|
|[CFramewndEx：：从Dock管理器中删除Pane](#removepanefromdockmanager)|取消注册窗格并将其从停靠管理器的内部列表中删除。|
|[CFramewndEx：：SetDockstate](#setdockstate)|将停靠布局还原到存储在注册表中的停靠状态。|
|[CFramewndEx：：设置打印预览框架](#setprintpreviewframe)|设置打印预览框架窗口。|
|[CFramewndEx：：设置工具栏菜单](#setuptoolbarmenu)|将用户定义的命令插入工具栏菜单。|
|[CFramewndEx：：显示全屏](#showfullscreen)|在全屏和常规模式之间切换主框架。|
|[CFramewndEx：：显示窗格](#showpane)|显示或隐藏指定的窗格。|
|[CFramewndEx：：更新标题](#updatecaption)|由框架调用以更新窗口框架标题。|
|[CFramewndEx：：赢帮助](#winhelp)|调用`WinHelp`应用程序或上下文相关的帮助。|

## <a name="example"></a>示例

下面的示例演示如何从`CFrameWndEx`类继承类。 该示例演示了子类中的方法签名以及如何重写该方法`OnShowPopupMenu`。 此代码片段属于 [Word Pad 示例](../../overview/visual-cpp-samples.md)。

[!code-cpp[NVC_MFC_WordPad#3](../../mfc/reference/codesnippet/cpp/cframewndex-class_1.h)]
[!code-cpp[NVC_MFC_WordPad#4](../../mfc/reference/codesnippet/cpp/cframewndex-class_2.cpp)]

## <a name="inheritance-hierarchy"></a>继承层次结构

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

[CFrameWnd](../../mfc/reference/cframewnd-class.md)

[CFrameWndEx](../../mfc/reference/cframewndex-class.md)

## <a name="requirements"></a>要求

**标头：** afxframewndex.h

## <a name="cframewndexactiveitemrecalclayout"></a><a name="activeitemrecalclayout"></a>CFramewndEx：：活动项目Recalc布局

调整 OLE 客户端项的布局和帧的工作区。

```
void ActiveItemRecalcLayout();
```

### <a name="remarks"></a>备注

## <a name="cframewndexaddpane"></a><a name="addpane"></a>CFramewndEx：：添加窗格

向停靠管理器注册控制栏。

```
BOOL AddPane(
    CBasePane* pControlBar,
    BOOL bTail=TRUE);
```

### <a name="parameters"></a>参数

*p控制栏*<br/>
[在]要注册的控件栏窗格。

*b泰尔*<br/>
[在]如果要将控件栏窗格添加到列表的末尾，则为 TRUE;如果要将控件栏窗格添加到列表的末尾，则为 TRUE。否则。

### <a name="return-value"></a>返回值

如果控制栏已成功注册，则为 TRUE;否则。

## <a name="cframewndexadjustdockinglayout"></a><a name="adjustdockinglayout"></a>CFramewndEx：：调整扩展布局

重新计算停靠到框架窗口的所有窗格的布局。

```
virtual void AdjustDockingLayout(HDWP hdwp=NULL);
```

### <a name="parameters"></a>参数

*hdwp*<br/>
包含多个窗口位置的结构的句柄。 .

### <a name="remarks"></a>备注

hdwp 结构由[BeginDeferWindowPos](/windows/win32/api/winuser/nf-winuser-begindeferwindowpos)方法初始化。

## <a name="cframewndexdelayupdateframemenu"></a><a name="delayupdateframemenu"></a>CFramewndEx：:D更新框架菜单

设置帧菜单，然后在命令处理空闲时更新它。

```
virtual void DelayUpdateFrameMenu(HMENU hMenuAlt);
```

### <a name="parameters"></a>参数

*哈梅内阿尔特*<br/>
[在]处理备用菜单。

### <a name="remarks"></a>备注

## <a name="cframewndexdockpane"></a><a name="dockpane"></a>CFramewndEx：:DockPane

将指定的窗格停靠到框架窗口。

```
void DockPane(
    CBasePane* pBar,
    UINT nDockBarID=0,
    LPCRECT lpRect=NULL);
```

### <a name="parameters"></a>参数

*pBar*<br/>
[在]指向要停靠的控制栏的指针。

*nDockBarID*<br/>
[在]要停靠到的帧窗口一侧的 ID。

*lpRect*<br/>
[在]指向常量整流结构的指针，用于指定窗口的屏幕位置和大小。

### <a name="remarks"></a>备注

*nDockBarID*参数可以具有以下值之一：

- AFX_IDW_DOCKBAR_TOP

- AFX_IDW_DOCKBAR_BOTTOM

- AFX_IDW_DOCKBAR_LEFT

- AFX_IDW_DOCKBAR_RIGHT

## <a name="cframewndexdockpaneleftof"></a><a name="dockpaneleftof"></a>CframewndEx：:D奥克帕内左侧

将指定的窗格停靠到另一个窗格的左侧。

```
BOOL DockPaneLeftOf(
    CPane* pBar,
    CPane* pLeftOf);
```

### <a name="parameters"></a>参数

*pBar*<br/>
[在]指向要停靠的窗格对象的指针。

*左撇子*<br/>
[在]指向左侧窗格的指针，用于停靠*pBar*指定的窗格。

### <a name="return-value"></a>返回值

如果*pBar*已成功停靠，则为 TRUE。 否则。

### <a name="remarks"></a>备注

该方法采用*pBar*参数指定的工具栏，并将其停靠在*pLeftOf*参数指定的工具栏左侧。

## <a name="cframewndexenableautohidepanes"></a><a name="enableautohidepanes"></a>CFramewndEx：启用自动隐藏窗格

当窗格停靠在主框架窗口的指定一侧时，该窗格启用自动隐藏模式。

```
BOOL EnableAutoHidePanes(DWORD dwDockStyle);
```

### <a name="parameters"></a>参数

*dwDock风格*<br/>
[在]指定要停靠窗格的主框架窗口的一侧。

### <a name="return-value"></a>返回值

如果条形窗格成功停靠到*dwDockStyle*指定的帧窗口侧，则为 TRUE，否则。

### <a name="remarks"></a>备注

*dwDockStyle*可以具有以下值之一：

- CBRS_ALIGN_TOP：允许控制栏停靠到框架窗口的工作区的顶部。

- CBRS_ALIGN_BOTTOM：允许控制栏停靠到框架窗口的工作区的底部。

- CBRS_ALIGN_LEFT：允许控制栏停靠到框架窗口的工作区左侧。

- CBRS_ALIGN_RIGHT：允许控制栏停靠到框架窗口的工作区的右侧。

## <a name="cframewndexenabledocking"></a><a name="enabledocking"></a>CFramewndEx：：启用停靠

启用框架窗口窗格的停靠。

```
BOOL EnableDocking(DWORD dwDockStyle);
```

### <a name="parameters"></a>参数

*dwDock风格*<br/>
[在]指定窗格栏停靠的主框架窗口的一侧。

### <a name="return-value"></a>返回值

如果条形窗格可以成功停靠在指定端，则为 TRUE。 否则。

### <a name="remarks"></a>备注

*dwDockStyle*参数可以具有以下值之一：

- CBRS_ALIGN_TOP

- CBRS_ALIGN_BOTTOM

- CBRS_ALIGN_LEFT

- CBRS_ALIGN_RIGHT

## <a name="cframewndexenablefullscreenmainmenu"></a><a name="enablefullscreenmainmenu"></a>CFramewndEx：启用全屏主菜单

在全屏模式下显示或隐藏主菜单。

```
void EnableFullScreenMainMenu(BOOL bEnableMenu);
```

### <a name="parameters"></a>参数

*b启用菜单*<br/>
[在]TRUE 以全屏模式显示主菜单，否则为 FALSE。

## <a name="cframewndexenablefullscreenmode"></a><a name="enablefullscreenmode"></a>CFramewndEx：：启用全屏模式

启用框架窗口的全屏模式。

```
void EnableFullScreenMode(UINT uiFullScreenCmd);
```

### <a name="parameters"></a>参数

*ui 全屏幕Cmd*<br/>
[在]启用和禁用全屏模式的命令的 ID。

### <a name="remarks"></a>备注

在全屏模式下，所有停靠控制栏、工具栏和菜单都隐藏，活动视图将调整大小以占据全屏。

启用全屏模式时，必须指定启用或禁用全屏模式的命令的 ID。 可以从主框架`EnableFullScreenMode`的功能`OnCreate`调用。 当框架窗口切换到全屏模式时，框架将创建一个浮动工具栏，其中一个按钮具有指定的命令 ID。

如果要将主菜单保留在屏幕上，请致电[CFrameWndEx：：启用全屏幕主菜单](#enablefullscreenmainmenu)。

## <a name="cframewndexenableloaddockstate"></a><a name="enableloaddockstate"></a>CFramewndEx：：启用LoadDockState

启用或禁用停靠状态的加载。

```
void EnableLoadDockState(BOOL bEnable=TRUE);
```

### <a name="parameters"></a>参数

*b 启用*<br/>
[在]TRUE 要启用停靠状态的加载，FALSE 将禁用停靠状态的加载。

## <a name="cframewndexenablepanemenu"></a><a name="enablepanemenu"></a>CFramewndEx：：启用PaneMenu

启用或禁用窗格菜单的自动处理。

```
void EnablePaneMenu(
    BOOL bEnable,
    UINT uiCustomizeCmd,
    const CString& strCustomizeLabel,
    UINT uiViewToolbarsMenuEntryID,
    BOOL bContextMenuShowsToolbarsOnly=FALSE,
    BOOL bViewMenuShowsToolbarsOnly=FALSE);
```

### <a name="parameters"></a>参数

*b 启用*<br/>
[在]TRUE 可自动处理控制栏弹出式菜单;FALSE 以禁用控制栏弹出式菜单的自动处理。

*ui 定制Cmd*<br/>
[在]**"自定义"** 菜单项的命令 ID。

*str定制标签*<br/>
[在]**要为"自定义"** 菜单项显示的标签

*uiView工具栏菜单入口ID*<br/>
[在]在控制栏中打开弹出菜单的工具栏菜单项的 ID。

*bContextMenu 仅显示工具栏*<br/>
[在]如果为 TRUE，则控制栏上下文菜单仅显示工具栏列表。 如果 FALSE，菜单将显示工具栏和停靠栏的列表。

*b 只查看菜单显示工具栏*<br/>
[在]如果为 TRUE，则控制栏菜单仅显示工具栏的列表。 如果 FALSE，菜单将显示工具栏和停靠栏的列表。

## <a name="cframewndexgetactivepopup"></a><a name="getactivepopup"></a>CFramewndEx：获取活动弹出

返回指向当前显示的弹出式菜单的指针。

```
CMFCPopupMenu* GetActivePopup() const;
```

### <a name="return-value"></a>返回值

指向当前显示的弹出式菜单的指针;否则 NULL。

## <a name="cframewndexgetdefaultresid"></a><a name="getdefaultresid"></a>CFramewndEx：获取默认ResId

返回框架加载框架窗口时指定的资源 ID。

```
UINT GetDefaultResId() const;
```

### <a name="return-value"></a>返回值

用户在框架加载框架窗口时指定的资源 ID 值。 如果框架窗口没有菜单栏，则为零。

## <a name="cframewndexgetdockingmanager"></a><a name="getdockingmanager"></a>CFramewndEx：：获取对接管理器

检索框架窗口的[CDockingManager 类](../../mfc/reference/cdockingmanager-class.md)对象。

```
CDockingManager* GetDockingManager();
```

### <a name="return-value"></a>返回值

指向[CDockingManager 类](../../mfc/reference/cdockingmanager-class.md)的指针。

### <a name="remarks"></a>备注

框架窗口创建并使用[CDockingManager 类](../../mfc/reference/cdockingmanager-class.md)对象来管理子窗口停靠。

## <a name="cframewndexgetmenubar"></a><a name="getmenubar"></a>CFramewndEx：：获取菜单栏

返回一个指向附加到框架窗口的菜单栏对象的指针。

```
const CMFCMenuBar* GetMenuBar() const;
```

### <a name="return-value"></a>返回值

指向附加到框架窗口的菜单栏对象的指针。

## <a name="cframewndexgetpane"></a><a name="getpane"></a>CFramewndEx：：获取窗格

返回指向具有指定 ID 的窗格的指针。

```
CBasePane* GetPane(UINT nID);
```

### <a name="parameters"></a>参数

*nID*<br/>
[在]控件 ID。

### <a name="return-value"></a>返回值

指向具有指定 ID 的窗格的指针。 NULL，如果没有此类窗格。

## <a name="cframewndexgetribbonbar"></a><a name="getribbonbar"></a>CFramewndEx：：获取功能栏

检索框架的功能区条控件。

```
CMFCRibbonBar* GetRibbonBar();
```

### <a name="return-value"></a>返回值

指向框架的[CMFCRibbonBar 类](../../mfc/reference/cmfcribbonbar-class.md)。

### <a name="remarks"></a>备注

## <a name="cframewndexgettearoffbars"></a><a name="gettearoffbars"></a>CFramewndEx：：获取关闭条形

返回处于拖曳状态的窗格对象的列表。

```
const CObList& GetTearOffBars() const;
```

### <a name="return-value"></a>返回值

对`CObList`包含指向处于分泪状态的窗格对象的指针集合的对象的引用。

## <a name="cframewndexgettoolbarbuttontooltiptext"></a><a name="gettoolbarbuttontooltiptext"></a>CFramewndEx：：获取工具栏按钮工具提示文本

当应用程序显示工具栏按钮的工具提示时，由框架调用。

```
virtual BOOL GetToolbarButtonToolTipText(
    CMFCToolBarButton* pButton,
    CString& strTTText);
```

### <a name="parameters"></a>参数

*pButton*<br/>
[在]指向工具栏按钮的指针。

*斯特特文本*<br/>
[在]要显示按钮的工具提示文本。

### <a name="return-value"></a>返回值

如果已显示工具提示，则为 TRUE。 否则。

### <a name="remarks"></a>备注

默认情况下，此方法不执行任何操作。 如果要显示工具栏按钮的工具提示，则重写此方法。

## <a name="cframewndexinsertpane"></a><a name="insertpane"></a>CFramewndEx：：插入窗格

将窗格插入到控件条列表中并注册到停靠管理器。

```
BOOL InsertPane(
    CBasePane* pControlBar,
    CBasePane* pTarget,
    BOOL bAfter=TRUE);
```

### <a name="parameters"></a>参数

*p控制栏*<br/>
将插入到控件栏列表中并注册到停靠管理器的指向控件条的指针。

*p目标*<br/>
在其之前或之后插入窗格的指向控件条的指针。

*b 后*<br/>
如果想在*pTarget*之后插入*pControlBar，* 则为 TRUE，否则。

### <a name="return-value"></a>返回值

如果控制栏已成功插入和注册，则为 TRUE，否则为 FALSE。

### <a name="remarks"></a>备注

必须使用 [CDockingManager Class](../../mfc/reference/cdockingmanager-class.md) 注册每个控件条，以便加入停靠布局。

## <a name="cframewndexisfullscreen"></a><a name="isfullscreen"></a>CFramewndEx：：全屏

确定框架窗口是否处于全屏模式。

```
BOOL IsFullScreen() const;
```

### <a name="return-value"></a>返回值

如果帧窗口处于全屏模式，则为 TRUE;如果帧窗口处于全屏模式，则为 TRUE。否则 FALSE。

### <a name="remarks"></a>备注

您可以通过调用[CFrameWndEx：：启用全屏模式](#enablefullscreenmode)方法来设置全屏模式。

## <a name="cframewndexismenubaravailable"></a><a name="ismenubaravailable"></a>CFramewndEx：：IsMenuBar可用

确定指向菜单栏对象的指针是否有效。

```
BOOL IsMenuBarAvailable() const;
```

### <a name="return-value"></a>返回值

如果框架窗口具有菜单栏，则为 TRUE;如果框架窗口具有菜单栏。否则 FALSE。

## <a name="cframewndexispointneardocksite"></a><a name="ispointneardocksite"></a>CFramewndEx：：IsPointNearDockSite

确定点是否位于对齐区域中。

```
BOOL IsPointNearDockSite(
    CPoint point,
    DWORD& dwBarAlignment,
    BOOL& bOuterEdge) const;
```

### <a name="parameters"></a>参数

*点*<br/>
[在]点的位置。

*dwBaralignment*<br/>
[出]点对齐的位置。 有关可能的值，请参阅备注部分中的表。

*bouterEdge*<br/>
[出]如果点位于靠近框架边框的位置，则为 TRUE;如果点位于框架边框附近，则为 TRUE。如果点位于工作区中，则 FALSE。

### <a name="return-value"></a>返回值

如果点位于对齐区域中，则为 TRUE;如果点位于对齐区域中，则为 TRUE。否则，FALSE。

### <a name="remarks"></a>备注

下表列出了*dwBarAlignment*参数的可能值。

|||
|-|-|
|CBRS_ALIGN_TOP|对齐到顶部。  |
|CBRS_ALIGN_RIGHT|向右对齐。  |
|CBRS_ALIGN_BOTTOM|与底部对齐。  |
|CBRS_ALIGN_LEFT|向左对齐。  |

## <a name="cframewndexisprintpreview"></a><a name="isprintpreview"></a>CFramewndEx：：是打印预览

确定框架窗口是否处于打印预览模式。

```
BOOL IsPrintPreview();
```

### <a name="return-value"></a>返回值

如果帧窗口处于打印预览模式，则为 TRUE;如果框架窗口处于打印预览模式，则为 TRUE。否则，FALSE。

### <a name="remarks"></a>备注

## <a name="cframewndexloadframe"></a><a name="loadframe"></a>CFramewndEx：：加载帧

在构造后调用此方法以创建帧窗口并加载其资源。

```
virtual BOOL LoadFrame(
    UINT nIDResource,
    DWORD dwDefaultStyle = WS_OVERLAPPEDWINDOW | FWS_ADDTOTITLE,
    CWnd* pParentWnd = NULL,
    CCreateContext* pContext = NULL);
```

### <a name="parameters"></a>参数

*nID资源*<br/>
[在]用于加载所有帧资源的资源 ID。

*dwDefault样式*<br/>
[在]默认框架窗口样式。

*pparentwnd*<br/>
[在]指向框架的父窗口。

*pContext*<br/>
[在]指向框架在应用程序创建期间使用的[CCreateContext 结构](../../mfc/reference/ccreatecontext-structure.md)类的指针。

### <a name="return-value"></a>返回值

如果方法成功，则为 TRUE;否则，FALSE。

### <a name="remarks"></a>备注

## <a name="cframewndexnegotiateborderspace"></a><a name="negotiateborderspace"></a>CFramewndEx：：谈判边界空间

实现 OLE 客户端边界协商。

```
virtual BOOL NegotiateBorderSpace(
    UINT nBorderCmd,
    LPRECT lpRectBorder);
```

### <a name="parameters"></a>参数

*nBorderCmd*<br/>
[在]边界协商命令。 有关可能的值，请参阅备注部分。

*lprect边框*<br/>
[进出]边框的尺寸。

### <a name="return-value"></a>返回值

如果必须重新计算布局，则为 TRUE;如果必须重新计算布局，则为 TRUE。否则，FALSE。

### <a name="remarks"></a>备注

下表列出了*nBorderCmd*参数的可能值。

*边框获取*<br/>
获取可用的 OLE 客户端空间。

*边框请求*<br/>
请求 OLE 客户端空间。

*边框集*<br/>
设置 OLE 客户端空间。

## <a name="cframewndexonactivate"></a><a name="onactivate"></a>CFramewndEx：：打开激活

当用户输入切换到或远离帧时，框架调用此方法。

```
afx_msg void OnActivate(
    UINT nState,
    CWnd* pWndOther,
    BOOL bMinimized);
```

### <a name="parameters"></a>参数

*n州*<br/>
[在]帧是活动还是非活动。 有关可能的值，请参阅备注部分中的表。

*pWnd其他*<br/>
[在]指向使用当前窗口切换用户输入的另一个窗口。

*b 最小化*<br/>
[在]帧的最小化状态。 如果帧最小化，则为 TRUE;否则，FALSE。

### <a name="remarks"></a>备注

下表列出了*nState*参数的可能值。

|||
|-|-|
|WA_ACTIVE|框架由鼠标单击以外的方法选择。  |
|WA_CLICKACTIVE|单击鼠标即可选择框架。  |
|WA_INACTIVE|未选择框架。  |

## <a name="cframewndexonactivateapp"></a><a name="onactivateapp"></a>CFramewndEx：打开ActivateApp

在选择或取消选择应用程序时由框架调用。

```
afx_msg void OnActivateApp(
    BOOL bActive,
    DWORD dwThreadID);
```

### <a name="parameters"></a>参数

*b 活动*<br/>
[在]如果选择了应用程序，则为 TRUE;如果选择了"真"。如果未选择应用程序，则 FALSE。

*dwThreadID*<br/>
[在]不使用此参数。

### <a name="remarks"></a>备注

## <a name="cframewndexonchangevisualmanager"></a><a name="onchangevisualmanager"></a>CFramewndEx：：打开视觉管理器

当对框架的更改需要更改视觉管理器时，由框架调用。

```
afx_msg LRESULT OnChangeVisualManager(
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>参数

*wParam*<br/>
[在]不使用此参数。

*lParam*<br/>
[在]不使用此参数。

### <a name="return-value"></a>返回值

始终返回 0。

### <a name="remarks"></a>备注

## <a name="cframewndexonclose"></a><a name="onclose"></a>CFramewndEx：：关闭

框架调用此方法以关闭帧。

```
afx_msg void OnClose();
```

### <a name="remarks"></a>备注

如果框架处于打印预览模式，则会发送 Windows 消息以关闭打印预览;如果框架处于打印预览状态，则会发送 Windows 消息以关闭打印预览。否则，如果帧承载 OLE 客户端，则客户端将停用。

## <a name="cframewndexonclosedockingpane"></a><a name="onclosedockingpane"></a>CFramewndEx：：关闭对接窗格

当用户单击停靠窗格上的 **"关闭**"按钮时，由框架调用。

```
virtual BOOL OnCloseDockingPane(CDockablePane* pPane);
```

### <a name="return-value"></a>返回值

如果停靠条可以关闭，则为 TRUE。 否则

### <a name="remarks"></a>备注

默认实现不执行任何操作。 如果要处理停靠栏的隐藏，则重写此方法。

## <a name="cframewndexoncloseminiframe"></a><a name="oncloseminiframe"></a>CFramewndEx：：在关闭迷你框架上

当用户单击浮动迷你框架窗口中的 **"关闭**"按钮时，由框架调用。

```
virtual BOOL OnCloseMiniFrame(CPaneFrameWnd* pWnd);
```

### <a name="return-value"></a>返回值

如果可以关闭浮动迷你框架窗口，则为 TRUE。 否则。

### <a name="remarks"></a>备注

默认实现不执行任何操作。 如果要处理浮动迷你框架窗口的隐藏，则重写此方法。

## <a name="cframewndexonclosepopupmenu"></a><a name="onclosepopupmenu"></a>CFramewndEx：：在关闭弹出菜单

当活动的弹出菜单处理 WM_DESTROY 消息时由框架调用。

```
virtual void OnClosePopupMenu(CMFCPopupMenu* pMenuPopup);
```

### <a name="parameters"></a>参数

*pMenuPopup*<br/>
指向弹出菜单的指针。

### <a name="remarks"></a>备注

框架在即将关闭窗口时发送WM_DESTROY消息。 如果要处理`CMFCPopupMenu`对象在处理框架在关闭窗口时发送`CMFCPopupMenu`WM_DESTROY消息时属于框架窗口的对象的通知，则重写此方法。

## <a name="cframewndexoncmdmsg"></a><a name="oncmdmsg"></a>CFramewndEx：：OnCmdMsg

调度命令消息。

```
virtual BOOL OnCmdMsg(
    UINT nID,
    int nCode,
    void* pExtra,
    AFX_CMDHANDLERINFO* pHandlerInfo);
```

### <a name="parameters"></a>参数

*nID*<br/>
[在]命令 ID。

*n代码*<br/>
[在]命令消息类别。

*pExtra*<br/>
[进出]指向命令对象的指针。

*pHandlerInfo*<br/>
[进出]指向命令处理程序结构的指针。

### <a name="return-value"></a>返回值

如果处理命令消息，则为 TRUE;如果已处理命令消息，则为 TRUE。否则，FALSE。

### <a name="remarks"></a>备注

## <a name="cframewndexoncontexthelp"></a><a name="oncontexthelp"></a>CFramewndEx：：在上下文帮助

由框架调用以显示与上下文相关的帮助。

```
afx_msg void OnContextHelp();
```

### <a name="remarks"></a>备注

## <a name="cframewndexoncreate"></a><a name="oncreate"></a>CFramewndEx：：打开创建

创建框架后由框架调用。

```
afx_msg int OnCreate(LPCREATESTRUCT lpCreateStruct);
```

### <a name="parameters"></a>参数

*lpCreatestruct*<br/>
[在]指向新帧的["创建结构"](/windows/win32/api/winuser/ns-winuser-createstructw)的指针。

### <a name="return-value"></a>返回值

0 继续创建帧;-1 摧毁框架。

### <a name="remarks"></a>备注

## <a name="cframewndexondestroy"></a><a name="ondestroy"></a>CFramewndEx：：On销毁

框架被销毁时由框架调用。

```
afx_msg void OnDestroy();
```

### <a name="remarks"></a>备注

加速器表和所有窗口都已销毁。

## <a name="cframewndexondrawmenuimage"></a><a name="ondrawmenuimage"></a>CFramewndEx：：在DrawMenu图像

当应用程序绘制与菜单项关联的图像时，由框架调用。

```
virtual BOOL OnDrawMenuImage(
    CDC* pDC,
    const CMFCToolBarMenuButton* pMenuButton,
    const CRect& rectImage);
```

### <a name="parameters"></a>参数

*pDC*<br/>
[在]指向设备上下文的指针。

*pMenu按钮*<br/>
[在]指向正在渲染其图像的菜单按钮的指针。

*rectImage*<br/>
[在]指向指定图像的`Rect`屏幕位置和大小的结构的指针。

### <a name="return-value"></a>返回值

如果框架成功呈现图像，则为 TRUE;如果框架成功呈现图像，则为 TRUE。否则。

### <a name="remarks"></a>备注

如果要为属于`CFrameWndEx`派生对象拥有的菜单栏的菜单项自定义图像渲染，请重写此方法。

## <a name="cframewndexondrawmenulogo"></a><a name="ondrawmenulogo"></a>CFramewndEx：：在DrawMenuLogo

当`CMFCPopupMenu`对象处理WM_PAINT消息时，由框架调用。

```
virtual void OnDrawMenuLogo(
    CDC* pDC,
    CMFCPopupMenu* pMenu,
    const CRect& rectLogo);
```

### <a name="parameters"></a>参数

*pDC*<br/>
[在]指向设备上下文的指针。

*pMenu*<br/>
[在]指向菜单项的指针。

*雷科洛格*<br/>
[在]对指定菜单徽标的`CRect`屏幕位置和大小的常量结构的引用。

### <a name="remarks"></a>备注

如果要在属于`CFrameWndEx`派生对象拥有的菜单栏的弹出式菜单上显示徽标，则重写此函数。

## <a name="cframewndexondwmcompositionchanged"></a><a name="ondwmcompositionchanged"></a>CFramewndEx：onDWM 组合已更改

当桌面窗口管理器 （DWM） 组合已启用或禁用时，由框架调用。

```
afx_msg LRESULT OnDWMCompositionChanged(
    WPARAM wp,
    LPARAM lp);
```

### <a name="parameters"></a>参数

*Wp*<br/>
[在]不使用此参数。

*lp*<br/>
[在]不使用此参数。

### <a name="return-value"></a>返回值

始终返回 0。

### <a name="remarks"></a>备注

## <a name="cframewndexonexitsizemove"></a><a name="onexitsizemove"></a>CFramewndEx：打开退出大小移动

当框架停止移动或调整大小时，由框架调用。

```
LRESULT OnExitSizeMove(
    WPARAM wp,
    LPARAM lp);
```

### <a name="parameters"></a>参数

*Wp*<br/>
[在]不使用此参数。

*lp*<br/>
[在]不使用此参数。

### <a name="return-value"></a>返回值

始终返回 0。

### <a name="remarks"></a>备注

## <a name="cframewndexongetminmaxinfo"></a><a name="ongetminmaxinfo"></a>CFramewndEx：：OnGetminMaxinfo

当框架调整大小以设置窗口尺寸限制时，由框架调用。

```
afx_msg void OnGetMinMaxInfo(MINMAXINFO FAR* lpMMI);
```

### <a name="parameters"></a>参数

*lpMMI*<br/>
[在]指向[MINMAXINFO](/windows/win32/api/winuser/ns-winuser-minmaxinfo)结构的指针。

### <a name="remarks"></a>备注

## <a name="cframewndexonidleupdatecmdui"></a><a name="onidleupdatecmdui"></a>CFramewndEx：：上线更新CmdUI

当命令处理处于空闲状态时，框架调用以更新帧显示。

```
afx_msg LRESULT OnIdleUpdateCmdUI(
    WPARAM wParam = 0,
    LPARAM lParam = 0);
```

### <a name="parameters"></a>参数

*wParam*<br/>
[在]不使用此参数。

*lParam*<br/>
[在]不使用此参数。

### <a name="return-value"></a>返回值

始终返回 0。

### <a name="remarks"></a>备注

## <a name="cframewndexonlbuttondown"></a><a name="onlbuttondown"></a>CFramewndEx：：打开按钮

当用户按下鼠标左键时，框架将调用此方法。

```
afx_msg void OnLButtonDown(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>参数

*nFlags*<br/>
[在]指示用户是否按下修改器键。 有关可能的值，请参阅[WM_LBUTTONDOWN通知](/windows/win32/inputdev/wm-lbuttondown)中的参数*wParam。*

*点*<br/>
[在]指定指针相对于窗口左上角的 x 和 y 坐标。

### <a name="remarks"></a>备注

## <a name="cframewndexonlbuttonup"></a><a name="onlbuttonup"></a>CFramewndEx：：OnLButtonUp

当用户释放鼠标左键时，框架将调用此方法。

```
afx_msg void OnLButtonUp(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>参数

*nFlags*<br/>
[在]指示用户是否按下修改器键。 有关可能的值，请参阅[WM_LBUTTONUP通知](/windows/win32/inputdev/wm-lbuttonup)中的参数*wParam。*

*点*<br/>
[在]指定指针相对于窗口左上角的 x 和 y 坐标。

### <a name="remarks"></a>备注

## <a name="cframewndexonmenubuttontoolhittest"></a><a name="onmenubuttontoolhittest"></a>CFramewndEx：：在MenuButton工具命中测试

当`CMFCToolBarButton`对象处理WM_NCHITTEST消息时，由框架调用。

```
virtual BOOL OnMenuButtonToolHitTest(
    CMFCToolBarButton* pButton,
    TOOLINFO* pTI);
```

### <a name="parameters"></a>参数

*pButton*<br/>
[在]指向工具栏按钮的指针。

*Pti*<br/>
[出]指向工具信息结构的指针。

### <a name="return-value"></a>返回值

如果应用程序填充*pTI*参数，则为 TRUE。 否则。

### <a name="remarks"></a>备注

如果要提供有关特定菜单项的工具提示信息，请重写此方法。

## <a name="cframewndexonmenuchar"></a><a name="onmenuchar"></a>CFramewndEx：：在MenuChar

当显示菜单并且用户按下与命令不对应的键时，由框架调用。

```
afx_msg LRESULT OnMenuChar(
    UINT nChar,
    UINT nFlags,
    CMenu* pMenu);
```

### <a name="parameters"></a>参数

*n查尔*<br/>
[在]按下键的字符代码。

*nFlags*<br/>
[在]如果显示的菜单是子菜单，则包含MF_POPUP标志;如果显示的菜单是控件菜单，则包含MF_SYSMENU标志。

*pMenu*<br/>
[在]指向菜单的指针。

### <a name="return-value"></a>返回值

高阶单词必须是以下值之一。

|||
|-|-|
`0` | 框架应忽略击键。
`1`  | 框架应关闭菜单。
`2`  | 框架应选择菜单中显示的项目之一。 低阶单词包含要选择的命令的 ID。

## <a name="cframewndexonmousemove"></a><a name="onmousemove"></a>CFramewndEx：：鼠标移动

当指针移动时，框架调用此方法。

```
afx_msg void OnMouseMove(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>参数

*nFlags*<br/>
[在]指示用户是否按下修改器键。 有关可能的值，请参阅[WM_MOUSEMOVE通知](/windows/win32/inputdev/wm-mousemove)中的参数*wParam。*

*点*<br/>
[在]指定指针相对于窗口左上角的 x 和 y 坐标。

### <a name="remarks"></a>备注

## <a name="cframewndexonmoveminiframe"></a><a name="onmoveminiframe"></a>CFramewndEx：：在移动迷你框架

当窗格窗口移动时由框架调用。

```
virtual BOOL OnMoveMiniFrame(CWnd* pFrame);
```

### <a name="parameters"></a>参数

*pFrame*<br/>
[在]指向[CPaneFramewnd 类](../../mfc/reference/cpaneframewnd-class.md)窗格窗口。

### <a name="return-value"></a>返回值

如果窗格窗口未停靠，则为 TRUE;如果窗格窗口已停靠，则 FALSE。

### <a name="remarks"></a>备注

## <a name="cframewndexonncactivate"></a><a name="onncactivate"></a>CFramewndEx：：打开NcActivate

当必须重新绘制框架的非工作区以指示活动状态的更改时，框架调用框架。

```
afx_msg BOOL OnNcActivate(BOOL bActive);
```

### <a name="parameters"></a>参数

*b 活动*<br/>
[在]TRUE 以激活帧;FALSE 以将帧绘制为非活动状态。

### <a name="return-value"></a>返回值

非零继续默认处理;0 以防止非工作区停用。

### <a name="remarks"></a>备注

## <a name="cframewndexonnccalcsize"></a><a name="onnccalcsize"></a>CFramewndEx：在NcCalcsize上

当必须计算工作区的大小和位置时，由框架调用。

```
afx_msg void OnNcCalcSize(
    BOOL bCalcValidRects,
    NCCALCSIZE_PARAMS FAR* lpncsp);
```

### <a name="parameters"></a>参数

*bCalcValidrects*<br/>
[在]当应用程序必须指定有效的工作区时为 TRUE;否则，FALSE。

*lpncsp*<br/>
[在]指向包含帧`NCCALCSIZE_PARAMS`尺寸更改的结构的指针。

### <a name="remarks"></a>备注

## <a name="cframewndexonnchittest"></a><a name="onnchittest"></a>CFramewndEx：：OnNcHitTest

当指针移动或按下或释放鼠标按钮时，框架调用。

```
afx_msg LRESULT OnNcHitTest(CPoint point);
```

### <a name="parameters"></a>参数

*点*<br/>
[在]指针在屏幕坐标中的位置。

### <a name="return-value"></a>返回值

指针命中枚举值。 有关可能值的列表，请参阅[WM_NCHITTEST通知](/windows/win32/inputdev/wm-nchittest)。

### <a name="remarks"></a>备注

## <a name="cframewndexonncmousemove"></a><a name="onncmousemove"></a>CFramewndEx：：在NcMouseMove上

当指针在非工作区中移动时，由框架调用。

```
afx_msg void OnNcMouseMove(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>参数

*nHitTest*<br/>
[在]指针命中枚举值。 有关可能值的列表，请参阅[WM_NCHITTEST通知](/windows/win32/inputdev/wm-nchittest)。

*点*<br/>
[在]指针在屏幕坐标中的位置。

### <a name="remarks"></a>备注

## <a name="cframewndexonncpaint"></a><a name="onncpaint"></a>CFramewndEx：onNcPaint

当必须绘制非工作区时，框架调用。

```
afx_msg void OnNcPaint();
```

### <a name="remarks"></a>备注

## <a name="cframewndexonpanecheck"></a><a name="onpanecheck"></a>CFramewndEx：：在窗格检查

由框架调用以控制窗格的可见性。

```
afx_msg BOOL OnPaneCheck(UINT nID);
```

### <a name="parameters"></a>参数

*nID*<br/>
[在]窗格的控制 ID。

### <a name="return-value"></a>返回值

如果处理命令，则为 TRUE;如果已处理命令，则为 TRUE。FALSE 继续处理命令。

### <a name="remarks"></a>备注

## <a name="cframewndexonpostpreviewframe"></a><a name="onpostpreviewframe"></a>CFramewndEx：在后预览帧上

当用户更改打印预览模式时，由框架调用。

```
afx_msg LRESULT OnPostPreviewFrame(
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>参数

*wParam*<br/>
[在]不使用此参数。

*lParam*<br/>
[在]当帧处于打印预览模式时为 TRUE;如果帧处于打印预览模式，则为 TRUE。打印预览模式关闭时 FALSE。

### <a name="return-value"></a>返回值

始终返回 0。

### <a name="remarks"></a>备注

## <a name="cframewndexonpowerbroadcast"></a><a name="onpowerbroadcast"></a>CFramewndEx：：在功率广播

发生电源管理事件时由框架调用。

```
afx_msg LRESULT OnPowerBroadcast(
    WPARAM wp,
    LPARAM lp);
```

### <a name="parameters"></a>参数

*Wp*<br/>
[在]电源管理事件。 有关可能值的列表，请参阅[WM_POWERBROADCAST消息](/windows/win32/Power/wm-powerbroadcast)。

*lp*<br/>
[在]不使用此参数。

### <a name="return-value"></a>返回值

调用默认窗口过程的结果。

### <a name="remarks"></a>备注

## <a name="cframewndexonsetmenu"></a><a name="onsetmenu"></a>CFramewndEx：：打开菜单

由框架调用以替换框架窗口菜单。

```
afx_msg LRESULT OnSetMenu(
    WPARAM wp,
    LPARAM lp);

BOOL OnSetMenu(HMENU hmenu);
```

### <a name="parameters"></a>参数

*Wp*<br/>
[在]处理新的框架窗口菜单。

*lp*<br/>
[在]处理新窗口菜单。

*赫梅努*<br/>
[在]处理新的框架窗口菜单。

### <a name="return-value"></a>返回值

LRESULT 是调用默认窗口过程的结果。

如果事件已处理，BOOL 为 TRUE;如果事件已处理，则为 TRUE。否则，FALSE。

### <a name="remarks"></a>备注

## <a name="cframewndexonsetpreviewmode"></a><a name="onsetpreviewmode"></a>CFramewndEx：：打开预览模式

由框架调用，以设置框架的打印预览模式。

```
virtual void OnSetPreviewMode(
    BOOL bPreview,
    CPrintPreviewState* pState);
```

### <a name="parameters"></a>参数

*b预览*<br/>
[在]TRUE 以启用打印预览;FALSE 以禁用打印预览。

*pState*<br/>
[在]指向帧状态`CPrintPreviewState`结构的指针。

### <a name="remarks"></a>备注

## <a name="cframewndexonsettext"></a><a name="onsettext"></a>CFramewndEx：：打开文本

由框架调用以设置窗口的文本。

```
afx_msg LRESULT OnSetText(
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>参数

*wParam*<br/>
[在]不使用此参数。

*lParam*<br/>
[在]指向窗口的文本。

### <a name="return-value"></a>返回值

从调用返回值到[DefWindowProc](/windows/win32/api/winuser/nf-winuser-defwindowprocw)。

### <a name="remarks"></a>备注

## <a name="cframewndexonshowcustomizepane"></a><a name="onshowcustomizepane"></a>CFramewndEx：：在显示自定义窗格

当框架显示 时`QuickCustomizePane`，它被调用。

```
virtual BOOL OnShowCustomizePane(
    CMFCPopupMenu* pMenuPane,
    UINT uiToolbarID);
```

### <a name="parameters"></a>参数

*pMenuPane*<br/>
[在]指向快速自定义窗格的指针。

*uiToolbarID*<br/>
[在]要自定义的工具栏的控制 ID。

### <a name="return-value"></a>返回值

此方法始终返回 TRUE。

### <a name="remarks"></a>备注

快速自定义菜单是单击工具栏的自定义按钮时出现的弹出式菜单

## <a name="cframewndexonshowpanes"></a><a name="onshowpanes"></a>CFramewndEx：：在显示窗格

由框架调用以显示或隐藏窗格。

```
virtual BOOL OnShowPanes(BOOL bShow);
```

### <a name="parameters"></a>参数

*b显示*<br/>
[在]如果应用程序显示窗格，则为 TRUE;如果应用程序显示窗格，则为 TRUE。否则。

### <a name="return-value"></a>返回值

此方法始终返回 FALSE。

### <a name="remarks"></a>备注

如果*bShow*为 TRUE，并且窗格处于隐藏状态，或者*bShow*为 FALSE 并且窗格可见，则默认实现将显示窗格。

如果*bShow*为 TRUE，并且窗格可见，或者*bShow*为 FALSE 并且窗格处于隐藏状态，则默认实现将隐藏窗格。

在派生类中重写此方法，在框架显示或隐藏窗格时执行自定义代码。

## <a name="cframewndexonshowpopupmenu"></a><a name="onshowpopupmenu"></a>CFramewndEx：：在显示弹出菜单

当框架显示弹出式菜单时，由它调用。

```
virtual BOOL OnShowPopupMenu(CMFCPopupMenu* pMenu);
```

### <a name="parameters"></a>参数

*pMenu*<br/>
[在]指向弹出菜单的指针。

### <a name="return-value"></a>返回值

如果弹出式菜单可见，则为 TRUE;否则 FALSE。

### <a name="remarks"></a>备注

在派生类中重写此方法，在框架显示弹出菜单时执行自定义代码。 例如，重写此方法以更改弹出菜单中命令的背景颜色。

## <a name="cframewndexonsize"></a><a name="onsize"></a>CFramewndEx：：打开尺寸

框架大小更改后由框架调用。

```
afx_msg void OnSize(
    UINT nType,
    int cx,
    int cy);
```

### <a name="parameters"></a>参数

nType**<br/>
[在]调整大小的类型。 有关可能的值，请参阅[WM_SIZE通知](/windows/win32/winmsg/wm-size)中的参数*wParam。*

*残雪*<br/>
[在]以像素为单位的帧新宽度。

*cy*<br/>
[在]以像素为单位的帧的新高度。

### <a name="remarks"></a>备注

## <a name="cframewndexonsizing"></a><a name="onsizing"></a>CFramewndEx：：打开

当用户调整框架的大小时，由框架调用。

```
afx_msg void OnSizing(
    UINT fwSide,
    LPRECT pRect);
```

### <a name="parameters"></a>参数

*fwSide*<br/>
[在]移动的帧边缘。 请参阅[WM_SIZING通知](/windows/win32/winmsg/wm-sizing)中的参数*wParam。*

*普雷克*<br/>
[进出]指向包含帧坐标的[CRect](../../atl-mfc-shared/reference/crect-class.md)或[RECT](/windows/win32/api/windef/ns-windef-rect)结构的指针。

### <a name="remarks"></a>备注

## <a name="cframewndexonsyscolorchange"></a><a name="onsyscolorchange"></a>CFramewndEx：：SysColorChange

当系统颜色发生变化时由框架调用。

```
void OnSysColorChange();
```

### <a name="remarks"></a>备注

## <a name="cframewndexontearoffmenu"></a><a name="ontearoffmenu"></a>CFramewndEx：：在TearoffMenu上

当应用程序显示具有撕开条的菜单时，由框架调用。

```
virtual BOOL OnTearOffMenu(
    CMFCPopupMenu* pMenuPopup,
    CPane* pBar);
```

### <a name="parameters"></a>参数

*pMenuPopup*<br/>
[在]指向弹出菜单的指针。

*pBar*<br/>
[在]指向撕裂条的指针。

### <a name="return-value"></a>返回值

如果启用了带撕开条的弹出菜单，则为 TRUE;如果启用了带撕下条的弹出菜单。否则 FALSE。

### <a name="remarks"></a>备注

在派生类中重写此方法，在框架显示控制栏时执行自定义代码。

默认实现不执行任何操作，并返回 TRUE。

## <a name="cframewndexontoolbarcontextmenu"></a><a name="ontoolbarcontextmenu"></a>CFramewndEx：：在工具栏上下文菜单上

由框架调用以生成工具栏弹出式菜单。

```
afx_msg LRESULT OnToolbarContextMenu(
    WPARAM wp,
    LPARAM lp);
```

### <a name="parameters"></a>参数

*Wp*<br/>
[在]不使用此参数。

*lp*<br/>
[在]不使用此参数。

### <a name="return-value"></a>返回值

始终返回 1。

### <a name="remarks"></a>备注

## <a name="cframewndexontoolbarcreatenew"></a><a name="ontoolbarcreatenew"></a>CFramewndEx：：在工具栏创建新

框架调用此方法以创建新工具栏。

```
afx_msg LRESULT OnToolbarCreateNew(
    WPARAM wp,
    LPARAM lp);
```

### <a name="parameters"></a>参数

*Wp*<br/>
[在]不使用此参数。

*lp*<br/>
[在]指向工具栏标题栏的文本。

### <a name="return-value"></a>返回值

指向新工具栏的指针;如果未创建工具栏，则为 NULL。

### <a name="remarks"></a>备注

## <a name="cframewndexontoolbardelete"></a><a name="ontoolbardelete"></a>CFramewndEx：：打开工具栏删除

删除工具栏时由框架调用。

```
afx_msg LRESULT OnToolbarDelete(
    WPARAM /* unused */,
    LPARAM lp);
```

### <a name="parameters"></a>参数

*闲置*<br/>
[在]不使用此参数。

*lp*<br/>
[在]指向工具栏的指针。

### <a name="return-value"></a>返回值

如果工具栏已删除，则为 TRUE;如果工具栏已删除，则为 TRUE。否则，FALSE。

### <a name="remarks"></a>备注

## <a name="cframewndexonupdateframemenu"></a><a name="onupdateframemenu"></a>CFramewndEx：：更新框架菜单

由框架调用以设置框架菜单。

```
virtual void OnUpdateFrameMenu(HMENU hMenuAlt);
```

### <a name="parameters"></a>参数

*哈梅内阿尔特*<br/>
[在]处理备用菜单。

### <a name="remarks"></a>备注

## <a name="cframewndexonupdateframetitle"></a><a name="onupdateframetitle"></a>CFramewndEx：：更新帧标题

框架调用此方法以更新框架窗口的标题栏。

```
virtual void OnUpdateFrameTitle(BOOL bAddToTitle);
```

### <a name="parameters"></a>参数

*bAddToTitle*<br/>
[在]TRUE 将活动文档标题添加到框架窗口标题栏;否则 FALSE。

### <a name="remarks"></a>备注

## <a name="cframewndexonupdatepanemenu"></a><a name="onupdatepanemenu"></a>CFramewndEx：：更新窗格菜单

由框架调用以更新窗格菜单。

```
afx_msg void OnUpdatePaneMenu(CCmdUI* pCmdUI);
```

### <a name="parameters"></a>参数

*pCmdUI*<br/>
[在]指向窗格用户界面对象的指针。

### <a name="remarks"></a>备注

## <a name="cframewndexonwindowposchanged"></a><a name="onwindowposchanged"></a>CFramewndEx：：在窗口Pos上

当帧大小、位置或 z 顺序因调用窗口管理方法而发生更改时，由框架调用。

```
afx_msg void OnWindowPosChanged(WINDOWPOS FAR* lpwndpos);
```

### <a name="parameters"></a>参数

*lpwndpos*<br/>
[在]指向包含新大小和位置的[WINDOWPOS](/windows/win32/api/winuser/ns-winuser-windowpos)结构的指针。

### <a name="remarks"></a>备注

## <a name="cframewndexpanefrompoint"></a><a name="panefrompoint"></a>CFramewndEx：:P从点

搜索每个窗格的给定点。

```
CBasePane* PaneFromPoint(
    CPoint point,
    int nSensitivity,
    bool bExactBar,
    CRuntimeClass* pRTCBarType) const;

CBasePane* PaneFromPoint(
    CPoint point,
    int nSensitivity,
    DWORD& dwAlignment,
    CRuntimeClass* pRTCBarType) const;
```

### <a name="parameters"></a>参数

*点*<br/>
[在]要检查的点的屏幕坐标。

*nSensitivity*<br/>
[在]搜索点时，按此量展开每个控件栏的边界矩形。

*bExactBar*<br/>
[在]TRUE 忽略*n 敏感参数*;否则，FALSE。

*pRTCBar类型*<br/>
[在]如果不是 NULL，该方法将仅搜索指定类型的控制栏。

*dwalignment*<br/>
[出]如果成功，此参数包含最接近指定点的控制栏的一侧。 否则，不会初始化此参数。

### <a name="return-value"></a>返回值

指向包含点的控制栏的*指针*;如果未找到控件，则为 NULL。

### <a name="remarks"></a>备注

此方法搜索应用程序中的所有控制栏以搜索*点*。

使用*nSensitivity*可增加搜索区域的大小。 使用*pRTCBarType*限制方法搜索的控制栏的类型。

## <a name="cframewndexpretranslatemessage"></a><a name="pretranslatemessage"></a>CFramewndEx：:P重新翻译消息

在调度特定窗口消息之前处理它们。

```
virtual BOOL PreTranslateMessage(MSG* pMsg);
```

### <a name="parameters"></a>参数

*pMsg*<br/>
[在]指向包含要处理的消息的[MSG](/windows/win32/api/winuser/ns-winuser-msg)结构的指针。

### <a name="return-value"></a>返回值

如果消息已处理且不应调度，则为非零;0 如果消息未处理，则应调度。

### <a name="remarks"></a>备注

## <a name="cframewndexrecalclayout"></a><a name="recalclayout"></a>CFramewndEx：recalclayout

调整框架及其子窗口的布局。

```
virtual void RecalcLayout(BOOL bNotify = TRUE);
```

### <a name="parameters"></a>参数

*b 通知*<br/>
[在]指定是否通知 OLE 客户端项有关布局更改。

### <a name="remarks"></a>备注

当框架窗口的大小已更改或显示或隐藏控制栏时，将调用此方法。

## <a name="cframewndexremovepanefromdockmanager"></a><a name="removepanefromdockmanager"></a>CFramewndEx：：从Dock管理器中删除Pane

取消注册窗格并从停靠管理器中删除它。

```
void RemovePaneFromDockManager(
    CBasePane* pControlBar,
    BOOL bDestroy,
    BOOL bAdjustLayout,
    BOOL bAutoHide,
    CBasePane* pBarReplacement);
```

### <a name="parameters"></a>参数

*p控制栏*<br/>
[在]指向要删除的控制栏窗格的指针。

*b破坏*<br/>
[在]TRUE 在卸下控制条后将其销毁;否则。

*b 调整布局*<br/>
[在]TRUE 调整停靠布局;否则。

*bAutoHide*<br/>
[在]如果控制栏处于自动隐藏模式，则为 TRUE;否则。

*pBar 替换*<br/>
[在]指向替换已删除窗格的窗格的指针。

### <a name="remarks"></a>备注

使用此方法从框架窗口的停靠布局中删除控制栏。

[CDockingManager 类](../../mfc/reference/cdockingmanager-class.md)处理控制栏的布局。 您必须使用[CFrameWndEx：：addPane](#addpane)方法或[CFrameWndEx：：：插入窗格](#insertpane)方法向停靠管理器注册每个控制栏。

## <a name="cframewndexsetdockstate"></a><a name="setdockstate"></a>CFramewndEx：：SetDockstate

将停靠布局还原到存储在注册表中的停靠状态。

```
void SetDockState(const CDockState& state);
```

### <a name="parameters"></a>参数

*状态*<br/>
停靠状态。 该参数将被忽略。

## <a name="cframewndexsetprintpreviewframe"></a><a name="setprintpreviewframe"></a>CFramewndEx：：设置打印预览框架

设置打印预览框架窗口。

```
void SetPrintPreviewFrame(CFrameWnd* pWnd);
```

### <a name="parameters"></a>参数

*pwnd*<br/>
[在]指向打印预览框架窗口的指针。

### <a name="remarks"></a>备注

## <a name="cframewndexsetuptoolbarmenu"></a><a name="setuptoolbarmenu"></a>CFramewndEx：：设置工具栏菜单

将用户定义的命令插入工具栏菜单。

```
void SetupToolbarMenu(
    CMenu& menu,
    const UINT uiViewUserToolbarCmdFirst,
    const UINT uiViewUserToolbarCmdLast);
```

### <a name="parameters"></a>参数

*菜单*<br/>
[在]要`CMenu`修改的对象。

*uiViewUserToolbarCmdFirst*<br/>
[在]第一个用户定义的命令。

*uiViewUserToolbarCmdLast*<br/>
[在]最后一个用户定义的命令。

### <a name="remarks"></a>备注

框架将用户定义的命令存储在列表中。 使用*uiViewUserToolbarCmdFirst*和*uiViewUserToolbarCmdList*指定要插入的命令的索引。

## <a name="cframewndexshowfullscreen"></a><a name="showfullscreen"></a>CFramewndEx：：显示全屏

在全屏模式和常规模式之间切换主框架。

```
void ShowFullScreen();
```

## <a name="cframewndexshowpane"></a><a name="showpane"></a>CFramewndEx：：显示窗格

显示或隐藏指定的窗格。

```
void ShowPane(
    CBasePane* pBar,
    BOOL bShow,
    BOOL bDelay,
    BOOL bActivate);
```

### <a name="parameters"></a>参数

*pBar*<br/>
[在]指向要显示或隐藏的控制栏的指针。

*b显示*<br/>
[在]如果为 TRUE，则应用程序将显示控制栏。 否则，应用程序将隐藏控制栏。

*bDelay*<br/>
[在]如果为 TRUE，请延迟停靠布局的调整，直到框架调用[CFrameWndEx：：调整停靠布局](#adjustdockinglayout)。 否则，立即重新计算停靠布局。

*b 激活*<br/>
[在]如果为 TRUE，则使控制栏处于活动状态。 否则，将控制栏显示为非活动状态。

## <a name="cframewndexupdatecaption"></a><a name="updatecaption"></a>CFramewndEx：：更新标题

由框架调用以更新窗口框架标题。

```
void UpdateCaption();
```

### <a name="remarks"></a>备注

## <a name="cframewndexwinhelp"></a><a name="winhelp"></a>CFramewndEx：：赢帮助

调用 WinHelp 应用程序或上下文相关帮助。

```
virtual void WinHelp(
    DWORD dwData,
    UINT nCmd = HELP_CONTEXT);
```

### <a name="parameters"></a>参数

*dwData*<br/>
依赖于*nCmd*参数的数据。 有关可能值的列表，请参阅[WinHelp](/windows/win32/api/winuser/nf-winuser-winhelpw)。

*nCmd*<br/>
帮助命令。 有关可能值的列表，请参阅[WinHelp](/windows/win32/api/winuser/nf-winuser-winhelpw)。

### <a name="remarks"></a>备注

## <a name="see-also"></a>另请参阅

[层次结构图表](../../mfc/hierarchy-chart.md)<br/>
[类](../../mfc/reference/mfc-classes.md)<br/>
[CFrameWnd](../../mfc/reference/cframewnd-class.md)
