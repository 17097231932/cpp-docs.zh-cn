---
title: CTreeCtrl 类 |Microsoft Docs
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-mfc
ms.topic: reference
f1_keywords:
- CTreeCtrl
- AFXCMN/CTreeCtrl
- AFXCMN/CTreeCtrl::CTreeCtrl
- AFXCMN/CTreeCtrl::Create
- AFXCMN/CTreeCtrl::CreateDragImage
- AFXCMN/CTreeCtrl::CreateEx
- AFXCMN/CTreeCtrl::DeleteAllItems
- AFXCMN/CTreeCtrl::DeleteItem
- AFXCMN/CTreeCtrl::EditLabel
- AFXCMN/CTreeCtrl::EndEditLabelNow
- AFXCMN/CTreeCtrl::EnsureVisible
- AFXCMN/CTreeCtrl::Expand
- AFXCMN/CTreeCtrl::GetBkColor
- AFXCMN/CTreeCtrl::GetCheck
- AFXCMN/CTreeCtrl::GetChildItem
- AFXCMN/CTreeCtrl::GetCount
- AFXCMN/CTreeCtrl::GetDropHilightItem
- AFXCMN/CTreeCtrl::GetEditControl
- AFXCMN/CTreeCtrl::GetExtendedStyle
- AFXCMN/CTreeCtrl::GetFirstVisibleItem
- AFXCMN/CTreeCtrl::GetImageList
- AFXCMN/CTreeCtrl::GetIndent
- AFXCMN/CTreeCtrl::GetInsertMarkColor
- AFXCMN/CTreeCtrl::GetItem
- AFXCMN/CTreeCtrl::GetItemData
- AFXCMN/CTreeCtrl::GetItemExpandedImageIndex
- AFXCMN/CTreeCtrl::GetItemHeight
- AFXCMN/CTreeCtrl::GetItemImage
- AFXCMN/CTreeCtrl::GetItemPartRect
- AFXCMN/CTreeCtrl::GetItemRect
- AFXCMN/CTreeCtrl::GetItemState
- AFXCMN/CTreeCtrl::GetItemStateEx
- AFXCMN/CTreeCtrl::GetItemText
- AFXCMN/CTreeCtrl::GetLastVisibleItem
- AFXCMN/CTreeCtrl::GetLineColor
- AFXCMN/CTreeCtrl::GetNextItem
- AFXCMN/CTreeCtrl::GetNextSiblingItem
- AFXCMN/CTreeCtrl::GetNextVisibleItem
- AFXCMN/CTreeCtrl::GetParentItem
- AFXCMN/CTreeCtrl::GetPrevSiblingItem
- AFXCMN/CTreeCtrl::GetPrevVisibleItem
- AFXCMN/CTreeCtrl::GetRootItem
- AFXCMN/CTreeCtrl::GetScrollTime
- AFXCMN/CTreeCtrl::GetSelectedCount
- AFXCMN/CTreeCtrl::GetSelectedItem
- AFXCMN/CTreeCtrl::GetTextColor
- AFXCMN/CTreeCtrl::GetToolTips
- AFXCMN/CTreeCtrl::GetVisibleCount
- AFXCMN/CTreeCtrl::HitTest
- AFXCMN/CTreeCtrl::InsertItem
- AFXCMN/CTreeCtrl::ItemHasChildren
- AFXCMN/CTreeCtrl::MapAccIdToItem
- AFXCMN/CTreeCtrl::MapItemToAccID
- AFXCMN/CTreeCtrl::Select
- AFXCMN/CTreeCtrl::SelectDropTarget
- AFXCMN/CTreeCtrl::SelectItem
- AFXCMN/CTreeCtrl::SelectSetFirstVisible
- AFXCMN/CTreeCtrl::SetAutoscrollInfo
- AFXCMN/CTreeCtrl::SetBkColor
- AFXCMN/CTreeCtrl::SetCheck
- AFXCMN/CTreeCtrl::SetExtendedStyle
- AFXCMN/CTreeCtrl::SetImageList
- AFXCMN/CTreeCtrl::SetIndent
- AFXCMN/CTreeCtrl::SetInsertMark
- AFXCMN/CTreeCtrl::SetInsertMarkColor
- AFXCMN/CTreeCtrl::SetItem
- AFXCMN/CTreeCtrl::SetItemData
- AFXCMN/CTreeCtrl::SetItemExpandedImageIndex
- AFXCMN/CTreeCtrl::SetItemHeight
- AFXCMN/CTreeCtrl::SetItemImage
- AFXCMN/CTreeCtrl::SetItemState
- AFXCMN/CTreeCtrl::SetItemStateEx
- AFXCMN/CTreeCtrl::SetItemText
- AFXCMN/CTreeCtrl::SetLineColor
- AFXCMN/CTreeCtrl::SetScrollTime
- AFXCMN/CTreeCtrl::SetTextColor
- AFXCMN/CTreeCtrl::SetToolTips
- AFXCMN/CTreeCtrl::ShowInfoTip
- AFXCMN/CTreeCtrl::SortChildren
- AFXCMN/CTreeCtrl::SortChildrenCB
dev_langs:
- C++
helpviewer_keywords:
- CTreeCtrl [MFC], CTreeCtrl
- CTreeCtrl [MFC], Create
- CTreeCtrl [MFC], CreateDragImage
- CTreeCtrl [MFC], CreateEx
- CTreeCtrl [MFC], DeleteAllItems
- CTreeCtrl [MFC], DeleteItem
- CTreeCtrl [MFC], EditLabel
- CTreeCtrl [MFC], EndEditLabelNow
- CTreeCtrl [MFC], EnsureVisible
- CTreeCtrl [MFC], Expand
- CTreeCtrl [MFC], GetBkColor
- CTreeCtrl [MFC], GetCheck
- CTreeCtrl [MFC], GetChildItem
- CTreeCtrl [MFC], GetCount
- CTreeCtrl [MFC], GetDropHilightItem
- CTreeCtrl [MFC], GetEditControl
- CTreeCtrl [MFC], GetExtendedStyle
- CTreeCtrl [MFC], GetFirstVisibleItem
- CTreeCtrl [MFC], GetImageList
- CTreeCtrl [MFC], GetIndent
- CTreeCtrl [MFC], GetInsertMarkColor
- CTreeCtrl [MFC], GetItem
- CTreeCtrl [MFC], GetItemData
- CTreeCtrl [MFC], GetItemExpandedImageIndex
- CTreeCtrl [MFC], GetItemHeight
- CTreeCtrl [MFC], GetItemImage
- CTreeCtrl [MFC], GetItemPartRect
- CTreeCtrl [MFC], GetItemRect
- CTreeCtrl [MFC], GetItemState
- CTreeCtrl [MFC], GetItemStateEx
- CTreeCtrl [MFC], GetItemText
- CTreeCtrl [MFC], GetLastVisibleItem
- CTreeCtrl [MFC], GetLineColor
- CTreeCtrl [MFC], GetNextItem
- CTreeCtrl [MFC], GetNextSiblingItem
- CTreeCtrl [MFC], GetNextVisibleItem
- CTreeCtrl [MFC], GetParentItem
- CTreeCtrl [MFC], GetPrevSiblingItem
- CTreeCtrl [MFC], GetPrevVisibleItem
- CTreeCtrl [MFC], GetRootItem
- CTreeCtrl [MFC], GetScrollTime
- CTreeCtrl [MFC], GetSelectedCount
- CTreeCtrl [MFC], GetSelectedItem
- CTreeCtrl [MFC], GetTextColor
- CTreeCtrl [MFC], GetToolTips
- CTreeCtrl [MFC], GetVisibleCount
- CTreeCtrl [MFC], HitTest
- CTreeCtrl [MFC], InsertItem
- CTreeCtrl [MFC], ItemHasChildren
- CTreeCtrl [MFC], MapAccIdToItem
- CTreeCtrl [MFC], MapItemToAccID
- CTreeCtrl [MFC], Select
- CTreeCtrl [MFC], SelectDropTarget
- CTreeCtrl [MFC], SelectItem
- CTreeCtrl [MFC], SelectSetFirstVisible
- CTreeCtrl [MFC], SetAutoscrollInfo
- CTreeCtrl [MFC], SetBkColor
- CTreeCtrl [MFC], SetCheck
- CTreeCtrl [MFC], SetExtendedStyle
- CTreeCtrl [MFC], SetImageList
- CTreeCtrl [MFC], SetIndent
- CTreeCtrl [MFC], SetInsertMark
- CTreeCtrl [MFC], SetInsertMarkColor
- CTreeCtrl [MFC], SetItem
- CTreeCtrl [MFC], SetItemData
- CTreeCtrl [MFC], SetItemExpandedImageIndex
- CTreeCtrl [MFC], SetItemHeight
- CTreeCtrl [MFC], SetItemImage
- CTreeCtrl [MFC], SetItemState
- CTreeCtrl [MFC], SetItemStateEx
- CTreeCtrl [MFC], SetItemText
- CTreeCtrl [MFC], SetLineColor
- CTreeCtrl [MFC], SetScrollTime
- CTreeCtrl [MFC], SetTextColor
- CTreeCtrl [MFC], SetToolTips
- CTreeCtrl [MFC], ShowInfoTip
- CTreeCtrl [MFC], SortChildren
- CTreeCtrl [MFC], SortChildrenCB
ms.assetid: 96e20031-6161-4143-8c12-8d1816c66d90
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: 6ebae1828d102881d866e05d41f1831e35e01a51
ms.sourcegitcommit: a7046aac86f1c83faba1088c80698474e25fe7c3
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/04/2018
ms.locfileid: "43679242"
---
# <a name="ctreectrl-class"></a>CTreeCtrl Class
提供 Windows 公共树视图控件的功能。  
  
## <a name="syntax"></a>语法  
  
```  
class CTreeCtrl : public CWnd  
```  
  
## <a name="members"></a>成员  
  
### <a name="public-constructors"></a>公共构造函数  
  
|名称|描述|  
|----------|-----------------|  
|[CTreeCtrl::CTreeCtrl](#ctreectrl)|构造 `CTreeCtrl` 对象。|  
  
### <a name="public-methods"></a>公共方法  
  
|名称|描述|  
|----------|-----------------|  
|[CTreeCtrl::Create](#create)|创建的树视图控件，并将其附加到`CTreeCtrl`对象。|  
|[CTreeCtrl::CreateDragImage](#createdragimage)|创建一个拖动位图指定的树视图项。|  
|[CTreeCtrl::CreateEx](#createex)|创建具有指定的 Windows 扩展样式的树控件并将其附加到`CTreeCtrl`对象。|  
|[CTreeCtrl::DeleteAllItems](#deleteallitems)|删除的树视图控件中的所有项。|  
|[CTreeCtrl::DeleteItem](#deleteitem)|删除的树视图控件中的新项。|  
|[CTreeCtrl::EditLabel](#editlabel)|编辑指定的树视图项中的位置。|  
|[CTreeCtrl::EndEditLabelNow](#endeditlabelnow)|取消当前的树视图控件中的树视图项的标签的编辑操作。|  
|[CTreeCtrl::EnsureVisible](#ensurevisible)|确保在其树视图控件中可见的树视图项。|  
|[CTreeCtrl::Expand](#expand)|展开或折叠，指定的树视图项的子项。|  
|[CTreeCtrl::GetBkColor](#getbkcolor)|检索控件的当前背景色。|  
|[CTreeCtrl::GetCheck](#getcheck)|检索树控件项的复选状态。|  
|[CTreeCtrl::GetChildItem](#getchilditem)|检索指定的树视图项的子级。|  
|[CTreeCtrl::GetCount](#getcount)|检索树与树视图控件相关联的项目数。|  
|[CTreeCtrl::GetDropHilightItem](#getdrophilightitem)|检索拖放操作的目标。|  
|[CTreeCtrl::GetEditControl](#geteditcontrol)|检索用来编辑指定的树视图项的编辑控件的句柄。|  
|[CTreeCtrl::GetExtendedStyle](#getextendedstyle)|检索当前的树视图控件使用的扩展的样式。|  
|[CTreeCtrl::GetFirstVisibleItem](#getfirstvisibleitem)|检索指定的树视图项的第一个可见项。|  
|[CTreeCtrl::GetImageList](#getimagelist)|检索与树视图控件关联的图像列表的句柄。|  
|[CTreeCtrl::GetIndent](#getindent)|从其父级中检索的树视图项的偏移量 （以像素为单位）。|  
|[CTreeCtrl::GetInsertMarkColor](#getinsertmarkcolor)|检索用来绘制树视图中插入标记的颜色。|  
|[CTreeCtrl::GetItem](#getitem)|检索指定的树视图项的属性。|  
|[CTreeCtrl::GetItemData](#getitemdata)|返回与项关联的 32 位应用程序特定值。|  
|[CTreeCtrl::GetItemExpandedImageIndex](#getitemexpandedimageindex)|检索当前的树视图控件的指定的项处于展开状态时显示的图像的索引。|  
|[CTreeCtrl::GetItemHeight](#getitemheight)|检索当前的树视图项高度。|  
|[CTreeCtrl::GetItemImage](#getitemimage)|检索与项关联的映像。|  
|[CTreeCtrl::GetItemPartRect](#getitempartrect)|检索当前的树视图控件中的指定项的指定部分的边框。|  
|[CTreeCtrl::GetItemRect](#getitemrect)|检索的树视图项的边框。|  
|[CTreeCtrl::GetItemState](#getitemstate)|返回项的状态。|  
|[CTreeCtrl::GetItemStateEx](#getitemstateex)|检索当前的树视图控件中的指定项的扩展的状态。|  
|[CTreeCtrl::GetItemText](#getitemtext)|返回项的文本。|  
|[CTreeCtrl::GetLastVisibleItem](#getlastvisibleitem)|检索当前的树视图控件中的最后一个展开的项。|  
|[CTreeCtrl::GetLineColor](#getlinecolor)|检索在树视图控件的当前线条颜色。|  
|[CTreeCtrl::GetNextItem](#getnextitem)|检索与匹配的指定的关系的下一步的树视图项。|  
|[CTreeCtrl::GetNextSiblingItem](#getnextsiblingitem)|检索指定的树视图项的下一个同级。|  
|[CTreeCtrl::GetNextVisibleItem](#getnextvisibleitem)|检索指定的树视图项的下一个可见项。|  
|[CTreeCtrl::GetParentItem](#getparentitem)|检索指定的树视图项的父级。|  
|[CTreeCtrl::GetPrevSiblingItem](#getprevsiblingitem)|检索指定的树视图项的上一个同级。|  
|[CTreeCtrl::GetPrevVisibleItem](#getprevvisibleitem)|检索指定的树视图项的上一个可见项。|  
|[CTreeCtrl::GetRootItem](#getrootitem)|检索指定的树视图项的根目录。|  
|[CTreeCtrl::GetScrollTime](#getscrolltime)|检索在树视图控件的最大滚动时间。|  
|[CTreeCtrl::GetSelectedCount](#getselectedcount)|检索当前的树视图控件中选定项的数目。|  
|[CTreeCtrl::GetSelectedItem](#getselecteditem)|检索当前所选的树视图项。|  
|[CTreeCtrl::GetTextColor](#gettextcolor)|检索控件的当前文本颜色。|  
|[CTreeCtrl::GetToolTips](#gettooltips)|检索子树视图控件所使用的工具提示控件的句柄。|  
|[CTreeCtrl::GetVisibleCount](#getvisiblecount)|检索可见的树与树视图控件相关联的项的数目。|  
|[CTreeCtrl::HitTest](#hittest)|返回与光标的当前位置`CTreeCtrl`对象。|  
|[CTreeCtrl::InsertItem](#insertitem)|在树视图控件中插入新项。|  
|[CTreeCtrl::ItemHasChildren](#itemhaschildren)|返回非零，如果指定的项具有子项。|  
|[CTreeCtrl::MapAccIdToItem](#mapaccidtoitem)|将指定可访问性标识符映射到当前的树视图控件中的树视图项的句柄。|  
|[CTreeCtrl::MapItemToAccID](#mapitemtoaccid)|将指定的句柄映射到为可访问性标识符当前的树视图控件中的树视图项。|  
|[CTreeCtrl::Select](#select)|选择、 滚动到视图，或重新绘制的指定的树视图项。|  
|[CTreeCtrl::SelectDropTarget](#selectdroptarget)|作为拖放操作的目标重绘树项。|  
|[CTreeCtrl::SelectItem](#selectitem)|选择指定的树视图项。|  
|[CTreeCtrl::SelectSetFirstVisible](#selectsetfirstvisible)|选择作为第一个可见项的指定的树视图项。|  
|[CTreeCtrl::SetAutoscrollInfo](#setautoscrollinfo)|设置当前的树视图控件的自动滚动率。|  
|[CTreeCtrl::SetBkColor](#setbkcolor)|设置控件的背景色。|  
|[CTreeCtrl::SetCheck](#setcheck)|设置的树控件项的复选状态。|  
|[CTreeCtrl::SetExtendedStyle](#setextendedstyle)|设置当前的树视图控件的扩展的样式。|  
|[CTreeCtrl::SetImageList](#setimagelist)|设置与树视图控件关联的图像列表的句柄。|  
|[CTreeCtrl::SetIndent](#setindent)|设置从其父级的树视图项的偏移量 （以像素为单位）。|  
|[CTreeCtrl::SetInsertMark](#setinsertmark)|设置树视图控件中插入标记。|  
|[CTreeCtrl::SetInsertMarkColor](#setinsertmarkcolor)|设置用于绘制树视图中插入标记的颜色。|  
|[CTreeCtrl::SetItem](#setitem)|设置指定的树视图项的属性。|  
|[CTreeCtrl::SetItemData](#setitemdata)|设置与项关联的 32 位应用程序特定值。|  
|[CTreeCtrl::SetItemExpandedImageIndex](#setitemexpandedimageindex)|设置要在当前的树视图控件的指定的项处于展开状态时显示的图像的索引。|  
|[CTreeCtrl::SetItemHeight](#setitemheight)|设置高度的树视图项。|  
|[CTreeCtrl::SetItemImage](#setitemimage)|将图像与项相关联。|  
|[CTreeCtrl::SetItemState](#setitemstate)|设置项的状态。|  
|[CTreeCtrl::SetItemStateEx](#setitemstateex)|设置当前的树视图控件中的指定项的扩展的状态。|  
|[CTreeCtrl::SetItemText](#setitemtext)|设置项的文本。|  
|[CTreeCtrl::SetLineColor](#setlinecolor)|设置树视图控件的当前线条颜色。|  
|[CTreeCtrl::SetScrollTime](#setscrolltime)|设置树视图控件的最大滚动时间。|  
|[CTreeCtrl::SetTextColor](#settextcolor)|设置控件的文本颜色。|  
|[CTreeCtrl::SetToolTips](#settooltips)|设置树视图控件的子工具提示控件。|  
|[CTreeCtrl::ShowInfoTip](#showinfotip)|显示当前的树视图控件中的指定项的信息提示。|  
|[CTreeCtrl::SortChildren](#sortchildren)|对给定的父项的子级进行排序。|  
|[CTreeCtrl::SortChildrenCB](#sortchildrencb)|对排序使用的应用程序定义的排序函数给定的父项的子级。|  
  
## <a name="remarks"></a>备注  
 "树视图控件"是一个窗口，在磁盘上显示的项，如在文档中，标题索引，或文件和目录中的项的层次列表。 每个项包含一个标签和一个可选位图图像，且每个项可以有一个与之关联的子项列表。 通过单击项，用户可以展开和折叠关联的子项列表。  
  
 此控件 (并因此`CTreeCtrl`类) 仅适用于 Windows 98 和 Windows NT 版本 4 下运行的程序和更高版本。  
  
 有关详细信息使用`CTreeCtrl`，请参阅：  
  
- [控件](../../mfc/controls-mfc.md)  
  
- [使用 CTreeCtrl](../../mfc/using-ctreectrl.md)  
  
- [树视图控件参考](/windows/desktop/Controls/tree-view-control-reference)Windows SDK 中。  
  
-   知识库文章 Q222905： 如何： 为 CTreeCtrl 显示上下文菜单  
  
## <a name="inheritance-hierarchy"></a>继承层次结构  
 [CObject](../../mfc/reference/cobject-class.md)  
  
 [CCmdTarget](../../mfc/reference/ccmdtarget-class.md)  
  
 [CWnd](../../mfc/reference/cwnd-class.md)  
  
 `CTreeCtrl`  
  
## <a name="requirements"></a>要求  
 **标头：** afxcmn.h  
  
##  <a name="create"></a>  CTreeCtrl::Create  
 如果您指定的树控件在对话框模板，或者如果正在使用[CTreeView](../../mfc/reference/ctreeview-class.md)，创建对话框或视图时自动创建树控件。  
  
```  
virtual BOOL Create(
    DWORD dwStyle,  
    const RECT& rect,  
    CWnd* pParentWnd,  
    UINT nID);
```  
  
### <a name="parameters"></a>参数  
 *dwStyle*  
 指定树视图控件的样式。 应用窗口样式中, 所述[CreateWindow](/windows/desktop/api/winuser/nf-winuser-createwindowa)，和的任意组合[树视图控件样式](/windows/desktop/Controls/tree-view-control-window-styles)Windows SDK 中所述。  
  
 *rect*  
 指定树视图控件的大小和位置。 它可以是[CRect](../../atl-mfc-shared/reference/crect-class.md)对象或[RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897)结构。  
  
 *pParentWnd*  
 指定树视图控件的父窗口中，通常`CDialog`。 它不能为 NULL。  
  
 *nID*  
 指定树视图控件的 id。  
  
### <a name="return-value"></a>返回值  
 如果初始化成功，则非零值否则为 0。  
  
### <a name="remarks"></a>备注  
 如果你想要创建的目录树控件用作子窗口的某些其他窗口，使用`Create`成员函数。 如果您创建使用树控件`Create`，您必须将其传递 WS_VISIBLE，除了其他树视图样式。  
  
 构造`CTreeCtrl`中两个步骤。 第一次调用构造函数中，然后调用`Create`，它创建树视图控件并将其附加到`CTreeCtrl`对象。  
  
 若要创建具有扩展的窗口样式的树控件，调用[CreateEx](#createex)而不是`Create`。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_1.cpp)]  
  
##  <a name="createex"></a>  CTreeCtrl::CreateEx  
 调用此函数可创建的控件 （子窗口），并将其与`CTreeCtrl`对象。  
  
```  
virtual BOOL CreateEx(
    DWORD dwExStyle,  
    DWORD dwStyle,  
    const RECT& rect,  
    CWnd* pParentWnd,  
    UINT nID);
```  
  
### <a name="parameters"></a>参数  
 *dwExStyle*  
 指定要创建的控件的扩展的样式。 扩展 Windows 样式的列表，请参阅*dwExStyle*参数[CreateWindowEx](/windows/desktop/api/winuser/nf-winuser-createwindowexa) Windows SDK 中。  
  
 *dwStyle*  
 指定树视图控件的样式。 应用窗口样式中, 所述[CreateWindow](/windows/desktop/api/winuser/nf-winuser-createwindowa)，和的任意组合[树视图控件样式](/windows/desktop/Controls/tree-view-control-window-styles)Windows SDK 中所述。  
  
 *rect*  
 对引用[RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897)结构的结构描述的大小和窗口的工作区中创建的位置*pParentWnd*。  
  
 *pParentWnd*  
 指向控件的父级的窗口的指针。  
  
 *nID*  
 控件的子窗口 id。  
  
### <a name="return-value"></a>返回值  
 如果成功，则非零; 否则为 0。  
  
### <a name="remarks"></a>备注  
 使用`CreateEx`而不是[创建](#create)若要将应用扩展的 Windows 样式，指定的 Windows 扩展的样式加**WS_EX_**。  
  
##  <a name="createdragimage"></a>  CTreeCtrl::CreateDragImage  
 调用此函数以树视图控件中创建一个拖动位图给定项、 创建图像列表对于位图，并将该位图添加到图像列表。  
  
```  
CImageList* CreateDragImage(HTREEITEM hItem);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 要拖动的树项句柄。  
  
### <a name="return-value"></a>返回值  
 拖动位图添加，如果成功，则图像列表的指针否则为，为 NULL。  
  
### <a name="remarks"></a>备注  
 应用程序使用的图像列表函数来显示图像时进行拖动项。  
  
 `CImageList`对象是永久性的并且必须将其完成后删除。 例如：  
  
 [!code-cpp[NVC_MFC_CTreeCtrl#2](../../mfc/reference/codesnippet/cpp/ctreectrl-class_2.cpp)]  
  
##  <a name="ctreectrl"></a>  CTreeCtrl::CTreeCtrl  
 构造 `CTreeCtrl` 对象。  
  
```  
CTreeCtrl();
```  
  
##  <a name="deleteallitems"></a>  CTreeCtrl::DeleteAllItems  
 调用此函数可从树视图控件中删除所有项。  
  
```  
BOOL DeleteAllItems();
```  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#3](../../mfc/reference/codesnippet/cpp/ctreectrl-class_3.cpp)]  
  
##  <a name="deleteitem"></a>  CTreeCtrl::DeleteItem  
 调用此函数可从树视图控件中删除项。  
  
```  
BOOL DeleteItem(HTREEITEM hItem);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 要删除的树项句柄。 如果*hitem*具有 TVI_ROOT 值时，树视图控件中删除所有项。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#4](../../mfc/reference/codesnippet/cpp/ctreectrl-class_4.cpp)]  
  
##  <a name="editlabel"></a>  CTreeCtrl::EditLabel  
 调用此函数可开始就地编辑的指定的项的文本。  
  
```  
CEdit* EditLabel(HTREEITEM hItem);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 要对其进行编辑的树项句柄。  
  
### <a name="return-value"></a>返回值  
 如果成功，一个指向`CEdit`用于编辑项文本的对象; 否则为 NULL。  
  
### <a name="remarks"></a>备注  
 所编辑的项的文本替换为包含文本的单行编辑控件实现。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_5.cpp)]  
  
##  <a name="endeditlabelnow"></a>  CTreeCtrl::EndEditLabelNow  
 结束当前的树视图控件中的树视图项的标签上的编辑操作。  
  
```  
BOOL EndEditLabelNow(BOOL fCancelWithoutSave);
```  
  
### <a name="parameters"></a>参数  
  
|参数|描述|  
|---------------|-----------------|  
|[in]*fCancelWithoutSave*|若要结束编辑操作或为 FALSE，则结束该操作前将更改保存到树视图项前放弃对树视图项的更改，则为 TRUE。|  
  
### <a name="return-value"></a>返回值  
 如果此方法成功，则为 TRUE否则为 FALSE。  
  
### <a name="remarks"></a>备注  
 此方法将发送[TVM_ENDEDITLABELNOW](/windows/desktop/Controls/tvm-endeditlabelnow)消息，Windows SDK 中所述。  
  
##  <a name="ensurevisible"></a>  CTreeCtrl::EnsureVisible  
 调用此函数可确保的树视图项可见。  
  
```  
BOOL EnsureVisible(HTREEITEM hItem);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 被设置为可见的树项句柄。  
  
### <a name="return-value"></a>返回值  
 如果系统滚动要确保指定的项是可见的树视图控件中的项，则返回 TRUE。 否则，返回值为 FALSE。  
  
### <a name="remarks"></a>备注  
 如有必要，该函数展开父项或滚动以使该项是可见的树视图控件。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#6](../../mfc/reference/codesnippet/cpp/ctreectrl-class_6.cpp)]  
  
##  <a name="expand"></a>  CTreeCtrl::Expand  
 如果任何，与给定的父项相关联，请调用此函数可展开或折叠子项目的列表。  
  
```  
BOOL Expand(
    HTREEITEM hItem,  
    UINT nCode);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 要扩展的树项句柄。  
  
 *nCode*  
 一个标志，指示要采取的操作类型。 此标志可以具有以下值之一：  
  
- TVE_COLLAPSE 折叠列表。  
  
- TVE_COLLAPSERESET 折叠列表，并删除子项目。 重置 TVIS_EXPANDEDONCE 状态标志。 必须使用 TVE_COLLAPSE 标志使用此标志。  
  
- TVE_EXPAND 扩展的列表。  
  
- 如果当前扩展，或者如果当前处于折叠状态中展开，TVE_TOGGLE 折叠列表。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::EnsureVisible](#ensurevisible)。  
  
##  <a name="getbkcolor"></a>  CTreeCtrl::GetBkColor  
 此成员函数可实现 Win32 消息的行为[TVM_GETBKCOLOR](/windows/desktop/Controls/tvm-getbkcolor)，如 Windows SDK 中所述。  
  
```  
COLORREF GetBkColor() const;  
```  
  
### <a name="return-value"></a>返回值  
 一个 COLORREF 值，该值表示控件的当前窗口背景色。 如果此值为-1，控件使用的系统窗口颜色。 在这种情况下，可以使用`::GetSysColor(COLOR_WINDOW)`获取使用该控件的当前系统颜色。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::SetTextColor](#settextcolor)。  
  
##  <a name="getcheck"></a>  CTreeCtrl::GetCheck  
 调用此成员函数以检索项的选中状态。  
  
```  
BOOL GetCheck(HTREEITEM hItem) const;  
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 有关可用于接收的状态信息 HTREEITEM。  
  
### <a name="return-value"></a>返回值  
 在选中树控件项; 如果非零值否则为 0。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::SetCheck](#setcheck)。  
  
##  <a name="getchilditem"></a>  CTreeCtrl::GetChildItem  
 调用此函数可检索的树视图项，是由指定的项的子级*hItem*。  
  
```  
HTREEITEM GetChildItem(HTREEITEM hItem) const;  
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 树项的句柄。  
  
### <a name="return-value"></a>返回值  
 如果成功，则子项目的句柄否则为，为 NULL。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#7](../../mfc/reference/codesnippet/cpp/ctreectrl-class_7.cpp)]  
  
##  <a name="getcount"></a>  CTreeCtrl::GetCount  
 调用此函数可检索的树视图控件中的项计数。  
  
```  
UINT GetCount() const;  
```  
  
### <a name="return-value"></a>返回值  
 在树视图控件中的项的数目。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#8](../../mfc/reference/codesnippet/cpp/ctreectrl-class_8.cpp)]  
  
##  <a name="getdrophilightitem"></a>  CTreeCtrl::GetDropHilightItem  
 调用此函数可检索的项的拖放操作的目标。  
  
```  
HTREEITEM GetDropHilightItem() const;  
```  
  
### <a name="return-value"></a>返回值  
 如果成功，则删除的项的句柄否则为，为 NULL。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#9](../../mfc/reference/codesnippet/cpp/ctreectrl-class_9.cpp)]  
  
##  <a name="geteditcontrol"></a>  CTreeCtrl::GetEditControl  
 调用此函数可检索要用于编辑的树视图项的文本编辑控件的句柄。  
  
```  
CEdit* GetEditControl() const;  
```  
  
### <a name="return-value"></a>返回值  
 在编辑控件用于编辑项文本，如果成功，则指针否则为，为 NULL。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#10](../../mfc/reference/codesnippet/cpp/ctreectrl-class_10.cpp)]  
  
##  <a name="getextendedstyle"></a>  CTreeCtrl::GetExtendedStyle  
 检索当前的树视图控件使用的扩展的样式。  
  
```  
DWORD GetExtendedStyle() const;  
```  
  
### <a name="return-value"></a>返回值  
 一个包含当前的树视图控件的按位组合 (OR) 的值的扩展样式。 有关详细信息，请参阅[树视图控件扩展样式](/windows/desktop/Controls/tree-view-control-window-extended-styles)。  
  
### <a name="remarks"></a>备注  
 此方法将发送[TVM_GETEXTENDEDSTYLE](/windows/desktop/Controls/tvm-getextendedstyle)消息，Windows SDK 中所述。  
  
##  <a name="getfirstvisibleitem"></a>  CTreeCtrl::GetFirstVisibleItem  
 调用此函数可检索树视图控件的第一个可见项。  
  
```  
HTREEITEM GetFirstVisibleItem() const;  
```  
  
### <a name="return-value"></a>返回值  
 第一个可见项; 的句柄否则为，为 NULL。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::SetCheck](#setcheck)。  
  
##  <a name="getimagelist"></a>  CTreeCtrl::GetImageList  
 调用此函数可检索的句柄的正常或与树视图控件关联的状态图像列表。  
  
```  
CImageList* GetImageList(UINT nImageList) const;  
```  
  
### <a name="parameters"></a>参数  
 *nImageList*  
 要检索图像列表的类型。 图像列表可以是下列值之一：  
  
- TVSIL_NORMAL 检索的普通映像列表，其中包含为树视图项的选定和未选定的映像。  
  
- TVSIL_STATE 检索状态图像列表，其中包含了用户定义的状态中的树视图项的图像。  
  
### <a name="return-value"></a>返回值  
 如果成功，则控件的图像列表的指针否则为，为 NULL。  
  
### <a name="remarks"></a>备注  
 在树视图控件中的每个项可以有与之关联的位图化图像的对。 选择该项，和其他显示当未选定项时，会显示一个图像。 例如，某一项可能显示为选中状态时打开的文件夹和关闭的文件夹未选中状态时。  
  
 图像列表的详细信息，请参阅[CImageList](../../mfc/reference/cimagelist-class.md)类。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#11](../../mfc/reference/codesnippet/cpp/ctreectrl-class_11.cpp)]  
  
##  <a name="getindent"></a>  CTreeCtrl::GetIndent  
 调用此函数可检索的量，以像素为单位，该子级相对于父项缩进的项。  
  
```  
UINT GetIndent() const;  
```  
  
### <a name="return-value"></a>返回值  
 以像素为单位度量的缩进量。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#12](../../mfc/reference/codesnippet/cpp/ctreectrl-class_12.cpp)]  
  
##  <a name="getinsertmarkcolor"></a>  CTreeCtrl::GetInsertMarkColor  
 此成员函数可实现 Win32 消息的行为[TVM_GETINSERTMARKCOLOR](/windows/desktop/Controls/tvm-getinsertmarkcolor)，如 Windows SDK 中所述。  
  
```  
COLORREF GetInsertMarkColor() const;  
```  
  
### <a name="return-value"></a>返回值  
 一个 COLORREF 值，该值包含当前插入标记颜色。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#13](../../mfc/reference/codesnippet/cpp/ctreectrl-class_13.cpp)]  
  
##  <a name="getitem"></a>  CTreeCtrl::GetItem  
 调用此函数可检索指定的树视图项的属性。  
  
```  
BOOL GetItem(TVITEM* pItem) const;  
```  
  
### <a name="parameters"></a>参数  
 *pItem*  
 一个指向[TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema)结构，如 Windows SDK 中所述。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::DeleteItem](#deleteitem)。  
  
##  <a name="getitemdata"></a>  CTreeCtrl::GetItemData  
 调用此函数可检索与指定项关联的 32 位应用程序特定值。  
  
```  
DWORD_PTR GetItemData(HTREEITEM hItem) const;  
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 要检索其数据的项的句柄。  
  
### <a name="return-value"></a>返回值  
 与由指定的项关联的 32 位应用程序特定值*hItem*。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#14](../../mfc/reference/codesnippet/cpp/ctreectrl-class_14.cpp)]  
  
##  <a name="getitemexpandedimageindex"></a>  CTreeCtrl::GetItemExpandedImageIndex  
 检索当前的树视图控件的指定的项处于展开状态时显示的图像的索引。  
  
```  
int GetItemExpandedImageIndex(HTREEITEM hItem)const;  
```  
  
### <a name="parameters"></a>参数  
  
|参数|描述|  
|---------------|-----------------|  
|[in]*hItem*|句柄的树视图控件项。|  
  
### <a name="return-value"></a>返回值  
 若要指定的项处于展开状态时显示的图像的索引。  
  
### <a name="remarks"></a>备注  
 此方法将发送[TVM_GETITEM](/windows/desktop/Controls/tvm-getitem)消息，Windows SDK 中所述。 消息返回[TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa)结构，它描述了树视图控件项，然后此方法检索`iExpandedImage`从该结构的成员。  
  
##  <a name="getitemheight"></a>  CTreeCtrl::GetItemHeight  
 此成员函数可实现 Win32 消息的行为[TVM_GETITEMHEIGHT](/windows/desktop/Controls/tvm-getitemheight)，如 Windows SDK 中所述。  
  
```  
SHORT GetItemHeight() const;  
```  
  
### <a name="return-value"></a>返回值  
 该项目，以像素为单位的高度。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#15](../../mfc/reference/codesnippet/cpp/ctreectrl-class_15.cpp)]  
  
##  <a name="getitemimage"></a>  CTreeCtrl::GetItemImage  
 在树视图控件中的每个项可以有与之关联的位图化图像的对。  
  
```  
BOOL GetItemImage(
    HTREEITEM hItem,  
    int& nImage,  
    int& nSelectedImage) const;  
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 要检索其图像的项句柄。  
  
 *nImage*  
 一个整数，接收的树视图控件的图像列表中的项的图像的索引。  
  
 *nSelectedImage*  
 一个整数，接收项的树视图控件的图像列表中的所选图像的索引。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 在左侧和右侧的项的标签上显示图像。 选择该项，和其他显示当未选定项时，会显示一个图像。 例如，某一项可能显示为选中状态时打开的文件夹和关闭的文件夹未选中状态时。  
  
 调用此函数可检索项的图像和树视图控件的图像列表中其所选的图像的索引。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#16](../../mfc/reference/codesnippet/cpp/ctreectrl-class_16.cpp)]  
  
##  <a name="getitempartrect"></a>  CTreeCtrl::GetItemPartRect  
 检索当前的树视图控件中的指定项的指定部分的边框。  
  
```  
BOOL GetItemPartRect(
    HTREEITEM hItem,   
    int nPart,   
    LPRECT lpRect)const;  
```  
  
### <a name="parameters"></a>参数  
  
|参数|描述|  
|---------------|-----------------|  
|[in]*hItem*|句柄的树视图控件项。|  
|[in]*nPart*|部件的标识符。 必须设置为 TVGIPR_BUTTON。|  
|[out]*lpRect*|指向[RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897)结构。 如果此方法成功，该结构接收由指定的部件的矩形坐标*hItem*并*nPart*。|  
  
### <a name="return-value"></a>返回值  
 如果此方法成功，则为 TRUE否则为 FALSE。  
  
### <a name="remarks"></a>备注  
 每个树控件项受图形矩形。 只要单击该矩形中的点时，项则称*命中*。 此方法返回的最大矩形，以便单击该矩形中的点时，由标识的项*hItem*命中参数。  
  
 此方法将发送 TVM_GETITEMPARTRECT 消息，这 Windows SDK 中所述。 有关详细信息，请参阅[TreeView_GetItemPartRect](/windows/desktop/api/commctrl/nf-commctrl-treeview_getitempartrect)宏。  
  
### <a name="example"></a>示例  
 下面的代码示例定义一个变量， `m_treeCtrl`，即用于访问当前的树视图控件。 代码示例还定义一个无符号的整数和多个 HTREEITEM 变量。 在下一步的示例中使用这些变量。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]  
  
### <a name="example"></a>示例  
 下面的代码示例使用的可访问性标识符和[CTreeCtrl::MapAccIdToItem](#mapaccidtoitem)方法来检索根树视图项的句柄。 然后，该示例使用句柄并[CTreeCtrl::GetItemPartRect](#getitempartrect)方法周围绘制一个三维矩形该项。 在前面部分的代码示例中，而不会显示，我们将创建包含美国境内的根的国家/地区节点、 宾夕法尼亚州和华盛顿州的子节点和树项目处于这些状态的城市的树视图。 我们使用了[CTreeCtrl::MapItemToAccID](#mapitemtoaccid)方法要与可访问性标识符关联的根树视图项。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_18.cpp)]  
  
##  <a name="getitemrect"></a>  CTreeCtrl::GetItemRect  
 调用此函数可检索的边界矩形*hItem*并确定其是否可见。  
  
```  
BOOL GetItemRect(
    HTREEITEM hItem,  
    LPRECT lpRect,  
    BOOL bTextOnly) const;  
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 树视图控件项的句柄。  
  
 *lpRect*  
 指向[RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897)结构，它接收的边框。 坐标是相对于树视图控件的左上角。  
  
 *bTextOnly*  
 如果此参数为非零值，边界矩形将包括只项的文本。 否则，它在树视图控件中包括项占用的整个行。  
  
### <a name="return-value"></a>返回值  
 如果该项是可见的与边界矩形中包含非零*lpRect*。 否则为 0 且*lpRect*未初始化。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#17](../../mfc/reference/codesnippet/cpp/ctreectrl-class_19.cpp)]  
  
##  <a name="getitemstate"></a>  CTreeCtrl::GetItemState  
 返回由指定的项的状态*hItem*。  
  
```  
UINT GetItemState(
    HTREEITEM hItem,  
    UINT nStateMask) const;  
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 要检索其状态的项的句柄。  
  
 *nStateMask*  
 掩码，指示要检索的一个或多个状态。 有关详细信息的可能值*nStateMask*，请参阅的讨论`state`并`stateMask`的成员[TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema) Windows SDK 中的结构。  
  
### <a name="return-value"></a>返回值  
 保存 nStateMask 由指定的值的按位或 UINT。 有关可能的值的信息，请参阅[CTreeCtrl::GetItem](#getitem)。 若要查找某一特定状态的值，执行状态值和返回值的按位 AND 运算，如下面的示例中所示。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#18](../../mfc/reference/codesnippet/cpp/ctreectrl-class_20.cpp)]  
  
##  <a name="getitemstateex"></a>  CTreeCtrl::GetItemStateEx  
 检索当前的树视图控件中的指定项的扩展的状态。  
  
```  
UINT GetItemStateEx(HTREEITEM hItem) const;  
```  
  
### <a name="parameters"></a>参数  
  
|参数|描述|  
|---------------|-----------------|  
|[in]*hItem*|句柄的树视图控件项。|  
  
### <a name="return-value"></a>返回值  
 项的扩展的状态。 有关详细信息，请参阅`uStateEx`的成员[TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa)结构。  
  
### <a name="remarks"></a>备注  
 此方法将发送[TVM_GETITEM](/windows/desktop/Controls/tvm-getitem)消息，Windows SDK 中所述。 消息返回[TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa)结构，它描述了树视图控件项，且此方法检索`uStateEx`从该结构的成员。  
  
##  <a name="getitemtext"></a>  CTreeCtrl::GetItemText  
 返回由指定的项的文本*hItem*。  
  
```  
CString GetItemText(HTREEITEM hItem) const;  
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 要检索其文本的项的句柄。  
  
### <a name="return-value"></a>返回值  
 一个`CString`对象，其中包含项的文本。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::GetNextItem](#getnextitem)。  
  
##  <a name="getlastvisibleitem"></a>  CTreeCtrl::GetLastVisibleItem  
 检索当前的树视图控件中的最后一个未扩展的节点项。  
  
```  
HTREEITEM GetLastVisibleItem() const;  
```  
  
### <a name="return-value"></a>返回值  
 如果成功，则此方法的最后一未展开的节点项句柄否则，为 NULL。  
  
### <a name="remarks"></a>备注  
 此方法将发送[TVM_GETNEXTITEM](/windows/desktop/Controls/tvm-getnextitem)消息，Windows SDK 中所述。 有关详细信息，请参阅中的 TVGN_LASTVISIBLE 标志*标志*该消息的参数。  
  
### <a name="example"></a>示例  
 下面的代码示例定义一个变量， `m_treeCtrl`，即用于访问当前的树视图控件。 代码示例还定义一个无符号的整数和多个 HTREEITEM 变量。 在下一步的示例中使用一个或多个这些变量。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]  
  
### <a name="example"></a>示例  
 下面的代码示例检索的句柄的最后一个未扩展的树视图节点项，，然后绘制的项周围三维矩形。 在前面部分的代码示例中，而不会显示，我们将创建包含美国境内的根的国家/地区节点、 宾夕法尼亚州和华盛顿州的子节点和树项目处于这些状态的城市的树视图。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#6](../../mfc/reference/codesnippet/cpp/ctreectrl-class_21.cpp)]  
  
##  <a name="getlinecolor"></a>  CTreeCtrl::GetLineColor  
 此成员函数可实现 win32 消息的行为[TVM_GETLINECOLOR](/windows/desktop/Controls/tvm-getlinecolor)，如 Windows SDK 中所述。  
  
```  
COLORREF GetLineColor() const;  
```  
  
### <a name="return-value"></a>返回值  
 当前的线条颜色。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#19](../../mfc/reference/codesnippet/cpp/ctreectrl-class_22.cpp)]  
  
##  <a name="getnextitem"></a>  CTreeCtrl::GetNextItem  
 调用此函数可检索的树视图项，具有指定的关系，指示*nCode*参数为*hItem*。  
  
```  
HTREEITEM GetNextItem(
    HTREEITEM hItem,  
    UINT nCode) const;  
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 树项的句柄。  
  
 *nCode*  
 一个标志，指示与关系的类型*hItem*。 此标志可以是下列值之一：  
  
- TVGN_CARET 检索当前所选的项。  
  
- TVGN_CHILD 检索由指定的项的第一个子项目*hItem*参数。  
  
- TVGN_DROPHILITE 检索是拖放操作的目标的项。  
  
- TVGN_FIRSTVISIBLE 检索第一个可见项。  
  
- TVGN_LASTVISIBLE 检索最后一个展开树中的项。 这不会检索在树视图窗口中可见的最后一项。  
  
- TVGN_NEXT 检索下一个同级项。  
  
- TVGN_NEXTVISIBLE 检索遵循指定的项的下一个可见项。  
  
- TVGN_PARENT 检索指定项的父级。  
  
- TVGN_PREVIOUS 检索上一个同级项。  
  
- TVGN_PREVIOUSVISIBLE 检索位于指定的项的第一个可见项。  
  
- TVGN_ROOT 检索指定的项的一部分的根项的第一个子项目。  
  
### <a name="return-value"></a>返回值  
 如果成功，则下一项句柄否则为，为 NULL。  
  
### <a name="remarks"></a>备注  
 如果要检索的项是树的根节点，此函数将返回 NULL。 例如，如果在树视图根节点的第一级子 TVGN_PARENT 标志使用此消息，消息将返回 NULL。  
  
### <a name="example"></a>示例  
 有关使用的示例`GetNextItem`在循环中，请参阅[CTreeCtrl::DeleteItem](#deleteitem)。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl#20](../../mfc/reference/codesnippet/cpp/ctreectrl-class_23.cpp)]  
  
##  <a name="getnextsiblingitem"></a>  CTreeCtrl::GetNextSiblingItem  
 调用此函数可检索的下一个同级*hItem*。  
  
```  
HTREEITEM GetNextSiblingItem(HTREEITEM hItem) const;  
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 树项的句柄。  
  
### <a name="return-value"></a>返回值  
 下一步的同级项; 的句柄否则为，为 NULL。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#21](../../mfc/reference/codesnippet/cpp/ctreectrl-class_24.cpp)]  
  
##  <a name="getnextvisibleitem"></a>  CTreeCtrl::GetNextVisibleItem  
 调用此函数可检索的下一个可见项*hItem*。  
  
```  
HTREEITEM GetNextVisibleItem(HTREEITEM hItem) const;  
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 树项的句柄。  
  
### <a name="return-value"></a>返回值  
 下一个可见项; 的句柄否则为，为 NULL。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::SetCheck](#setcheck)。  
  
##  <a name="getparentitem"></a>  CTreeCtrl::GetParentItem  
 调用此函数可检索的父级*hItem*。  
  
```  
HTREEITEM GetParentItem(HTREEITEM hItem) const;  
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 树项的句柄。  
  
### <a name="return-value"></a>返回值  
 父项的句柄否则为，为 NULL。  
  
### <a name="remarks"></a>备注  
 如果指定项的父级是树的根节点，此函数将返回 NULL。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::EnsureVisible](#ensurevisible)。  
  
##  <a name="getprevsiblingitem"></a>  CTreeCtrl::GetPrevSiblingItem  
 调用此函数可检索的上一个同级*hItem*。  
  
```  
HTREEITEM GetPrevSiblingItem(HTREEITEM hItem) const;  
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 树项的句柄。  
  
### <a name="return-value"></a>返回值  
 前一个同级元素; 句柄否则为，为 NULL。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#22](../../mfc/reference/codesnippet/cpp/ctreectrl-class_25.cpp)]  
  
##  <a name="getprevvisibleitem"></a>  CTreeCtrl::GetPrevVisibleItem  
 调用此函数可检索的上一个可见项*hItem*。  
  
```  
HTREEITEM GetPrevVisibleItem(HTREEITEM hItem) const;  
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 树项的句柄。  
  
### <a name="return-value"></a>返回值  
 上一个可见项; 的句柄否则为，为 NULL。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#23](../../mfc/reference/codesnippet/cpp/ctreectrl-class_26.cpp)]  
  
##  <a name="getrootitem"></a>  CTreeCtrl::GetRootItem  
 调用此函数可检索树视图控件的根项目。  
  
```  
HTREEITEM GetRootItem() const;  
```  
  
### <a name="return-value"></a>返回值  
 根项的句柄否则为，为 NULL。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::EditLabel](#editlabel)。  
  
##  <a name="getscrolltime"></a>  CTreeCtrl::GetScrollTime  
 调用此成员函数以检索树视图控件的最大滚动时间。  
  
```  
UINT GetScrollTime() const;  
```  
  
### <a name="return-value"></a>返回值  
 最大滚动时间，以毫秒为单位。  
  
### <a name="remarks"></a>备注  
 此成员函数可实现 win32 消息的行为[TVM_GETSCROLLTIME](/windows/desktop/Controls/tvm-getscrolltime)，如 Windows SDK 中所述。  
  
##  <a name="getselectedcount"></a>  CTreeCtrl::GetSelectedCount  
 检索当前的树视图控件中选定项的数目。  
  
```  
UINT GetSelectedCount();
```  
  
### <a name="return-value"></a>返回值  
 选定项的数目。  
  
### <a name="remarks"></a>备注  
 此方法将发送[TVM_GETSELECTEDCOUNT](/windows/desktop/Controls/tvm-getselectedcount)消息，Windows SDK 中所述。  
  
##  <a name="getselecteditem"></a>  CTreeCtrl::GetSelectedItem  
 调用此函数可检索当前选定的项的树视图控件。  
  
```  
HTREEITEM GetSelectedItem() const;  
```  
  
### <a name="return-value"></a>返回值  
 选定的项; 的句柄否则为，为 NULL。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#24](../../mfc/reference/codesnippet/cpp/ctreectrl-class_27.cpp)]  
  
##  <a name="gettextcolor"></a>  CTreeCtrl::GetTextColor  
 此成员函数可实现 Win32 消息的行为[TVM_GETTEXTCOLOR](/windows/desktop/Controls/tvm-gettextcolor)，如 Windows SDK 中所述。  
  
```  
COLORREF GetTextColor() const;  
```  
  
### <a name="return-value"></a>返回值  
 一个 COLORREF 值，该值表示当前的文本颜色。 如果此值为-1，该控件用于系统颜色的文本颜色。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::SetTextColor](#settextcolor)。  
  
##  <a name="gettooltips"></a>  CTreeCtrl::GetToolTips  
 此成员函数可实现 Win32 消息的行为[TVM_GETTOOLTIPS](/windows/desktop/Controls/tvm-gettooltips)，如 Windows SDK 中所述。  
  
```  
CToolTipCtrl* GetToolTips() const;  
```  
  
### <a name="return-value"></a>返回值  
 一个指向[CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md)树控件要使用对象。 如果[创建](#create)成员函数使用的样式 TVS_NOTOOLTIPS、 使用任何工具提示，并返回 NULL。  
  
### <a name="remarks"></a>备注  
 MFC 实现`GetToolTips`返回`CToolTipCtrl`对象，由树控件中，而不是工具提示控件的句柄。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#25](../../mfc/reference/codesnippet/cpp/ctreectrl-class_28.cpp)]  
  
##  <a name="getvisiblecount"></a>  CTreeCtrl::GetVisibleCount  
 调用此函数可检索的树视图控件中可见的项计数。  
  
```  
UINT GetVisibleCount() const;  
```  
  
### <a name="return-value"></a>返回值  
 在树视图控件; 中的可见项的数量否则为-1。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::SetCheck](#setcheck)。  
  
##  <a name="hittest"></a>  CTreeCtrl::HitTest  
 调用此函数可确定工作区相关的树视图控件的指定点的位置。  
  
```  
HTREEITEM HitTest(
    CPoint pt,  
    UINT* pFlags = NULL) const;  
  
HTREEITEM HitTest(TVHITTESTINFO* pHitTestInfo) const;  
```  
  
### <a name="parameters"></a>参数  
 *pt*  
 客户端坐标点的测试。  
  
 *pFlags*  
 指向接收有关命中测试的结果的整数。 它可以是一个或多个值下列出`flags`备注部分中的成员。  
  
 *pHitTestInfo*  
 地址[TVHITTESTINFO](/windows/desktop/api/commctrl/ns-commctrl-tagtvhittestinfo)结构，其中包含要进行命中测试和该位置接收的命中测试结果的相关信息。  
  
### <a name="return-value"></a>返回值  
 如果没有任何项占用点占据指定的点或为空的树视图项的句柄。  
  
### <a name="remarks"></a>备注  
 当调用此函数时， *pt*参数指定要测试点的坐标。 如果没有任何项占用点，则函数返回处的指定的点或为 NULL 的项的句柄。 此外， *pFlags*参数包含一个值，指示指定点的位置。 可能的值有：  
  
|||  
|-|-|  
|“值”|含义|  
|TVHT_ABOVE|客户端区域的上方。|  
|TVHT_BELOW|下面的工作区。|  
|TVHT_NOWHERE|在客户端区域中，但最后一项之下。|  
|TVHT_ONITEM|上的位图或与项关联的标签。|  
|TVHT_ONITEMBUTTON|与项关联的按钮。|  
|TVHT_ONITEMICON|在与项关联的位图。|  
|TVHT_ONITEMINDENT|在与项关联的缩进。|  
|TVHT_ONITEMLABEL|在与项关联的标签 （字符串）。|  
|TVHT_ONITEMRIGHT|在右侧的项的区域。|  
|TVHT_ONITEMSTATEICON|是用户定义的状态的树视图项的状态图标。|  
|TVHT_TOLEFT|客户端区域的左侧。|  
|TVHT_TORIGHT|客户端区域的右侧。|  
|||  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#26](../../mfc/reference/codesnippet/cpp/ctreectrl-class_29.cpp)]  
  
##  <a name="insertitem"></a>  CTreeCtrl::InsertItem  
 调用此函数可在树视图控件中插入新项。  
  
```  
HTREEITEM InsertItem(LPTVINSERTSTRUCT lpInsertStruct);

 
HTREEITEM InsertItem(
    UINT nMask,  
    LPCTSTR lpszItem,  
    int nImage,  
    int nSelectedImage,  
    UINT nState,  
    UINT nStateMask,  
    LPARAM lParam,  
    HTREEITEM hParent,  
    HTREEITEM hInsertAfter);

 
HTREEITEM InsertItem(
    LPCTSTR lpszItem,  
    HTREEITEM hParent = TVI_ROOT,  
    HTREEITEM hInsertAfter = TVI_LAST);

 
HTREEITEM InsertItem(
    LPCTSTR lpszItem,  
    int nImage,  
    int nSelectedImage,  
    HTREEITEM hParent = TVI_ROOT,  
    HTREEITEM hInsertAfter = TVI_LAST);
```  
  
### <a name="parameters"></a>参数  
 *lpInsertStruct*  
 一个指向`TVINSERTSTRUCT`，指定要插入的树视图项的特性。  
  
 *nMask*  
 整数，指定要设置的属性。 请参阅`TVITEM`Windows SDK 中的结构。  
  
 *lpszItem*  
 包含项的文本的字符串的地址。  
  
 *nImage*  
 树视图控件的图像列表中的项的图像的索引。  
  
 *nSelectedImage*  
 树视图控件的图像列表中的项的所选图像的索引。  
  
 *nState*  
 指定的项的状态的值。 请参阅树视图控件项状态在 Windows SDK 中的相应状态的列表。  
  
 *nStateMask*  
 指定要设置哪些状态。 请参阅`TVITEM`Windows SDK 中的结构。  
  
 *lParam*  
 与项关联一个 32 位应用程序特定值。  
  
 *hParent*  
 插入的项的父级的句柄。  
  
 *hInsertAfter*  
 在其后插入新项的项的句柄。  
  
### <a name="return-value"></a>返回值  
 如果成功，则新的项的句柄否则为，为 NULL。  
  
### <a name="remarks"></a>备注  
 以下示例显示在其中你可能的想要插入的树控件项时使用的函数的每个版本。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#27](../../mfc/reference/codesnippet/cpp/ctreectrl-class_30.cpp)]  
  
##  <a name="itemhaschildren"></a>  CTreeCtrl::ItemHasChildren  
 使用此函数可确定指定的树项*hItem*具有子项。  
  
```  
BOOL ItemHasChildren(HTREEITEM hItem) const;  
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 树项的句柄。  
  
### <a name="return-value"></a>返回值  
 如果树项指定的非零*hItem*具有子项; 如果不为 0。  
  
### <a name="remarks"></a>备注  
 如果因此，则可以使用[CTreeCtrl::GetChildItem](#getchilditem)要检索这些其子项。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::GetSelectedItem](#getselecteditem)。  
  
##  <a name="mapaccidtoitem"></a>  CTreeCtrl::MapAccIdToItem  
 将指定可访问性标识符映射到当前的树视图控件中的树视图项的句柄。  
  
```  
HTREEITEM MapAccIdToItem(UINT uAccId) const;  
```  
  
### <a name="parameters"></a>参数  
  
|参数|描述|  
|---------------|-----------------|  
|[in]*uAccId*|中的树视图项的元素可访问性标识符。|  
  
### <a name="return-value"></a>返回值  
 句柄的树视图项 ( `HTREEITEM`)，对应于*uAccId*参数。 有关详细信息，请参阅*hItem*的成员[TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa)结构。  
  
### <a name="remarks"></a>备注  
 辅助工具是帮助残障的应用程序使用的计算机。 通过使用可访问性标识符`IAccessible`接口来唯一地在窗口中指定的元素。 有关辅助功能标识符的详细信息，搜索上的"有关 Active Accessibility 的支持"主题[Microsoft Developer Network](http://go.microsoft.com/fwlink/p/?linkid=56322)。  
  
 此方法将发送[TVM_MAPACCIDTOHTREEITEM](/windows/desktop/Controls/tvm-mapaccidtohtreeitem)消息，Windows SDK 中所述。  
  
### <a name="example"></a>示例  
 下面的代码示例定义一个变量， `m_treeCtrl`，即用于访问当前的树视图控件。 代码示例还定义一个无符号的整数和多个 HTREEITEM 变量。 在下一步的示例中使用这些变量。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]  
  
### <a name="example"></a>示例  
 下面的代码示例使用的可访问性标识符和[CTreeCtrl::MapAccIdToItem](#mapaccidtoitem)方法来检索根树视图项的句柄。 该示例使用句柄并[CTreeCtrl::GetItemPartRect](#getitempartrect)方法周围绘制一个三维矩形该项。 在前面部分的代码示例中，而不会显示，我们将创建包含美国境内的根的国家/地区节点、 宾夕法尼亚州和华盛顿州的子节点和树项目处于这些状态的城市的树视图。 我们使用了[CTreeCtrl::MapItemToAccID](#mapitemtoaccid)方法要与可访问性标识符关联的根树视图项。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_18.cpp)]  
  
##  <a name="mapitemtoaccid"></a>  CTreeCtrl::MapItemToAccID  
 将当前的树视图控件中的树视图项的指定句柄映射到可访问性标识符。  
  
```  
UINT MapItemToAccID(HTREEITEM hItem) const;  
```  
  
### <a name="parameters"></a>参数  
  
|参数|描述|  
|---------------|-----------------|  
|[in]*hItem*|在控件中的树视图项的句柄。 有关详细信息，请参阅*hItem*的成员[TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa)结构。|  
  
### <a name="return-value"></a>返回值  
 对应的辅助功能标识符*hItem*参数。  
  
### <a name="remarks"></a>备注  
 辅助工具是帮助残障的应用程序使用的计算机。 通过使用可访问性标识符`IAccessible`接口来唯一地在窗口中指定的元素。 有关辅助功能标识符的详细信息，搜索上的"有关 Active Accessibility 的支持"主题[Microsoft Developer Network](http://go.microsoft.com/fwlink/p/?linkid=56322)。  
  
 此方法将发送[TVM_MAPHTREEITEMTOACCID](/windows/desktop/Controls/tvm-maphtreeitemtoaccid)消息，Windows SDK 中所述。  
  
### <a name="example"></a>示例  
 下面的代码示例定义一个变量， `m_treeCtrl`，即用于访问当前的树视图控件。 代码示例还定义一个无符号的整数和多个 HTREEITEM 变量。 在下一步的示例中使用这些变量。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]  
  
### <a name="example"></a>示例  
 下面的代码示例获取的树视图控件项的标识号。 在前面部分的代码示例中，而不会显示，我们将创建包含美国境内的根的国家/地区节点、 宾夕法尼亚州和华盛顿州的子节点和树项目处于这些状态的城市的树视图。 此代码示例获取根国家/地区/区域节点的唯一标识号。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#2](../../mfc/reference/codesnippet/cpp/ctreectrl-class_31.cpp)]  
  
##  <a name="select"></a>  CTreeCtrl::Select  
 调用此函数可选择给定的树视图项、 将项滚动到视图中，或用来指示拖放操作的目标的样式中绘该项。  
  
```  
BOOL Select(
    HTREEITEM hItem,  
    UINT nCode);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 树项的句柄。  
  
 *nCode*  
 要执行的操作类型。 此参数可以是下列值之一：  
  
- 选项设置为给定项的所选内容。  
  
- TVGN_DROPHILITE 重绘样式中的给定的项，用于指示拖放操作的目标。  
  
- TVGN_FIRSTVISIBLE 滚动的树视图垂直，以便给定的项的第一个可见项。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 如果*nCode*包含值选项，父窗口接收 TVN_SELCHANGING 和 TVN_SELCHANGED 通知消息。 此外，如果指定的项是折叠的父项的子级，父级的子项列表展开以显示指定的项。 在这种情况下，父窗口接收 TVN_ITEMEXPANDING 和 TVN_ITEMEXPANDED 通知消息。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::HitTest](#hittest)。  
  
##  <a name="selectdroptarget"></a>  CTreeCtrl::SelectDropTarget  
 调用此函数可用于指示拖放操作的目标的样式中绘该项。  
  
```  
BOOL SelectDropTarget(HTREEITEM hItem);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 树项的句柄。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#9](../../mfc/reference/codesnippet/cpp/ctreectrl-class_9.cpp)]  
  
##  <a name="selectitem"></a>  CTreeCtrl::SelectItem  
 调用此函数来选择给定的树视图项。  
  
```  
BOOL SelectItem(HTREEITEM hItem);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 树项的句柄。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 如果*hItem*为 NULL，则此函数中不选择任何项。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#26](../../mfc/reference/codesnippet/cpp/ctreectrl-class_29.cpp)]  
  
##  <a name="selectsetfirstvisible"></a>  CTreeCtrl::SelectSetFirstVisible  
 调用此函数可垂直滚动树视图，以使给定的项的第一个可见项。  
  
```  
BOOL SelectSetFirstVisible(HTREEITEM hItem);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 要设置为第一个可见项的树项句柄。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 该函数将消息发送到使用 TVM_SELECTITEM 和 TVGN_FIRSTVISIBLE 消息参数窗口。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#28](../../mfc/reference/codesnippet/cpp/ctreectrl-class_32.cpp)]  
  
##  <a name="setautoscrollinfo"></a>  CTreeCtrl::SetAutoscrollInfo  
 设置当前的树视图控件的自动滚动率。  
  
```  
BOOL SetAutoscrollInfo(
    UINT uPixelsPerSec,   
    UINT uUpdateTime);
```  
  
### <a name="parameters"></a>参数  
  
|参数|描述|  
|---------------|-----------------|  
|[in]*uPixelsPerSec*|每秒可滚动的像素数。|  
|[in]*uUpdateTime*|控件的更新之间的时间间隔。|  
  
### <a name="return-value"></a>返回值  
 始终返回 TRUE。  
  
### <a name="remarks"></a>备注  
 自动滚动参数用于滚动到视图中当前不可见的项。 在树视图控件必须具有 TVS_EX_AUTOHSCROLL 扩展样式中, 所述[树视图控件的扩展样式](/windows/desktop/Controls/tree-view-control-window-extended-styles)。  
  
 此方法将发送[TVM_SETAUTOSCROLLINFO](/windows/desktop/Controls/tvm-setautoscrollinfo)消息，Windows SDK 中所述。  
  
### <a name="example"></a>示例  
 下面的代码示例定义一个变量， `m_treeCtrl`，即用于访问当前的树视图控件。 代码示例还定义一个无符号的整数和多个 HTREEITEM 变量。 在下一步的示例中使用这些变量。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]  
  
### <a name="example"></a>示例  
 下面的代码示例设置当前的树视图控件的自动滚动行为。 在前面部分的代码示例中，而不会显示，我们将创建包含美国境内的根的国家/地区节点、 宾夕法尼亚州和华盛顿州的子节点和树项目处于这些状态的城市的树视图。 我们有意设置为树视图控件窄，以便它必须自动滚动以显示具有焦点的树项。 代码示例设置要自动滚动 30 个像素，每秒每隔 5 秒，直到树项视图中的树视图控件。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#4](../../mfc/reference/codesnippet/cpp/ctreectrl-class_33.cpp)]  
  
##  <a name="setbkcolor"></a>  CTreeCtrl::SetBkColor  
 此成员函数可实现 Win32 消息的行为[TVM_SETBKCOLOR](/windows/desktop/Controls/tvm-setbkcolor)，如 Windows SDK 中所述。  
  
```  
COLORREF SetBkColor(COLORREF clr);
```  
  
### <a name="parameters"></a>参数  
 *clr*  
 一个包含新的背景色的 COLORREF 值。 如果此值为-1，该控件将恢复为使用系统颜色的背景颜色。  
  
### <a name="return-value"></a>返回值  
 一个 COLORREF 值，该值表示当前的文本颜色。 如果此值为-1，该控件用于系统颜色的文本颜色。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::SetTextColor](#settextcolor)。  
  
##  <a name="setcheck"></a>  CTreeCtrl::SetCheck  
 调用此成员函数可设置树控件项的复选状态。  
  
```  
BOOL SetCheck(
    HTREEITEM hItem,  
    BOOL fCheck = TRUE);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 若要接收检查状态更改 HTREEITEM。  
  
 *fCheck*  
 指示是否为选中或取消选中树控件项。 默认情况下，`SetCheck`设置要检查的项。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 当检查树控件项 ( *fCheck*设置为 TRUE)，与相邻的复选标记出现的项。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#29](../../mfc/reference/codesnippet/cpp/ctreectrl-class_34.cpp)]  
  
### <a name="example"></a>示例  
 若要使用的复选框，请填充树控件之前设置 TVS_CHECKBOXES。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl#30](../../mfc/reference/codesnippet/cpp/ctreectrl-class_35.cpp)]  
  
##  <a name="setextendedstyle"></a>  CTreeCtrl::SetExtendedStyle  
 设置当前的树视图控件的扩展的样式。  
  
```  
DWORD SetExtendedStyle(
    DWORD dwExMask,   
    DWORD dwExStyles);
```  
  
### <a name="parameters"></a>参数  
  
|参数|描述|  
|---------------|-----------------|  
|[in]*dwExMask*|指定当前的树视图控件中的样式会影响此方法的位掩码。 如果此参数为零，它将忽略和的值*dwExStyles*参数分配给树视图控件。<br /><br /> 指定零个或样式中所述的按位组合 (OR)[树视图控件扩展样式](/windows/desktop/Controls/tree-view-control-window-extended-styles)。|  
|[in]*dwExStyles*|指定到设置或清除控件当前的树视图中的样式的位掩码。<br /><br /> 若要设置样式的组合，指定样式中所述的按位组合 (OR)[树视图控件扩展样式](/windows/desktop/Controls/tree-view-control-window-extended-styles)。 若要清除的一组样式，请指定零。|  
  
### <a name="return-value"></a>返回值  
 一个包含以前的值扩展控件样式。  
  
### <a name="remarks"></a>备注  
 此方法将清除中指定的样式*dwExMask*参数，然后设置中指定的样式*dwExStyles*参数。 仅与中的位相对应的扩展的样式*dwExMask*更改。  
  
 此方法将发送[TVM_SETEXTENDEDSTYLE](/windows/desktop/Controls/tvm-setextendedstyle)消息，Windows SDK 中所述。  
  
### <a name="example"></a>示例  
 下面的代码示例定义一个变量， `m_treeCtrl`，即用于访问当前的树视图控件。 代码示例还定义一个无符号的整数和多个 HTREEITEM 变量。 在下一步的示例中使用这些变量。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]  
  
### <a name="example"></a>示例  
 下面的代码示例将 TVS_EX_AUTOHSCROLL 扩展样式添加到当前的树视图控件。 在前面部分的代码示例中，而不会显示，我们将创建包含美国境内的根的国家/地区节点、 宾夕法尼亚州和华盛顿州的子节点和树项目处于这些状态的城市的树视图。 我们有意设置为树视图控件窄，以便它必须自动滚动以显示具有焦点的树项。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#3](../../mfc/reference/codesnippet/cpp/ctreectrl-class_36.cpp)]  
  
##  <a name="setimagelist"></a>  CTreeCtrl::SetImageList  
 调用此函数可设置正常或状态图像列表的树视图控件和重绘控件使用新的映像。  
  
```  
CImageList* SetImageList(
    CImageList* pImageList,  
    int nImageListType);
```  
  
### <a name="parameters"></a>参数  
 *pImageList*  
 指向要分配的图像列表的指针。 如果*pImageList*为 NULL，从树视图控件中移除所有映像。  
  
 *nImageListType*  
 若要设置的图像列表的类型。 图像列表可以是下列值之一：  
  
- TVSIL_NORMAL 设置正常图像列表，其中包含为树视图项的选定和未选定的映像。 有关覆盖图像，必须使用此状态。  
  
- TVSIL_STATE 设置状态图像列表，其中包含了用户定义的状态中的树视图项的图像。  
  
### <a name="return-value"></a>返回值  
 指向上一个图像列表中，如果有的话;否则为，为 NULL。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::GetImageList](#getimagelist)。  
  
##  <a name="setindent"></a>  CTreeCtrl::SetIndent  
 调用此函数可设置树视图控件的缩进的宽度和重绘控件以反映新的宽度。  
  
```  
void SetIndent(UINT nIndent);
```  
  
### <a name="parameters"></a>参数  
 *nIndent*  
 以像素为单位，缩进的宽度。 如果*nIndent*小于系统定义的最小宽度，新的宽度设置为系统定义的最小值。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::GetIndent](#getindent)。  
  
##  <a name="setinsertmark"></a>  CTreeCtrl::SetInsertMark  
 此成员函数可实现 Win32 消息的行为[TVM_SETINSERTMARK](/windows/desktop/Controls/tvm-setinsertmark)，如 Windows SDK 中所述。  
  
```  
BOOL SetInsertMark(
    HTREEITEM hItem,  
    BOOL fAfter = TRUE);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 指定在哪一项将放置插入标记的 HTREEITEM。 如果此参数为 NULL，则会删除插入标记。  
  
 *fAfter*  
 BOOL 值，该值指定指定的选项之前或之后，是否放置插入标记。 如果此参数为非零值，将项的后面放置插入标记。 如果此参数为零，插入标记将被放置到项之前。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#31](../../mfc/reference/codesnippet/cpp/ctreectrl-class_37.cpp)]  
  
##  <a name="setinsertmarkcolor"></a>  CTreeCtrl::SetInsertMarkColor  
 此成员函数可实现 Win32 消息的行为[TVM_SETINSERTMARKCOLOR](/windows/desktop/Controls/tvm-setinsertmarkcolor)，如 Windows SDK 中所述。  
  
```  
COLORREF SetInsertMarkColor(COLORREF clrNew);
```  
  
### <a name="parameters"></a>参数  
 *clrNew*  
 一个包含新插入标记颜色的 COLORREF 值。  
  
### <a name="return-value"></a>返回值  
 一个 COLORREF 值，该值包含以前的插入标记颜色。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::GetInsertMarkColor](#getinsertmarkcolor)。  
  
##  <a name="setitem"></a>  CTreeCtrl::SetItem  
 调用此函数可设置指定的树视图项的属性。  
  
```  
BOOL SetItem(TVITEM* pItem);

 
BOOL SetItem(
    HTREEITEM hItem,  
    UINT nMask,  
    LPCTSTR lpszItem,  
    int nImage,  
    int nSelectedImage,  
    UINT nState,  
    UINT nStateMask,  
    LPARAM lParam);
```  
  
### <a name="parameters"></a>参数  
 *pItem*  
 一个指向[TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema)结构，其中包含新的项属性，如 Windows SDK 中所述。  
  
 *hItem*  
 若要设置其属性的项的句柄。 请参阅`hItem`的成员`TVITEM`Windows SDK 中的结构。  
  
 *nMask*  
 整数，指定要设置的属性。 请参阅`mask`的成员`TVITEM`结构。  
  
 *lpszItem*  
 包含项的文本的字符串的地址。  
  
 *nImage*  
 树视图控件的图像列表中的项的图像的索引。 请参阅`iImage`的成员`TVITEM`结构。  
  
 *nSelectedImage*  
 树视图控件的图像列表中的项的所选图像的索引。 请参阅`iSelectedImage`的成员`TVITEM`结构。  
  
 *nState*  
 指定的项的状态的值。 请参阅`State`的成员`TVITEM`结构。  
  
 *nStateMask*  
 指定要设置哪些状态。 请参阅`stateMask`的成员`TVITEM`结构。  
  
 *lParam*  
 与项关联一个 32 位应用程序特定值。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 在中`TVITEM`结构，`hItem`成员标识的项，并`mask`成员指定要设置的属性。  
  
 如果`mask`成员或*nMask*参数指定 TVIF_TEXT 值`pszText`成员或*lpszItem*是以 null 结尾的字符串的地址和`cchTextMax`成员将被忽略。 如果`mask`(或*nMask*) 指定 TVIF_STATE 值`stateMask`成员或*nStateMask*参数指定哪一项状态更改和`state`成员或*nState*参数包含这些状态的值。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#32](../../mfc/reference/codesnippet/cpp/ctreectrl-class_38.cpp)]  
  
##  <a name="setitemdata"></a>  CTreeCtrl::SetItemData  
 调用此函数可设置与指定项关联的 32 位应用程序特定值。  
  
```  
BOOL SetItemData(
    HTREEITEM hItem,  
    DWORD_PTR dwData);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 要检索其数据的项的句柄。  
  
 *dwData*  
 与由指定的项关联的 32 位应用程序特定值*hItem*。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#33](../../mfc/reference/codesnippet/cpp/ctreectrl-class_39.cpp)]  
  
##  <a name="setitemexpandedimageindex"></a>  CTreeCtrl::SetItemExpandedImageIndex  
 设置要在当前的树视图控件的指定的项处于展开状态时显示的图像的索引。  
  
```  
BOOL SetItemExpandedImageIndex(
    HTREEITEM hItem,   
    int iExpandedImage);
```  
  
### <a name="parameters"></a>参数  
  
|参数|描述|  
|---------------|-----------------|  
|[in]*hItem*|句柄的树视图控件项。|  
|[in]*iExpandedImage*|若要指定的项处于展开状态时显示的图像的索引。|  
  
### <a name="return-value"></a>返回值  
 如果此方法成功，则为 TRUE否则为 FALSE。  
  
### <a name="remarks"></a>备注  
 此方法将发送[TVM_SETITEM](/windows/desktop/Controls/tvm-setitem)消息，Windows SDK 中所述。 此方法将分配*iExpandedImage*参数`iExpandedImage`的成员[TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa)结构，然后使用该结构，在消息中。  
  
### <a name="example"></a>示例  
 下面的代码示例定义一个变量， `m_treeCtrl`，即用于访问当前的树视图控件。 代码示例还定义一个无符号的整数和多个 HTREEITEM 变量。 在下一步的示例中使用这些变量。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]  
  
### <a name="example"></a>示例  
 下面的代码示例是一个简单的测试，以确定是否[CTreeCtrl::GetItemExpandedImageIndex](#getitemexpandedimageindex)方法返回设置的值[CTreeCtrl::SetItemExpandedImageIndex](#setitemexpandedimageindex)方法。 在前面部分的代码示例中，而不会显示，我们将创建包含美国境内的根的国家/地区节点、 宾夕法尼亚州和华盛顿州的子节点和树项目处于这些状态的城市的树视图。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#8](../../mfc/reference/codesnippet/cpp/ctreectrl-class_40.cpp)]  
  
##  <a name="setitemheight"></a>  CTreeCtrl::SetItemHeight  
 此成员函数可实现 Win32 消息的行为[TVM_SETITEMHEIGHT](/windows/desktop/Controls/tvm-setitemheight)，如 Windows SDK 中所述。  
  
```  
SHORT SetItemHeight(SHORT cyHeight);
```  
  
### <a name="parameters"></a>参数  
 *cyHeight*  
 在树视图中，以像素为单位指定的每个项的新高度。 如果此参数为早于图像的高度，则会将它设为图像的高度。 如果此参数不为偶数，它将舍入到最接近偶数值。 如果此参数为-1，该控件将恢复为使用其默认项高度。  
  
### <a name="return-value"></a>返回值  
 上一项，以像素为单位的高度。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::GetItemHeight](#getitemheight)。  
  
##  <a name="setitemimage"></a>  CTreeCtrl::SetItemImage  
 将图像与项相关联。  
  
```  
BOOL SetItemImage(
    HTREEITEM hItem,  
    int nImage,  
    int nSelectedImage);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 若要设置其图像的项的句柄。  
  
 *nImage*  
 树视图控件的图像列表中的项的图像的索引。  
  
 *nSelectedImage*  
 树视图控件的图像列表中的项的所选图像的索引。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 在树视图控件中的每个项可以有与之关联的位图化图像的对。 在左侧和右侧的项的标签上显示图像。 选择该项，和其他显示当未选定项时，会显示一个图像。 例如，某一项可能显示为选中状态时打开的文件夹和关闭的文件夹未选中状态时。  
  
 调用此函数可设置项的图像和树视图控件的图像列表中其所选的图像的索引。  
  
 有关映像的详细信息，请参阅[CImageList](../../mfc/reference/cimagelist-class.md)。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::GetItemImage](#getitemimage)。  
  
##  <a name="setitemstate"></a>  CTreeCtrl::SetItemState  
 设置由指定的项的状态*hItem*。  
  
```  
BOOL SetItemState(
    HTREEITEM hItem,  
    UINT nState,  
    UINT nStateMask);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 若要设置其状态的项的句柄。  
  
 *nState*  
 指定项的新状态。  
  
 *nStateMask*  
 指定要更改的状态。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 有关状态的信息，请参阅[CTreeCtrl::GetItem](#getitem)。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::GetItemState](#getitemstate)。  
  
##  <a name="setitemstateex"></a>  CTreeCtrl::SetItemStateEx  
 设置当前的树视图控件中的指定项的扩展的状态。  
  
```  
BOOL SetItemStateEx(
    HTREEITEM hItem,   
    UINT uStateEx);
```  
  
### <a name="parameters"></a>参数  
  
|参数|描述|  
|---------------|-----------------|  
|[in]*hItem*|句柄的树视图控件项。|  
|[in]*uStateEx*|项的扩展的状态。 有关详细信息，请参阅`uStateEx`的成员[TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa)结构。|  
  
### <a name="return-value"></a>返回值  
 如果此方法成功，则为 TRUE否则为 FALSE。  
  
### <a name="remarks"></a>备注  
 此方法将发送[TVM_SETITEM](/windows/desktop/Controls/tvm-setitem)消息，Windows SDK 中所述。 此方法将分配*uStateEx*参数`uStateEx`的成员[TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa)结构，然后使用该结构，在消息中。  
  
### <a name="example"></a>示例  
 下面的代码示例定义一个变量， `m_treeCtrl`，即用于访问当前的树视图控件。 代码示例还定义一个无符号的整数和多个 HTREEITEM 变量。 在下一步的示例中使用这些变量。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]  
  
### <a name="example"></a>示例  
 下面的代码示例设置为禁用状态的树视图项。 在前面部分的代码示例中，而不会显示，我们将创建包含美国境内的根的国家/地区节点、 宾夕法尼亚州和华盛顿州的子节点和树项目处于这些状态的城市的树视图。 此代码示例将宾夕法尼亚节点设置为禁用状态。  
  
 [!code-cpp[NVC_MFC_CTreeCtrl_s1#7](../../mfc/reference/codesnippet/cpp/ctreectrl-class_41.cpp)]  
  
##  <a name="setitemtext"></a>  CTreeCtrl::SetItemText  
 设置由指定的项的文本*hItem*。  
  
```  
BOOL SetItemText(
    HTREEITEM hItem,  
    LPCTSTR lpszItem);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 若要设置其文本的项的句柄。  
  
 *lpszItem*  
 一个包含项的新文本字符串的地址  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#34](../../mfc/reference/codesnippet/cpp/ctreectrl-class_42.cpp)]  
  
##  <a name="setlinecolor"></a>  CTreeCtrl::SetLineColor  
 调用此成员函数可设置树视图控件的当前线条颜色。  
  
```  
COLORREF SetLineColor(COLORREF clrNew = CLR_DEFAULT);
```  
  
### <a name="parameters"></a>参数  
 *clrNew*  
 新的线条颜色。  
  
### <a name="return-value"></a>返回值  
 以前的线条颜色。  
  
### <a name="remarks"></a>备注  
 此成员函数可实现 win32 消息的行为[TVM_SETLINECOLOR](/windows/desktop/Controls/tvm-setlinecolor)，如 Windows SDK 中所述。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#35](../../mfc/reference/codesnippet/cpp/ctreectrl-class_43.cpp)]  
  
##  <a name="setscrolltime"></a>  CTreeCtrl::SetScrollTime  
 调用此成员函数可设置树视图控件的最大滚动时间。  
  
```  
UINT SetScrollTime(UINT uScrollTime);
```  
  
### <a name="parameters"></a>参数  
 *uScrollTime*  
 新的最大滚动时间，以毫秒为单位。 如果此值为 100，则它将舍入最多为 100。  
  
### <a name="return-value"></a>返回值  
 上一个最大滚动时间，以毫秒为单位。  
  
### <a name="remarks"></a>备注  
 此成员函数可实现 win32 消息的行为[TVM_SETSCROLLTIME](/windows/desktop/Controls/tvm-setscrolltime)，如 Windows SDK 中所述。  
  
##  <a name="settextcolor"></a>  CTreeCtrl::SetTextColor  
 此成员函数可实现 Win32 消息的行为[TVM_SETTEXTCOLOR](/windows/desktop/Controls/tvm-settextcolor)，如 Windows SDK 中所述。  
  
```  
COLORREF SetTextColor(COLORREF clr);
```  
  
### <a name="parameters"></a>参数  
 *clr*  
 一个 COLORREF 值，该值包含新的文本颜色。 如果此参数为-1，该控件将恢复为使用系统颜色的文本颜色。  
  
### <a name="return-value"></a>返回值  
 一个 COLORREF 值，该值表示前一种文本颜色。 如果此值为-1，该控件正在使用的系统颜色的文本颜色。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#36](../../mfc/reference/codesnippet/cpp/ctreectrl-class_44.cpp)]  
  
##  <a name="settooltips"></a>  CTreeCtrl::SetToolTips  
 此成员函数可实现 Win32 消息的行为[TVM_SETTOOLTIPS](/windows/desktop/Controls/tvm-settooltips)，如 Windows SDK 中所述。  
  
```  
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```  
  
### <a name="parameters"></a>参数  
 *pWndTip*  
 一个指向[CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md)树控件将使用的对象。  
  
### <a name="return-value"></a>返回值  
 一个指向[CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md)对象，其中包含以前使用控件，则为 NULL，如果没有工具提示以前使用的工具提示。  
  
### <a name="remarks"></a>备注  
 若要使用的工具提示，指示 TVS_NOTOOLTIPS 样式创建时`CTreeCtrl`对象。  
  
### <a name="example"></a>示例  
  有关示例，请参阅[CTreeCtrl::GetToolTips](#gettooltips)。  
  
##  <a name="showinfotip"></a>  CTreeCtrl::ShowInfoTip  
 显示当前的树视图控件中的指定项的信息提示。  
  
```  
void ShowInfoTip(HTREEITEM hItem);
```  
  
### <a name="parameters"></a>参数  
  
|参数|描述|  
|---------------|-----------------|  
|[in]*hItem*|在控件中的树视图项句柄。 有关详细信息，请参阅`hItem`的成员[TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa)结构。|  
  
### <a name="remarks"></a>备注  
 有关工具提示和信息提示之间的差异的详细信息，搜索上的"工具提示和信息提示"主题[Microsoft Developer Network](http://go.microsoft.com/fwlink/p/?linkid=56322)。  
  
 此方法将发送[TVM_SHOWINFOTIP](/windows/desktop/Controls/tvm-showinfotip)消息，Windows SDK 中所述。  
  
##  <a name="sortchildren"></a>  CTreeCtrl::SortChildren  
 调用此函数可按字母顺序排序的树视图控件中的给定的父项的子项。  
  
```  
BOOL SortChildren(HTREEITEM hItem);
```  
  
### <a name="parameters"></a>参数  
 *hItem*  
 父项的子项是要排序的句柄。 如果*hItem*为 NULL，排序将继续从树的根。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 `SortChildren` 将通过树; 进行递归仅直属子级*hItem*进行排序。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#37](../../mfc/reference/codesnippet/cpp/ctreectrl-class_45.cpp)]  
  
##  <a name="sortchildrencb"></a>  CTreeCtrl::SortChildrenCB  
 调用此函数使用比较项的应用程序定义的回调函数的树视图项进行排序。  
  
```  
BOOL SortChildrenCB(LPTVSORTCB pSort);
```  
  
### <a name="parameters"></a>参数  
 *pSort*  
 指向[TVSORTCB](/windows/desktop/api/commctrl/ns-commctrl-tagtvsortcb)结构。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 该结构的比较函数， `lpfnCompare`，必须返回值为负正第一项应位于第二个之前，如果值的第一项应遵循第二个，则为零的两项是等效。  
  
 *LParam1*并*lParam2*参数对应于`lParam`隶属[TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema)结构的两个项进行比较。 *LParamSort*参数对应于`lParam`的成员`TV_SORTCB`结构。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_CTreeCtrl#38](../../mfc/reference/codesnippet/cpp/ctreectrl-class_46.cpp)]  
  
 [!code-cpp[NVC_MFC_CTreeCtrl#39](../../mfc/reference/codesnippet/cpp/ctreectrl-class_47.cpp)]  
  
## <a name="see-also"></a>请参阅  
 [MFC 示例 CMNCTRL1](../../visual-cpp-samples.md)   
 [CWnd 类](../../mfc/reference/cwnd-class.md)   
 [层次结构图表](../../mfc/hierarchy-chart.md)   
 [CImageList 类](../../mfc/reference/cimagelist-class.md)
