---
title: CRenderTarget 类
ms.date: 11/04/2016
f1_keywords:
- CRenderTarget
- AFXRENDERTARGET/CRenderTarget
- AFXRENDERTARGET/CRenderTarget::CRenderTarget
- AFXRENDERTARGET/CRenderTarget::Attach
- AFXRENDERTARGET/CRenderTarget::BeginDraw
- AFXRENDERTARGET/CRenderTarget::Clear
- AFXRENDERTARGET/CRenderTarget::COLORREF_TO_D2DCOLOR
- AFXRENDERTARGET/CRenderTarget::CreateCompatibleRenderTarget
- AFXRENDERTARGET/CRenderTarget::Destroy
- AFXRENDERTARGET/CRenderTarget::Detach
- AFXRENDERTARGET/CRenderTarget::DrawBitmap
- AFXRENDERTARGET/CRenderTarget::DrawEllipse
- AFXRENDERTARGET/CRenderTarget::DrawGeometry
- AFXRENDERTARGET/CRenderTarget::DrawGlyphRun
- AFXRENDERTARGET/CRenderTarget::DrawLine
- AFXRENDERTARGET/CRenderTarget::DrawRectangle
- AFXRENDERTARGET/CRenderTarget::DrawRoundedRectangle
- AFXRENDERTARGET/CRenderTarget::DrawText
- AFXRENDERTARGET/CRenderTarget::DrawTextLayout
- AFXRENDERTARGET/CRenderTarget::EndDraw
- AFXRENDERTARGET/CRenderTarget::FillEllipse
- AFXRENDERTARGET/CRenderTarget::FillGeometry
- AFXRENDERTARGET/CRenderTarget::FillMesh
- AFXRENDERTARGET/CRenderTarget::FillOpacityMask
- AFXRENDERTARGET/CRenderTarget::FillRectangle
- AFXRENDERTARGET/CRenderTarget::FillRoundedRectangle
- AFXRENDERTARGET/CRenderTarget::Flush
- AFXRENDERTARGET/CRenderTarget::GetAntialiasMode
- AFXRENDERTARGET/CRenderTarget::GetDpi
- AFXRENDERTARGET/CRenderTarget::GetMaximumBitmapSize
- AFXRENDERTARGET/CRenderTarget::GetPixelFormat
- AFXRENDERTARGET/CRenderTarget::GetPixelSize
- AFXRENDERTARGET/CRenderTarget::GetRenderTarget
- AFXRENDERTARGET/CRenderTarget::GetSize
- AFXRENDERTARGET/CRenderTarget::GetTags
- AFXRENDERTARGET/CRenderTarget::GetTextAntialiasMode
- AFXRENDERTARGET/CRenderTarget::GetTextRenderingParams
- AFXRENDERTARGET/CRenderTarget::GetTransform
- AFXRENDERTARGET/CRenderTarget::IsSupported
- AFXRENDERTARGET/CRenderTarget::IsValid
- AFXRENDERTARGET/CRenderTarget::PopAxisAlignedClip
- AFXRENDERTARGET/CRenderTarget::PopLayer
- AFXRENDERTARGET/CRenderTarget::PushAxisAlignedClip
- AFXRENDERTARGET/CRenderTarget::PushLayer
- AFXRENDERTARGET/CRenderTarget::RestoreDrawingState
- AFXRENDERTARGET/CRenderTarget::SaveDrawingState
- AFXRENDERTARGET/CRenderTarget::SetAntialiasMode
- AFXRENDERTARGET/CRenderTarget::SetDpi
- AFXRENDERTARGET/CRenderTarget::SetTags
- AFXRENDERTARGET/CRenderTarget::SetTextAntialiasMode
- AFXRENDERTARGET/CRenderTarget::SetTextRenderingParams
- AFXRENDERTARGET/CRenderTarget::SetTransform
- AFXRENDERTARGET/CRenderTarget::VerifyResource
- AFXRENDERTARGET/CRenderTarget::m_lstResources
- AFXRENDERTARGET/CRenderTarget::m_pRenderTarget
- AFXRENDERTARGET/CRenderTarget::m_pTextFormatDefault
helpviewer_keywords:
- CRenderTarget [MFC], CRenderTarget
- CRenderTarget [MFC], Attach
- CRenderTarget [MFC], BeginDraw
- CRenderTarget [MFC], Clear
- CRenderTarget [MFC], COLORREF_TO_D2DCOLOR
- CRenderTarget [MFC], CreateCompatibleRenderTarget
- CRenderTarget [MFC], Destroy
- CRenderTarget [MFC], Detach
- CRenderTarget [MFC], DrawBitmap
- CRenderTarget [MFC], DrawEllipse
- CRenderTarget [MFC], DrawGeometry
- CRenderTarget [MFC], DrawGlyphRun
- CRenderTarget [MFC], DrawLine
- CRenderTarget [MFC], DrawRectangle
- CRenderTarget [MFC], DrawRoundedRectangle
- CRenderTarget [MFC], DrawText
- CRenderTarget [MFC], DrawTextLayout
- CRenderTarget [MFC], EndDraw
- CRenderTarget [MFC], FillEllipse
- CRenderTarget [MFC], FillGeometry
- CRenderTarget [MFC], FillMesh
- CRenderTarget [MFC], FillOpacityMask
- CRenderTarget [MFC], FillRectangle
- CRenderTarget [MFC], FillRoundedRectangle
- CRenderTarget [MFC], Flush
- CRenderTarget [MFC], GetAntialiasMode
- CRenderTarget [MFC], GetDpi
- CRenderTarget [MFC], GetMaximumBitmapSize
- CRenderTarget [MFC], GetPixelFormat
- CRenderTarget [MFC], GetPixelSize
- CRenderTarget [MFC], GetRenderTarget
- CRenderTarget [MFC], GetSize
- CRenderTarget [MFC], GetTags
- CRenderTarget [MFC], GetTextAntialiasMode
- CRenderTarget [MFC], GetTextRenderingParams
- CRenderTarget [MFC], GetTransform
- CRenderTarget [MFC], IsSupported
- CRenderTarget [MFC], IsValid
- CRenderTarget [MFC], PopAxisAlignedClip
- CRenderTarget [MFC], PopLayer
- CRenderTarget [MFC], PushAxisAlignedClip
- CRenderTarget [MFC], PushLayer
- CRenderTarget [MFC], RestoreDrawingState
- CRenderTarget [MFC], SaveDrawingState
- CRenderTarget [MFC], SetAntialiasMode
- CRenderTarget [MFC], SetDpi
- CRenderTarget [MFC], SetTags
- CRenderTarget [MFC], SetTextAntialiasMode
- CRenderTarget [MFC], SetTextRenderingParams
- CRenderTarget [MFC], SetTransform
- CRenderTarget [MFC], VerifyResource
- CRenderTarget [MFC], m_lstResources
- CRenderTarget [MFC], m_pRenderTarget
- CRenderTarget [MFC], m_pTextFormatDefault
ms.assetid: 30d1607d-68d3-4d14-ac36-fdbd0ef903a1
ms.openlocfilehash: 3066f3308d0c7e5c9a04f7746585be9a9dd5bc9b
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/31/2018
ms.locfileid: "50588633"
---
# <a name="crendertarget-class"></a>CRenderTarget 类

ID2D1RenderTarget 包装器。

## <a name="syntax"></a>语法

```
class CRenderTarget : public CObject;
```

## <a name="members"></a>成员

### <a name="public-constructors"></a>公共构造函数

|名称|描述|
|----------|-----------------|
|[CRenderTarget::CRenderTarget](#crendertarget)|构造一个 CRenderTarget 对象。|
|[CRenderTarget:: ~ CRenderTarget](#crendertarget__~crendertarget)|析构函数。 当呈现器目标对象被销毁时调用。|

### <a name="public-methods"></a>公共方法

|名称|描述|
|----------|-----------------|
|[CRenderTarget::Attach](#attach)|附加现有呈现器目标接口的对象|
|[CRenderTarget::BeginDraw](#begindraw)|在此呈现器目标上绘制的初始化。|
|[CRenderTarget::Clear](#clear)|清除为指定的颜色绘制区域。|
|[CRenderTarget::COLORREF_TO_D2DCOLOR](#colorref_to_d2dcolor)|将 GDI 颜色和 alpha 值转换为 D2D1_COLOR_F 对象。|
|[CRenderTarget::CreateCompatibleRenderTarget](#createcompatiblerendertarget)|在与当前的呈现器目标兼容的中间屏幕外绘制期间创建新的位图呈现器目标使用。|
|[CRenderTarget::Destroy](#destroy)|删除一个或多个资源|
|[CRenderTarget::Detach](#detach)|分离对象中的呈现器目标接口|
|[CRenderTarget::DrawBitmap](#drawbitmap)|绘制由指定 IDWriteTextLayout 对象描述的格式化的文本。|
|[CRenderTarget::DrawEllipse](#drawellipse)|绘制椭圆形边框的指定使用指定的笔划样式。|
|[CRenderTarget::DrawGeometry](#drawgeometry)|绘制指定几何图形使用指定的笔划样式的边框。|
|[CRenderTarget::DrawGlyphRun](#drawglyphrun)|绘制指定的标志符号。|
|[CRenderTarget::DrawLine](#drawline)|使用指定的笔划样式的指定点之间绘制一条线。|
|[CRenderTarget::DrawRectangle](#drawrectangle)|绘制具有指定的尺寸和笔划样式的矩形的边框。|
|[CRenderTarget::DrawRoundedRectangle](#drawroundedrectangle)|绘制指定圆角矩形使用指定的笔划样式的大纲。|
|[CRenderTarget::DrawText](#drawtext)|绘制指定的文本使用 IDWriteTextFormat 对象提供的格式信息。|
|[CRenderTarget::DrawTextLayout](#drawtextlayout)|绘制由指定 IDWriteTextLayout 对象描述的格式化的文本。|
|[CRenderTarget::EndDraw](#enddraw)|结束呈现器目标上的绘制操作并指示当前错误状态和关联的标记。|
|[CRenderTarget::FillEllipse](#fillellipse)|绘制指定的椭圆的内部。|
|[CRenderTarget::FillGeometry](#fillgeometry)|绘制指定几何图形的内部。|
|[CRenderTarget::FillMesh](#fillmesh)|绘制指定网格的内部。|
|[CRenderTarget::FillOpacityMask](#fillopacitymask)|适用描述指定位图为画笔的不透明蒙板，并使用该画笔绘制区域的呈现器目标。|
|[CRenderTarget::FillRectangle](#fillrectangle)|绘制指定矩形的内部。|
|[CRenderTarget::FillRoundedRectangle](#fillroundedrectangle)|绘制指定圆角矩形内部。|
|[CRenderTarget::Flush](#flush)|执行所有挂起的绘制命令。|
|[CRenderTarget::GetAntialiasMode](#getantialiasmode)|检索非文本绘图操作的当前抗锯齿模式。|
|[CRenderTarget::GetDpi](#getdpi)|返回该呈现器目标的每英寸点数 (DPI)|
|[CRenderTarget::GetMaximumBitmapSize](#getmaximumbitmapsize)|支持的呈现器目标的任意一个位图尺寸为依赖于设备的单位 （像素） 获取的最大大小|
|[CRenderTarget::GetPixelFormat](#getpixelformat)|检索呈现器目标的像素格式和 alpha 模式|
|[CRenderTarget::GetPixelSize](#getpixelsize)|以设备像素为单位返回呈现器目标的大小|
|[CRenderTarget::GetRenderTarget](#getrendertarget)|返回 ID2D1RenderTarget 接口|
|[CRenderTarget::GetSize](#getsize)|以独立于设备的像素为单位返回呈现器目标的大小|
|[CRenderTarget::GetTags](#gettags)|获取后续的绘图操作的标签。|
|[CRenderTarget::GetTextAntialiasMode](#gettextantialiasmode)|获取文本和字形绘制操作的当前的抗锯齿模式。|
|[CRenderTarget::GetTextRenderingParams](#gettextrenderingparams)|检索呈现器目标的当前文本呈现选项。|
|[CRenderTarget::GetTransform](#gettransform)|指定的转换应用于呈现器目标，替换现有转换。 所有后续的绘图操作将在转换后的空间。|
|[CRenderTarget::IsSupported](#issupported)|指示呈现器目标是否支持指定的属性|
|[CRenderTarget::IsValid](#isvalid)|检查资源有效性|
|[CRenderTarget::PopAxisAlignedClip](#popaxisalignedclip)|从呈现目标中删除的最后一个与坐标轴对齐的剪辑。 调用此方法后，剪辑不再应用于后续绘图操作。|
|[CRenderTarget::PopLayer](#poplayer)|将绘图操作重定向到指定的最后一个 PushLayer 的层将停止调用。|
|[CRenderTarget::PushAxisAlignedClip](#pushaxisalignedclip)|从呈现目标中删除的最后一个与坐标轴对齐的剪辑。 调用此方法后，剪辑不再应用于后续绘图操作。|
|[CRenderTarget::PushLayer](#pushlayer)|将指定的层添加到呈现目标，以便它接收所有后续的绘图操作，直到 poplayer。|
|[CRenderTarget::RestoreDrawingState](#restoredrawingstate)|呈现器目标的绘制状态设置为指定 ID2D1DrawingStateBlock 的。|
|[CRenderTarget::SaveDrawingState](#savedrawingstate)|将当前绘图状态保存到指定 ID2D1DrawingStateBlock。|
|[CRenderTarget::SetAntialiasMode](#setantialiasmode)|设置呈现器目标的抗锯齿模式。 抗锯齿模式适用于所有后续的绘图操作，不包括文本和绘制操作的标志符号。|
|[CRenderTarget::SetDpi](#setdpi)|设置每英寸点数 (DPI) 的呈现器目标。|
|[CRenderTarget::SetTags](#settags)|指定用于后续的绘图操作的标签。|
|[CRenderTarget::SetTextAntialiasMode](#settextantialiasmode)|指定要用于后续文本和字形绘制操作的抗锯齿模式。|
|[CRenderTarget::SetTextRenderingParams](#settextrenderingparams)|指定要应用于所有后续文本和绘制操作的标志符号的文本呈现选项。|
|[CRenderTarget::SetTransform](#settransform)|已重载。 指定的转换应用于呈现器目标，替换现有转换。 所有后续的绘图操作将在转换后的空间。|

### <a name="protected-methods"></a>受保护的方法

|名称|描述|
|----------|-----------------|
|[CRenderTarget::VerifyResource](#verifyresource)|验证 CD2DResource 对象有效性;如果该表尚不存在，则创建的对象。|

### <a name="public-operators"></a>公共运算符

|名称|描述|
|----------|-----------------|
|[CRenderTarget::operator ID2D1RenderTarget *](#operator_id2d1rendertarget_star)|返回 ID2D1RenderTarget 接口|

### <a name="protected-data-members"></a>受保护的数据成员

|name|描述|
|----------|-----------------|
|[CRenderTarget::m_lstResources](#m_lstresources)|指向 CD2DResource 对象的指针的列表。|
|[CRenderTarget::m_pRenderTarget](#m_prendertarget)|指向 ID2D1RenderTarget 对象的指针。|
|[CRenderTarget::m_pTextFormatDefault](#m_ptextformatdefault)|指向包含默认文本格式的 CD2DTextFormat 对象的指针。|

## <a name="inheritance-hierarchy"></a>继承层次结构

[CObject](../../mfc/reference/cobject-class.md)

[CRenderTarget](../../mfc/reference/crendertarget-class.md)

## <a name="requirements"></a>要求

**标头：** afxrendertarget.h

##  <a name="_dtorcrendertarget"></a>  CRenderTarget:: ~ CRenderTarget

析构函数。 当呈现器目标对象被销毁时调用。

```
virtual ~CRenderTarget();
```

##  <a name="attach"></a>  CRenderTarget::Attach

附加现有呈现器目标接口的对象

```
void Attach(ID2D1RenderTarget* pRenderTarget);
```

### <a name="parameters"></a>参数

*pRenderTarget*<br/>
现有呈现器目标的接口。 不能为 NULL

##  <a name="begindraw"></a>  CRenderTarget::BeginDraw

在此呈现器目标上绘制的初始化。

```
void BeginDraw();
```

##  <a name="clear"></a>  CRenderTarget::Clear

清除为指定的颜色绘制区域。

```
void Clear(D2D1_COLOR_F color);
```

### <a name="parameters"></a>参数

*颜色*<br/>
向其清除绘图区域的颜色。

##  <a name="colorref_to_d2dcolor"></a>  CRenderTarget::COLORREF_TO_D2DCOLOR

将 GDI 颜色和 alpha 值转换为 D2D1_COLOR_F 对象。

```
static D2D1_COLOR_F COLORREF_TO_D2DCOLOR(
    COLORREF color,
    int nAlpha = 255);
```

### <a name="parameters"></a>参数

*颜色*<br/>
RGB 值。

*nAlpha*

### <a name="return-value"></a>返回值

D2D1_COLOR_F 值。

##  <a name="createcompatiblerendertarget"></a>  CRenderTarget::CreateCompatibleRenderTarget

在与当前的呈现器目标兼容的中间屏幕外绘制期间创建新的位图呈现器目标使用。

```
BOOL CreateCompatibleRenderTarget(
    CBitmapRenderTarget& bitmapTarget,
    CD2DSizeF sizeDesired = CD2DSizeF(0., 0.),
    CD2DSizeU sizePixelDesired = CD2DSizeU(0, 0),
    D2D1_PIXEL_FORMAT* desiredFormat = NULL,
    D2D1_COMPATIBLE_RENDER_TARGET_OPTIONS options = D2D1_COMPATIBLE_RENDER_TARGET_OPTIONS_NONE);
```

### <a name="parameters"></a>参数

*bitmapTarget*<br/>
此方法返回时，包含指向新的位图呈现器目标的指针的地址。 此参数未经初始化即被传递。

*sizeDesired*<br/>
如果应不同于原始设备无关的像素中新的呈现器目标所需的大小呈现器目标，则为 NULL。 有关详细信息，请参阅“备注”部分。

*sizePixelDesired*<br/>
以像素为单位应不同于原始如果新的呈现器目标所需的大小呈现器目标，则为 NULL。 有关详细信息，请参阅“备注”部分。

*desiredFormat*<br/>
所需的像素格式和 alpha 模式的新呈现器目标，则为 NULL。 如果像素格式设置为 DXGI_FORMAT_UNKNOWN 或此参数为 null，则新的呈现器目标使用相同的像素格式作为原始呈现器目标。 如果 alpha 模式是 D2D1_ALPHA_MODE_UNKNOWN 或此参数为 NULL，新的呈现器目标的 alpha 模式默认为 D2D1_ALPHA_MODE_PREMULTIPLIED。 有关受支持的像素格式的信息，请参阅支持的像素格式和 Alpha 模式。

*options*<br/>
一个值，指定新的呈现器目标是否必须与 GDI 兼容。

### <a name="return-value"></a>返回值

如果该方法成功，则返回 TRUE。 否则，它返回 FALSE。

##  <a name="crendertarget"></a>  CRenderTarget::CRenderTarget

构造一个 CRenderTarget 对象。

```
CRenderTarget();
```

##  <a name="destroy"></a>  CRenderTarget::Destroy

删除一个或多个资源

```
BOOL Destroy(BOOL bDeleteResources = TRUE);
```

### <a name="parameters"></a>参数

*bDeleteResources*<br/>
如果 bDeleteResources 为 TRUE，将自动销毁 m_lstResources 中的所有资源。

### <a name="return-value"></a>返回值

如果该方法成功，则返回 TRUE。 否则，它将返回 FALSE

##  <a name="detach"></a>  CRenderTarget::Detach

分离对象中的呈现器目标接口

```
ID2D1RenderTarget* Detach ();
```

### <a name="return-value"></a>返回值

指向已分离的呈现器目标接口。

##  <a name="drawbitmap"></a>  CRenderTarget::DrawBitmap

绘制由指定 IDWriteTextLayout 对象描述的格式化的文本。

```
void DrawBitmap(
    CD2DBitmap* pBitmap,
    const CD2DRectF& rectDest,
    float fOpacity = 1.0,
    D2D1_BITMAP_INTERPOLATION_MODE interpolationMode = D2D1_BITMAP_INTERPOLATION_MODE_LINEAR,
    const CD2DRectF* pRectSrc = NULL);
```

### <a name="parameters"></a>参数

*pBitmap*<br/>
要呈现的位图。

*rectDest*<br/>
大小和位置，以呈现器目标的坐标空间中，区域中绘制出位图，独立于设备的像素为单位。 如果矩形不明确的有序，不绘制任何内容，但该呈现器目标不会进入错误状态。

*fOpacity*<br/>
指定要应用于位图; 的不透明度值 0.0f 和 1.0f，非独占，之间的值此值乘以位图的内容的 alpha 值。

*interpolationMode*<br/>
如果该位图缩放或绘制操作的旋转角度，请使用内插模式。

*pRectSrc*<br/>
大小和位置，以与设备无关位图的坐标空间的位图中要绘制的区域中的像素为单位。

##  <a name="drawellipse"></a>  CRenderTarget::DrawEllipse

绘制椭圆形边框的指定使用指定的笔划样式。

```
void DrawEllipse(
    const CD2DEllipse& ellipse,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>参数

*椭圆*<br/>
位置和要绘制，以独立于设备的像素为单位的椭圆半径。

*pBrush*<br/>
用于绘制椭圆的边框的画笔。

*fStrokeWidth*<br/>
椭圆的笔划的粗细。 笔划椭圆的边框上居中显示。

*strokeStyle*<br/>
若要将应用于椭圆的边框或为 NULL 以绘制实心笔画的笔划的样式。

##  <a name="drawgeometry"></a>  CRenderTarget::DrawGeometry

绘制指定几何图形使用指定的笔划样式的边框。

```
void DrawGeometry(
    CD2DGeometry* pGeometry,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>参数

*pGeometry*<br/>
要绘制的几何图形。

*pBrush*<br/>
画笔用于绘制几何图形的笔画。

*fStrokeWidth*<br/>
几何图形的笔画的粗细。 笔划 geometry 的轮廓上居中显示。

*strokeStyle*<br/>
若要将应用于 geometry 的轮廓或为 NULL 以绘制实心笔画的笔划的样式。

##  <a name="drawglyphrun"></a>  CRenderTarget::DrawGlyphRun

绘制指定的标志符号。

```
void DrawGlyphRun(
    const CD2DPointF& ptBaseLineOrigin,
    const DWRITE_GLYPH_RUN& glyphRun,
    CD2DBrush* pForegroundBrush,
    DWRITE_MEASURING_MODE measuringMode = DWRITE_MEASURING_MODE_NATURAL);
```

### <a name="parameters"></a>参数

*ptBaseLineOrigin*<br/>
在独立于设备的像素为单位的标志符号的基线原点。

*glyphRun*<br/>
要呈现的字形。

*pForegroundBrush*<br/>
用于绘制指定的标志符号的画笔。

*measuringMode*<br/>
一个值，指示如何使用字形度量值来测量文本格式时。 默认值为 DWRITE_MEASURING_MODE_NATURAL。

##  <a name="drawline"></a>  CRenderTarget::DrawLine

使用指定的笔划样式的指定点之间绘制一条线。

```
void DrawLine(
    const CD2DPointF& ptFrom,
    const CD2DPointF& ptTo,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>参数

*ptFrom*<br/>
行，以独立于设备的像素为单位的起点。

*ptTo*<br/>
终结点的行，以独立于设备的像素为单位。

*pBrush*<br/>
用于绘制线条笔画的画笔。

*fStrokeWidth*<br/>
值大于或等于 0.0f 指定笔划的宽度。 如果未指定此参数，则默认为 1.0f。 笔划在行上居中。

*strokeStyle*<br/>
画图，或者为 NULL 以绘制一条实线笔划的样式。

##  <a name="drawrectangle"></a>  CRenderTarget::DrawRectangle

绘制具有指定的尺寸和笔划样式的矩形的边框。

```
void DrawRectangle(
    const CD2DRectF& rect,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>参数

*rect*<br/>
若要绘制，以独立于设备的像素为单位的矩形的尺寸

*pBrush*<br/>
用于绘制矩形笔画的画笔

*fStrokeWidth*<br/>
值大于或等于 0.0f 的指定矩形的笔划的宽度。 笔划的矩形轮廓上居中显示。

*strokeStyle*<br/>
画图，或者为 NULL 以绘制实心笔画的笔划的样式。

##  <a name="drawroundedrectangle"></a>  CRenderTarget::DrawRoundedRectangle

绘制指定圆角矩形使用指定的笔划样式的大纲。

```
void DrawRoundedRectangle(
    const CD2DRoundedRect& rectRounded,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>参数

*rectRounded*<br/>
要绘制，以独立于设备的像素为单位的圆角矩形的尺寸。

*pBrush*<br/>
用于绘制圆角的矩形边框的画笔。

*fStrokeWidth*<br/>
圆角的矩形描边的宽度。 笔划圆角的矩形轮廓上居中显示。 默认值为 1.0f。

*strokeStyle*<br/>
圆角的矩形笔画或为 NULL 以绘制实心笔画的样式。 默认值为 NULL。

##  <a name="drawtext"></a>  CRenderTarget::DrawText

绘制指定的文本使用 IDWriteTextFormat 对象提供的格式信息。

```
void DrawText(
    const CString& strText,
    const CD2DRectF& rect,
    CD2DBrush* pForegroundBrush,
    CD2DTextFormat* textFormat = NULL,
    D2D1_DRAW_TEXT_OPTIONS options = D2D1_DRAW_TEXT_OPTIONS_NONE,
    DWRITE_MEASURING_MODE measuringMode = DWRITE_MEASURING_MODE_NATURAL);
```

### <a name="parameters"></a>参数

*strText*<br/>
指向要绘制的 Unicode 字符数组的指针。

*rect*<br/>
大小和在其中绘制文本区域的位置。

*pForegroundBrush*<br/>
用于绘制文本的画笔。

*TextFormat*<br/>
对象用于描述要绘制的文本，如字体、 字体大小和流方向的详细信息的格式。

*options*<br/>
一个值，指示是否应该与像素边界对齐文本和文本是否应剪切到布局矩形。 默认值为 D2D1_DRAW_TEXT_OPTIONS_NONE，表示文本应对齐到像素边界，它不应剪切到布局矩形。

*measuringMode*<br/>
一个值，指示如何使用字形度量值来测量文本格式时。 默认值为 DWRITE_MEASURING_MODE_NATURAL。

##  <a name="drawtextlayout"></a>  CRenderTarget::DrawTextLayout

绘制由指定 IDWriteTextLayout 对象描述的格式化的文本。

```
void DrawTextLayout(
    const CD2DPointF& ptOrigin,
    CD2DTextLayout* textLayout,
    CD2DBrush* pBrushForeground,
    D2D1_DRAW_TEXT_OPTIONS options = D2D1_DRAW_TEXT_OPTIONS_NONE);
```

### <a name="parameters"></a>参数

*ptOrigin*<br/>
在点，以与设备无关的像素为单位，textLayout 所描述的文本的左上角绘制时所述。

*textLayout*<br/>
要绘制的带格式的文本。 不会从 ID2D1Resource 继承任何绘制效果将被忽略。 如果绘制从 ID2D1Resource 继承不是画笔效果，此方法会失败，并将该呈现器目标置于错误状态。

*pBrushForeground*<br/>
用于绘制 textLayout 还没有画笔与它关联作为绘制效果 （由 IDWriteTextLayout::SetDrawingEffect 方法指定） 中的任何文本的画笔。

*options*<br/>
一个值，指示是否应该与像素边界对齐文本和文本是否应剪切到布局矩形。 默认值为 D2D1_DRAW_TEXT_OPTIONS_NONE，表示文本应对齐到像素边界，它不应剪切到布局矩形。

##  <a name="enddraw"></a>  CRenderTarget::EndDraw

结束呈现器目标上的绘制操作并指示当前错误状态和关联的标记。

```
HRESULT EndDraw();
```

### <a name="return-value"></a>返回值

如果该方法成功，它会返回 S_OK。 否则，它返回一个 HRESULT 错误代码。

##  <a name="fillellipse"></a>  CRenderTarget::FillEllipse

绘制指定的椭圆的内部。

```
void FillEllipse(
    const CD2DEllipse& ellipse,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>参数

*椭圆*<br/>
位置和半径，以独立于设备的像素为单位，要绘制的椭圆。

*pBrush*<br/>
用于绘制椭圆形的内部的画笔。

##  <a name="fillgeometry"></a>  CRenderTarget::FillGeometry

绘制指定几何图形的内部。

```
void FillGeometry(
    CD2DGeometry* pGeometry,
    CD2DBrush* pBrush,
    CD2DBrush* pOpacityBrush = NULL);
```

### <a name="parameters"></a>参数

*pGeometry*<br/>
要绘制的几何图形。

*pBrush*<br/>
画笔用于绘制几何图形的内部。

*pOpacityBrush*<br/>
要应用于几何图形; 不透明蒙板NULL 表示没有不透明蒙板。 如果指定不透明蒙板 （opacityBrush 参数），则画笔必须具有设置为 D2D1_EXTEND_MODE_CLAMP 其 x 和 y 扩展模式 ID2D1BitmapBrush。 有关详细信息，请参阅“备注”部分。

##  <a name="fillmesh"></a>  CRenderTarget::FillMesh

绘制指定网格的内部。

```
void FillMesh(
    CD2DMesh* pMesh,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>参数

*pMesh*<br/>
要绘制的网格。

*pBrush*<br/>
用于绘制网格的画笔。

##  <a name="fillopacitymask"></a>  CRenderTarget::FillOpacityMask

适用描述指定位图为画笔的不透明蒙板，并使用该画笔绘制区域的呈现器目标。

```
void FillOpacityMask(
    CD2DBitmap* pOpacityMask,
    CD2DBrush* pBrush,
    D2D1_OPACITY_MASK_CONTENT content,
    const CD2DRectF& rectDest,
    const CD2DRectF& rectSrc);
```

### <a name="parameters"></a>参数

*pOpacityMask*<br/>
位置和半径，以独立于设备的像素为单位，要绘制的椭圆。

*pBrush*<br/>
用于绘制指定的目标呈现器目标的区域的画笔。

*content*<br/>
包含的内容不透明蒙板的类型。 该值用于确定混合了不透明蒙板的色彩空间。

*rectDest*<br/>
呈现器目标，若要绘制，以独立于设备的像素为单位的区域。

*rectSrc*<br/>
要用作不透明蒙板，以独立于设备的像素为单位的位图区域。

##  <a name="fillrectangle"></a>  CRenderTarget::FillRectangle

绘制指定矩形的内部。

```
void FillRectangle(
    const CD2DRectF& rect,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>参数

*rect*<br/>
若要绘制，以独立于设备的像素为单位的矩形的尺寸。

*pBrush*<br/>
画笔用于绘制矩形的内部。

##  <a name="fillroundedrectangle"></a>  CRenderTarget::FillRoundedRectangle

绘制指定圆角矩形内部。

```
void FillRoundedRectangle(
    const CD2DRoundedRect& rectRounded,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>参数

*rectRounded*<br/>
要绘制，以设备独立像素为单位的圆角矩形的尺寸。

*pBrush*<br/>
用于绘制圆角矩形内部的画笔。

##  <a name="flush"></a>  CRenderTarget::Flush

执行所有挂起的绘制命令。

```
void Flush(
    D2D1_TAG* tag1 = NULL,
    D2D1_TAG* tag2 = NULL);
```

### <a name="parameters"></a>参数

*标记 1*<br/>
包含绘制操作导致错误或 0，如果没有出现错误的标记。 此参数未经初始化即被传递。

*标记 2*<br/>
包含绘制操作导致错误或 0，如果没有出现错误的标记。 此参数未经初始化即被传递。

##  <a name="getantialiasmode"></a>  CRenderTarget::GetAntialiasMode

检索非文本绘图操作的当前抗锯齿模式。

```
D2D1_ANTIALIAS_MODE GetAntialiasMode() const;
```

### <a name="return-value"></a>返回值

当前绘图操作的非文本的抗锯齿模式。

##  <a name="getdpi"></a>  CRenderTarget::GetDpi

返回该呈现器目标的每英寸点数 (DPI)

```
CD2DSizeF GetDpi() const;
```

### <a name="return-value"></a>返回值

呈现器目标以每英寸点数 (DPI)。

##  <a name="getmaximumbitmapsize"></a>  CRenderTarget::GetMaximumBitmapSize

支持的呈现器目标的任意一个位图尺寸为依赖于设备的单位 （像素） 获取的最大大小

```
UINT32 GetMaximumBitmapSize() const;
```

### <a name="return-value"></a>返回值

最大大小，以像素为单位的支持的呈现器目标的任意一个位图尺寸

##  <a name="getpixelformat"></a>  CRenderTarget::GetPixelFormat

检索呈现器目标的像素格式和 alpha 模式

```
D2D1_PIXEL_FORMAT GetPixelFormat() const;
```

### <a name="return-value"></a>返回值

呈现器目标像素格式和 alpha 模式

##  <a name="getpixelsize"></a>  CRenderTarget::GetPixelSize

以设备像素为单位返回呈现器目标的大小

```
CD2DSizeU GetPixelSize() const;
```

### <a name="return-value"></a>返回值

呈现目标以设备像素为单位的大小

##  <a name="getrendertarget"></a>  CRenderTarget::GetRenderTarget

返回 ID2D1RenderTarget 接口

```
ID2D1RenderTarget* GetRenderTarget();
```

### <a name="return-value"></a>返回值

指向 ID2D1RenderTarget 接口或如果对象尚未初始化，则为 NULL 指针。

##  <a name="getsize"></a>  CRenderTarget::GetSize

以独立于设备的像素为单位返回呈现器目标的大小

```
CD2DSizeF GetSize() const;
```

### <a name="return-value"></a>返回值

以独立于设备的像素为单位的呈现器目标的当前大小

##  <a name="gettags"></a>  CRenderTarget::GetTags

获取后续的绘图操作的标签。

```
void GetTags(
    D2D1_TAG* tag1 = NULL,
    D2D1_TAG* tag2 = NULL) const;
```

### <a name="parameters"></a>参数

*标记 1*<br/>
包含用于后续的绘图操作的第一个标签。 此参数未经初始化即被传递。 如果指定 NULL，则此参数不检索任何值。

*标记 2*<br/>
包含用于后续的绘图操作的第二个标签。 此参数未经初始化即被传递。 如果指定 NULL，则此参数不检索任何值。

##  <a name="gettextantialiasmode"></a>  CRenderTarget::GetTextAntialiasMode

获取文本和字形绘制操作的当前的抗锯齿模式。

```
D2D1_TEXT_ANTIALIAS_MODE GetTextAntialiasMode() const;
```

### <a name="return-value"></a>返回值

文本和字形绘制操作的当前抗锯齿模式。

##  <a name="gettextrenderingparams"></a>  CRenderTarget::GetTextRenderingParams

检索呈现器目标的当前文本呈现选项。

```
void GetTextRenderingParams(IDWriteRenderingParams** textRenderingParams);
```

### <a name="parameters"></a>参数

*textRenderingParams*<br/>
此方法返回时，textRenderingParamscontains 到呈现器目标的指针的地址的当前文本呈现选项。

##  <a name="gettransform"></a>  CRenderTarget::GetTransform

指定的转换应用于呈现器目标，替换现有转换。 所有后续的绘图操作将在转换后的空间。

```
void GetTransform(D2D1_MATRIX_3X2_F* transform);
```

### <a name="parameters"></a>参数

*transform*<br/>
要应用到呈现目标的转换。

##  <a name="issupported"></a>  CRenderTarget::IsSupported

指示呈现器目标是否支持指定的属性

```
BOOL IsSupported(const D2D1_RENDER_TARGET_PROPERTIES& renderTargetProperties) const;
```

### <a name="parameters"></a>参数

*renderTargetProperties*<br/>
要测试的呈现器目标属性

### <a name="return-value"></a>返回值

如果指定的呈现器目标属性受此呈现器目标; 则为 TRUE否则为 FALSE

##  <a name="isvalid"></a>  CRenderTarget::IsValid

检查资源有效性

```
BOOL IsValid() const;
```

### <a name="return-value"></a>返回值

如果资源是有效，则为，TRUE否则为 FALSE。

##  <a name="m_lstresources"></a>  CRenderTarget::m_lstResources

指向 CD2DResource 对象的指针的列表。

```
CObList m_lstResources;
```

##  <a name="m_prendertarget"></a>  CRenderTarget::m_pRenderTarget

指向 ID2D1RenderTarget 对象的指针。

```
ID2D1RenderTarget* m_pRenderTarget;
```

##  <a name="m_ptextformatdefault"></a>  CRenderTarget::m_pTextFormatDefault

指向包含默认文本格式的 CD2DTextFormat 对象的指针。

```
CD2DTextFormat* m_pTextFormatDefault;
```

##  <a name="operator_id2d1rendertarget_star"></a>  CRenderTarget::operator ID2D1RenderTarget *

返回 ID2D1RenderTarget 接口

```
operator ID2D1RenderTarget*();
```

### <a name="return-value"></a>返回值

指向 ID2D1RenderTarget 接口或如果对象尚未初始化，则为 NULL 指针。

##  <a name="popaxisalignedclip"></a>  CRenderTarget::PopAxisAlignedClip

从呈现目标中删除的最后一个与坐标轴对齐的剪辑。 调用此方法后，剪辑不再应用于后续绘图操作。

```
void PopAxisAlignedClip();
```

##  <a name="poplayer"></a>  CRenderTarget::PopLayer

将绘图操作重定向到指定的最后一个 PushLayer 的层将停止调用。

```
void PopLayer();
```

##  <a name="pushaxisalignedclip"></a>  CRenderTarget::PushAxisAlignedClip

从呈现目标中删除的最后一个与坐标轴对齐的剪辑。 调用此方法后，剪辑不再应用于后续绘图操作。

```
void PushAxisAlignedClip(
    const CD2DRectF& rectClip,
    D2D1_ANTIALIAS_MODE mode = D2D1_ANTIALIAS_MODE_PER_PRIMITIVE);
```

### <a name="parameters"></a>参数

*rectClip*<br/>
大小和位置的剪辑区域，以独立于设备的像素为单位。

*模式*<br/>
用于绘制具有子像素边界的剪辑矩形的边缘并进行混合场景内容剪辑抗锯齿模式。 当调用时，并不适用于在层中每个基元 PopAxisAlignedClip 方法后，执行的混合。

##  <a name="pushlayer"></a>  CRenderTarget::PushLayer

将指定的层添加到呈现目标，以便它接收所有后续的绘图操作，直到 poplayer。

```
void PushLayer(
    const D2D1_LAYER_PARAMETERS& layerParameters,
    CD2DLayer& layer);
```

### <a name="parameters"></a>参数

*layerParameters*<br/>
的内容边界、 几何掩模、 不透明度、 不透明蒙板和层的抗锯齿选项。

*层*<br/>
接收后续的绘图操作层。

##  <a name="restoredrawingstate"></a>  CRenderTarget::RestoreDrawingState

呈现器目标的绘制状态设置为指定 ID2D1DrawingStateBlock 的。

```
void RestoreDrawingState(ID2D1DrawingStateBlock& drawingStateBlock);
```

### <a name="parameters"></a>参数

*drawingStateBlock*<br/>
呈现器目标的新绘图的状态。

##  <a name="savedrawingstate"></a>  CRenderTarget::SaveDrawingState

将当前绘图状态保存到指定 ID2D1DrawingStateBlock。

```
void SaveDrawingState(ID2D1DrawingStateBlock& drawingStateBlock) const;
```

### <a name="parameters"></a>参数

*drawingStateBlock*<br/>
此方法返回时，包含该呈现器目标的当前绘图状态。 传递给该方法之前，必须先初始化此参数。

##  <a name="setantialiasmode"></a>  CRenderTarget::SetAntialiasMode

设置呈现器目标的抗锯齿模式。 抗锯齿模式适用于所有后续的绘图操作，不包括文本和绘制操作的标志符号。

```
void SetAntialiasMode(D2D1_ANTIALIAS_MODE antialiasMode);
```

### <a name="parameters"></a>参数

*antialiasMode*<br/>
将来的绘图操作抗锯齿模式。

##  <a name="setdpi"></a>  CRenderTarget::SetDpi

设置每英寸点数 (DPI) 的呈现器目标。

```
void SetDpi(const CD2DSizeF& sizeDPI);
```

### <a name="parameters"></a>参数

*sizeDPI*<br/>
大于或等于零的值指定呈现器目标水平/垂直 Dpi。

##  <a name="settags"></a>  CRenderTarget::SetTags

指定用于后续的绘图操作的标签。

```
void SetTags(
    D2D1_TAG tag1,
    D2D1_TAG tag2);
```

### <a name="parameters"></a>参数

*标记 1*<br/>
标签以应用于后续绘图操作。

*标记 2*<br/>
标签以应用于后续绘图操作。

##  <a name="settextantialiasmode"></a>  CRenderTarget::SetTextAntialiasMode

指定要用于后续文本和字形绘制操作的抗锯齿模式。

```
void SetTextAntialiasMode(D2D1_TEXT_ANTIALIAS_MODE textAntialiasMode);
```

### <a name="parameters"></a>参数

*textAntialiasMode*<br/>
要用于后续文本和字形绘制操作的抗锯齿模式。

##  <a name="settextrenderingparams"></a>  CRenderTarget::SetTextRenderingParams

指定要应用于所有后续文本和绘制操作的标志符号的文本呈现选项。

```
void SetTextRenderingParams(IDWriteRenderingParams* textRenderingParams = NULL);
```

### <a name="parameters"></a>参数

*textRenderingParams*<br/>
文本呈现选项应用于所有后续文本和字形绘图操作;为 NULL 以清除当前文本呈现选项。

##  <a name="settransform"></a>  CRenderTarget::SetTransform

指定的转换应用于呈现器目标，替换现有转换。 所有后续的绘图操作将在转换后的空间。

```
void SetTransform(const D2D1_MATRIX_3X2_F* transform);
void SetTransform(const D2D1_MATRIX_3X2_F& transform);
```

### <a name="parameters"></a>参数

*transform*<br/>
要应用到呈现目标的转换。

##  <a name="verifyresource"></a>  CRenderTarget::VerifyResource

验证 CD2DResource 对象有效性;如果该表尚不存在，则创建的对象。

```
BOOL VerifyResource(CD2DResource* pResource);
```

### <a name="parameters"></a>参数

*pResource*<br/>
指向 CD2DResource 对象指针。

### <a name="return-value"></a>返回值

是对象，如果有效，则为 TRUE否则为 FALSE。

## <a name="see-also"></a>请参阅

[类](../../mfc/reference/mfc-classes.md)
