---
title: "CMFCToolBarButton 类 |Microsoft 文档"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- cpp-windows
ms.tgt_pltfrm: 
ms.topic: reference
f1_keywords:
- CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeDropped
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStored
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStretched
- AFXTOOLBARBUTTON/CMFCToolBarButton::CompareWith
- AFXTOOLBARBUTTON/CMFCToolBarButton::CopyFrom
- AFXTOOLBARBUTTON/CMFCToolBarButton::CreateFromOleData
- AFXTOOLBARBUTTON/CMFCToolBarButton::EnableWindow
- AFXTOOLBARBUTTON/CMFCToolBarButton::ExportToMenuButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetClipboardFormat
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetHwnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetInvalidateRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetTextSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::HasFocus
- AFXTOOLBARBUTTON/CMFCToolBarButton::HaveHotBorder
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawText
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDroppedDown
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsEditable
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsExtraSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsFirstInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHidden
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHorizontal
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLastInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLocked
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsOwnerOf
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsWindowVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::NotifyCommand
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnAddToCustomizePage
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrop
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCalculateSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCancelMode
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnChangeParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClick
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClickUp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnContextHelp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCtlColor
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCustomizeMenu
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDblClk
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDraw
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDrawOnCustomizeList
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGetCustomToolTipText
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGlobalFontsChanged
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnMove
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnShow
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnToolHitTest
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnUpdateToolTip
- AFXTOOLBARBUTTON/CMFCToolBarButton::PrepareDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::Rect
- AFXTOOLBARBUTTON/CMFCToolBarButton::ResetImageToDefault
- AFXTOOLBARBUTTON/CMFCToolBarButton::SaveBarState
- AFXTOOLBARBUTTON/CMFCToolBarButton::Serialize
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetACCData
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetClipboardFormatName
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRadio
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::Show
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bTextBelow
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bUserButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWholeText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrap
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrapText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nID
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_strText
dev_langs:
- C++
helpviewer_keywords:
- CMFCToolBarButton [MFC], CMFCToolBarButton
- CMFCToolBarButton [MFC], CanBeDropped
- CMFCToolBarButton [MFC], CanBeStored
- CMFCToolBarButton [MFC], CanBeStretched
- CMFCToolBarButton [MFC], CompareWith
- CMFCToolBarButton [MFC], CopyFrom
- CMFCToolBarButton [MFC], CreateFromOleData
- CMFCToolBarButton [MFC], EnableWindow
- CMFCToolBarButton [MFC], ExportToMenuButton
- CMFCToolBarButton [MFC], GetClipboardFormat
- CMFCToolBarButton [MFC], GetHwnd
- CMFCToolBarButton [MFC], GetImage
- CMFCToolBarButton [MFC], GetInvalidateRect
- CMFCToolBarButton [MFC], GetParentWnd
- CMFCToolBarButton [MFC], GetProtectedCommands
- CMFCToolBarButton [MFC], GetTextSize
- CMFCToolBarButton [MFC], HasFocus
- CMFCToolBarButton [MFC], HaveHotBorder
- CMFCToolBarButton [MFC], IsDrawImage
- CMFCToolBarButton [MFC], IsDrawText
- CMFCToolBarButton [MFC], IsDroppedDown
- CMFCToolBarButton [MFC], IsEditable
- CMFCToolBarButton [MFC], IsExtraSize
- CMFCToolBarButton [MFC], IsFirstInGroup
- CMFCToolBarButton [MFC], IsHidden
- CMFCToolBarButton [MFC], IsHorizontal
- CMFCToolBarButton [MFC], IsLastInGroup
- CMFCToolBarButton [MFC], IsLocked
- CMFCToolBarButton [MFC], IsOwnerOf
- CMFCToolBarButton [MFC], IsVisible
- CMFCToolBarButton [MFC], IsWindowVisible
- CMFCToolBarButton [MFC], NotifyCommand
- CMFCToolBarButton [MFC], OnAddToCustomizePage
- CMFCToolBarButton [MFC], OnBeforeDrag
- CMFCToolBarButton [MFC], OnBeforeDrop
- CMFCToolBarButton [MFC], OnCalculateSize
- CMFCToolBarButton [MFC], OnCancelMode
- CMFCToolBarButton [MFC], OnChangeParentWnd
- CMFCToolBarButton [MFC], OnClick
- CMFCToolBarButton [MFC], OnClickUp
- CMFCToolBarButton [MFC], OnContextHelp
- CMFCToolBarButton [MFC], OnCtlColor
- CMFCToolBarButton [MFC], OnCustomizeMenu
- CMFCToolBarButton [MFC], OnDblClk
- CMFCToolBarButton [MFC], OnDraw
- CMFCToolBarButton [MFC], OnDrawOnCustomizeList
- CMFCToolBarButton [MFC], OnGetCustomToolTipText
- CMFCToolBarButton [MFC], OnGlobalFontsChanged
- CMFCToolBarButton [MFC], OnMove
- CMFCToolBarButton [MFC], OnShow
- CMFCToolBarButton [MFC], OnSize
- CMFCToolBarButton [MFC], OnToolHitTest
- CMFCToolBarButton [MFC], OnUpdateToolTip
- CMFCToolBarButton [MFC], PrepareDrag
- CMFCToolBarButton [MFC], Rect
- CMFCToolBarButton [MFC], ResetImageToDefault
- CMFCToolBarButton [MFC], SaveBarState
- CMFCToolBarButton [MFC], Serialize
- CMFCToolBarButton [MFC], SetACCData
- CMFCToolBarButton [MFC], SetClipboardFormatName
- CMFCToolBarButton [MFC], SetImage
- CMFCToolBarButton [MFC], SetProtectedCommands
- CMFCToolBarButton [MFC], SetRadio
- CMFCToolBarButton [MFC], SetRect
- CMFCToolBarButton [MFC], SetStyle
- CMFCToolBarButton [MFC], SetVisible
- CMFCToolBarButton [MFC], Show
- CMFCToolBarButton [MFC], m_bImage
- CMFCToolBarButton [MFC], m_bText
- CMFCToolBarButton [MFC], m_bTextBelow
- CMFCToolBarButton [MFC], m_bUserButton
- CMFCToolBarButton [MFC], m_bWholeText
- CMFCToolBarButton [MFC], m_bWrap
- CMFCToolBarButton [MFC], m_bWrapText
- CMFCToolBarButton [MFC], m_nID
- CMFCToolBarButton [MFC], m_nStyle
- CMFCToolBarButton [MFC], m_strText
ms.assetid: 8a6ecffb-86b0-4f5c-8211-a9146b463efd
caps.latest.revision: 
author: mikeblome
ms.author: mblome
manager: ghogen
ms.workload:
- cplusplus
ms.openlocfilehash: 3aaf355d15679bdb30b7561fe28dd6f927688ede
ms.sourcegitcommit: 8fa8fdf0fbb4f57950f1e8f4f9b81b4d39ec7d7a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/21/2017
---
# <a name="cmfctoolbarbutton-class"></a>CMFCToolBarButton 类
提供为工具栏按钮功能。  
  
## <a name="syntax"></a>语法  
  
```  
class CMFCToolBarButton : public CObject  
```  
  
## <a name="members"></a>成员  
  
### <a name="public-constructors"></a>公共构造函数  
  
|名称|描述|  
|----------|-----------------|  
|[CMFCToolBarButton::CMFCToolBarButton](#cmfctoolbarbutton)|构造并初始化一个 `CMFCToolBarButton` 对象。|  
|`CMFCToolBarButton::~CMFCToolBarButton`|析构函数。|  
  
### <a name="public-methods"></a>公共方法  
  
|名称|描述|  
|----------|-----------------|  
|[CMFCToolBarButton::CanBeDropped](#canbedropped)|指定用户是否可以放置的自定义工具栏或菜单上的按钮。|  
|[CMFCToolBarButton::CanBeStored](#canbestored)|指定是否可以存储按钮。|  
|[CMFCToolBarButton::CanBeStretched](#canbestretched)|指定用户是否可以拉伸中的自定义的按钮。|  
|[CMFCToolBarButton::CompareWith](#comparewith)|将使用提供的此实例进行比较`CMFCToolBarButton`对象。|  
|[CMFCToolBarButton::CopyFrom](#copyfrom)|将另一个工具栏按钮的属性复制到当前的按钮。|  
|[CMFCToolBarButton::CreateFromOleData](#createfromoledata)|创建`CMFCToolBarButton`从所提供的对象`COleDataObject`对象。|  
|`CMFCToolBarButton::CreateObject`|由框架用于创建此类类型的动态实例。|  
|[CMFCToolBarButton::EnableWindow](#enablewindow)|启用或禁用鼠标和键盘输入。|  
|[CMFCToolBarButton::ExportToMenuButton](#exporttomenubutton)|副本从工具栏按钮的文本复制到的菜单。|  
|[CMFCToolBarButton::GetClipboardFormat](#getclipboardformat)|检索应用程序的全局剪贴板格式。|  
|[CMFCToolBarButton::GetHwnd](#gethwnd)|检索与工具栏按钮相关联的窗口句柄。|  
|[CMFCToolBarButton::GetImage](#getimage)|检索按钮的图像索引。|  
|[CMFCToolBarButton::GetInvalidateRect](#getinvalidaterect)|检索必须重绘的按钮的客户端区域的区域。|  
|[CMFCToolBarButton::GetParentWnd](#getparentwnd)|检索按钮的父窗口。|  
|[CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands)|检索的用户不能自定义的命令的列表。|  
|[CMFCToolBarButton::GetTextSize](#gettextsize)|检索按钮文本的大小。|  
|[CMFCToolBarButton::HasFocus](#hasfocus)|确定按钮是否具有当前输入的焦点。|  
|[CMFCToolBarButton::HaveHotBorder](#havehotborder)|确定当用户选择按钮是否显示按钮的边框。|  
|[CMFCToolBarButton::IsDrawImage](#isdrawimage)|确定是否在按钮上显示图像。|  
|[CMFCToolBarButton::IsDrawText](#isdrawtext)|确定是否在按钮上显示的文本标签。|  
|[CMFCToolBarButton::IsDroppedDown](#isdroppeddown)|确定按钮是否显示子菜单。|  
|[CMFCToolBarButton::IsEditable](#iseditable)|确定是否可以自定义按钮。|  
|[CMFCToolBarButton::IsExtraSize](#isextrasize)|确定是否可以使用扩展边框显示按钮。|  
|[CMFCToolBarButton::IsFirstInGroup](#isfirstingroup)|确定按钮是否在其按钮组中的第一个位置。|  
|[CMFCToolBarButton::IsHidden](#ishidden)|确定是否隐藏按钮。|  
|[CMFCToolBarButton::IsHorizontal](#ishorizontal)|确定是否按钮位于水平工具栏。|  
|[CMFCToolBarButton::IsLastInGroup](#islastingroup)|指定按钮是否处于其按钮组中的最后一个位置。|  
|[CMFCToolBarButton::IsLocked](#islocked)|确定是否已启用锁定的 （非可自定义） 工具栏的按钮。|  
|[CMFCToolBarButton::IsOwnerOf](#isownerof)|确定按钮是否提供的窗口句柄的所有者。|  
|[CMFCToolBarButton::IsVisible](#isvisible)|确定工具栏按钮是否可见。|  
|[CMFCToolBarButton::IsWindowVisible](#iswindowvisible)|确定按钮的基础窗口句柄是否可见。|  
|[CMFCToolBarButton::NotifyCommand](#notifycommand)|指定是否处理按钮[WM_COMMAND](http://msdn.microsoft.com/library/windows/desktop/ms647591)消息。|  
|[CMFCToolBarButton::OnAddToCustomizePage](#onaddtocustomizepage)|由框架调用时该按钮添加到**自定义**对话框。|  
|[CMFCToolBarButton::OnBeforeDrag](#onbeforedrag)|指定是否可拖动按钮。|  
|[CMFCToolBarButton::OnBeforeDrop](#onbeforedrop)|指定用户是否可以删除拖到目标工具栏上的按钮。|  
|[CMFCToolBarButton::OnCalculateSize](#oncalculatesize)|由框架调用以计算指定的设备上下文和停靠状态的按钮的大小。|  
|[CMFCToolBarButton::OnCancelMode](#oncancelmode)|由框架来处理调用[WM_CANCELMODE](http://msdn.microsoft.com/library/windows/desktop/ms632615)消息。|  
|[CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd)|按钮插入到一个新工具栏时，由框架调用。|  
|[CMFCToolBarButton::OnClick](#onclick)|当用户单击鼠标按钮时，由框架调用。|  
|[CMFCToolBarButton::OnClickUp](#onclickup)|当用户释放鼠标按钮时，由框架调用。|  
|[CMFCToolBarButton::OnContextHelp](#oncontexthelp)|当在父级工具栏处理时由框架调用`WM_HELPHITTEST`消息。|  
|[CMFCToolBarButton::OnCtlColor](#onctlcolor)|当在父级工具栏处理时由框架调用`WM_CTLCOLOR`消息。|  
|[CMFCToolBarButton::OnCustomizeMenu](#oncustomizemenu)|允许修改提供的菜单时应用程序将显示快捷菜单，父工具栏上的按钮。|  
|[CMFCToolBarButton::OnDblClk](#ondblclk)|当在父级工具栏处理时由框架调用[WM_LBUTTONDBLCLK](http://msdn.microsoft.com/library/windows/desktop/ms645606)消息。|  
|[CMFCToolBarButton::OnDraw](#ondraw)|由框架调用以绘制按钮通过使用指定的样式和选项。|  
|[CMFCToolBarButton::OnDrawOnCustomizeList](#ondrawoncustomizelist)|由框架绘制按钮调用**命令**窗格**自定义**对话框。|  
|[CMFCToolBarButton::OnGetCustomToolTipText](#ongetcustomtooltiptext)|由框架调用以检索该按钮的自定义工具提示文本。|  
|[CMFCToolBarButton::OnGlobalFontsChanged](#onglobalfontschanged)|当全局字体发生更改时由框架调用。|  
|[CMFCToolBarButton::OnMove](#onmove)|当在父级工具栏移动时，由框架调用。|  
|[CMFCToolBarButton::OnShow](#onshow)|由框架调用时该按钮即变为可见或不可见。|  
|[CMFCToolBarButton::OnSize](#onsize)|在父级工具栏更改其大小或位置并且此更改需要更改大小的按钮时，由框架调用。|  
|[CMFCToolBarButton::OnToolHitTest](#ontoolhittest)|当在父级工具栏必须确定点是否在按钮的边框时由框架调用。|  
|[CMFCToolBarButton::OnUpdateToolTip](#onupdatetooltip)|当在父级工具栏更新其工具提示文本时，由框架调用。|  
|[CMFCToolBarButton::PrepareDrag](#preparedrag)|将要执行拖放操作的按钮时，由框架调用。|  
|[CMFCToolBarButton::Rect](#rect)|检索按钮的边框。|  
|[CMFCToolBarButton::ResetImageToDefault](#resetimagetodefault)|将设置为默认值与按钮相关联的映像。|  
|[CMFCToolBarButton::SaveBarState](#savebarstate)|保存的工具栏按钮的状态。|  
|[CMFCToolBarButton::Serialize](#serialize)|从存档读取该对象或将其写入存档。 （重写 [CObject::Serialize](../../mfc/reference/cobject-class.md#serialize)。）|  
|[CMFCToolBarButton::SetACCData](#setaccdata)|填充所提供`CAccessibilityData`与从工具栏按钮的可访问性数据的对象。|  
|[CMFCToolBarButton::SetClipboardFormatName](#setclipboardformatname)|重命名全局剪贴板格式。|  
|[CMFCToolBarButton::SetImage](#setimage)|设置按钮的图像索引。|  
|[CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands)|设置的用户不能自定义的命令的列表。|  
|[CMFCToolBarButton::SetRadio](#setradio)|按钮更改其选中的状态时，由框架调用。|  
|[CMFCToolBarButton::SetRect](#setrect)|设置按钮的边框。|  
|[CMFCToolBarButton::SetStyle](#setstyle)|设置按钮样式。|  
|[CMFCToolBarButton::SetVisible](#setvisible)|指定按钮是否可见。|  
|[CMFCToolBarButton::Show](#show)|显示或隐藏按钮。|  
  
### <a name="data-members"></a>数据成员  
  
|name|描述|  
|----------|-----------------|  
|[CMFCToolBarButton::m_bImage](#m_bimage)|指定是否在按钮上显示图像。|  
|[CMFCToolBarButton::m_bText](#m_btext)|指定是否在按钮上显示的文本标签。|  
|[CMFCToolBarButton::m_bTextBelow](#m_btextbelow)|指定是否下方的按钮上的映像显示的文本标签。|  
|[CMFCToolBarButton::m_bUserButton](#m_buserbutton)|指定按钮是否具有用户定义的映像。|  
|[CMFCToolBarButton::m_bWholeText](#m_bwholetext)|指定按钮是否显示其完整文本标签，即使它不符合的边框。|  
|[CMFCToolBarButton::m_bWrap](#m_bwrap)|指定分隔符旁边的按钮是否将在下一行上。|  
|[CMFCToolBarButton::m_bWrapText](#m_bwraptext)|指定是否启用多行文本标签。|  
|[CMFCToolBarButton::m_nID](#m_nid)|按钮的命令 ID。|  
|[CMFCToolBarButton::m_nStyle](#m_nstyle)|按钮样式。|  
|[CMFCToolBarButton::m_strText](#m_strtext)|按钮文本标签。|  
  
## <a name="remarks"></a>备注  
 A`CMFCToolbarButton`对象是驻留在工具栏的控件。 其行为类似于普通按钮。 你可以将图像和文本标签分配给此对象。 工具栏按钮还可以命令 id。 当用户单击工具栏按钮时，框架所执行的命令，此 ID 指定命令。  
  
 通常情况下，可以自定义工具栏按钮： 用户可以将从一个工具栏按钮拖动到另一个字符串，并将复制、 粘贴、 删除和编辑文本标签和映像。 若要防止用户自定义工具栏，可以在两种方式之一锁定工具栏。 设置`bLocked`标志切换为`TRUE`当调用[CMFCToolBar::LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar)，或通过将各个按钮的命令 ID 添加到的受保护的命令的全局列表[CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands)方法。  
  
 `CMFCToolBarButton`对象在应用程序中显示的工具栏图像的全局集合中的映像。 在父级工具栏中，由维护这些集合[CMFCToolBar 类](../../mfc/reference/cmfctoolbar-class.md)。 有关详细信息，请参阅[CMFCToolBarImages 类](../../mfc/reference/cmfctoolbarimages-class.md)。  
  
 当用户单击工具栏按钮时，其在父级工具栏处理鼠标消息并通信按钮到相应的操作。 在父级工具栏按钮有一个有效的命令 ID，如果发送`WM_COMMAND`的父框架的消息。  
  
 `CMFCToolBarButton`类是基其他工具栏按钮类，如[CMFCToolBarMenuButton 类](../../mfc/reference/cmfctoolbarmenubutton-class.md)， [CMFCToolBarEditBoxButton 类](../../mfc/reference/cmfctoolbareditboxbutton-class.md)，和[CMFCToolBarComboBoxButton 类](../../mfc/reference/cmfctoolbarcomboboxbutton-class.md)。  
  
## <a name="example"></a>示例  
 下面的示例演示如何配置`CMFCToolBarButton`通过使用中的各种方法的对象`CMFCToolBarButton`类。 该示例说明如何启用鼠标和键盘输入，设置按钮的图像索引，设置的边框的按钮，以及使按钮可见。 此代码片段属于[选项卡控件示例](../../visual-cpp-samples.md)。  
  
 [!code-cpp[NVC_MFC_TabControl#1](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_1.cpp)]  
[!code-cpp[NVC_MFC_TabControl#2](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_2.cpp)]  
  
## <a name="inheritance-hierarchy"></a>继承层次结构  
 [CObject](../../mfc/reference/cobject-class.md)  
  
 [CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)  
  
## <a name="requirements"></a>惠?  
 **标头：** afxtoolbarbutton.h  
  
##  <a name="canbedropped"></a>CMFCToolBarButton::CanBeDropped  
 指定用户是否可以放置的自定义工具栏或菜单上的按钮。  
  
```  
virtual BOOL CanBeDropped(CMFCToolBar* pToolbar);
```  
  
### <a name="parameters"></a>参数  
 [in] `pToolbar`  
 未使用。  
  
### <a name="return-value"></a>返回值  
 此方法返回 `TRUE`。  
  
### <a name="remarks"></a>备注  
 默认情况下，工具栏按钮可以删除的每个可自定义 （即未锁定） 工具栏。  
  
 此方法的默认实现返回`TRUE`。 重写此方法并返回`FALSE`如果你想要阻止用户重新定位按钮。  
  
##  <a name="canbestored"></a>CMFCToolBarButton::CanBeStored  
 确定是否可以存储按钮。  
  
```  
virtual BOOL CanBeStored() const;  
```  
  
### <a name="return-value"></a>返回值  
 此方法返回 `TRUE`。  
  
### <a name="remarks"></a>备注  
 框架使用此方法来确定按钮可以参与拖放操作。  
  
 默认实现返回 `TRUE`。 如果你的按钮不能存储作为拖放操作的一部分，重写此方法。 有关拖放操作的详细信息，请参阅[拖放 (OLE)](../../mfc/drag-and-drop-ole.md)。  
  
##  <a name="canbestretched"></a>CMFCToolBarButton::CanBeStretched  
 指定用户是否可以拉伸中的自定义的按钮。  
  
```  
virtual BOOL CanBeStretched() const;  
```  
  
### <a name="return-value"></a>返回值  
 此方法返回 `FALSE`。  
  
### <a name="remarks"></a>备注  
 此方法由框架用于确定是否可以在自定义模式拉伸按钮。  
  
 此方法的默认实现返回`FALSE`。 重写此方法以返回`TRUE`如组合框或滑块的宽度可变的控件。  
  
 有关自定义模式的详细信息，请参阅[CMFCToolBar::SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode)。  
  
##  <a name="cmfctoolbarbutton"></a>CMFCToolBarButton::CMFCToolBarButton  
 构造并初始化一个 `CMFCToolBarButton` 对象。  
  
```  
CMFCToolBarButton(
    UINT uiID,  
    int iImage,  
    LPCTSTR lpszText=NULL,  
    BOOL bUserButton=FALSE,  
    BOOL bLocked=FALSE);
```  
  
### <a name="parameters"></a>参数  
 [in] `uiID`  
 按钮的命令 ID。  
  
 [in] `iImage`  
 图像集合中的按钮图像索引。  
  
 [in] `lpszText`  
 按钮文本标签。 可以是`NULL`。  
  
 [in] `bUserButton`  
 一个布尔值，确定是否按钮是用户定义。 如果此参数为`TRUE`，按钮是用户定义。 否则，从资源加载按钮图像。  
  
 [in] `bLocked`  
 一个布尔值，确定是否可以自定义按钮。 如果此参数为`TRUE`，不能自定义按钮。 否则，可以自定义按钮。  
  
##  <a name="comparewith"></a>CMFCToolBarButton::CompareWith  
 将使用提供的此实例进行比较`CMFCToolBarButton`对象。  
  
```  
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;  
```  
  
### <a name="parameters"></a>参数  
 [in] `other`  
 对要与此实例进行比较的对象的引用。  
  
### <a name="return-value"></a>返回值  
 如果所提供的对象等于此实例; 的值则为非 0否则为为 0。  
  
### <a name="remarks"></a>备注  
 默认实现确定的命令 ID 的所提供的对象是否等于此实例的命令 ID。 重写此方法，如果必须执行额外的处理，以确定是否两个`CMFCToolBarButton`对象是否相等。  
  
##  <a name="copyfrom"></a>CMFCToolBarButton::CopyFrom  
 将另一个工具栏按钮的属性复制到当前的按钮。  
  
```  
virtual void CopyFrom(const CMFCToolBarButton& src);
```  
  
### <a name="parameters"></a>参数  
 [in] `src`  
 源按钮对要从其中复制的引用。  
  
### <a name="remarks"></a>备注  
 调用此方法以将另一个工具栏按钮复制到此工具栏按钮。  
  
##  <a name="createfromoledata"></a>CMFCToolBarButton::CreateFromOleData  
 创建`CMFCToolBarButton`从所提供的对象`COleDataObject`对象。  
  
```  
static CMFCToolBarButton* __stdcall CreateFromOleData(COleDataObject* pDataObject);
```  
  
### <a name="parameters"></a>参数  
 [in] `pDataObject`  
 源 OLE 数据对象。  
  
### <a name="return-value"></a>返回值  
 创建的 `CMFCToolBarButton` 对象。  
  
### <a name="remarks"></a>备注  
 此方法由框架用于执行各种格式的数据传输。 例如，`CMFCOutlookBarPane::OnDragOver`方法使用此方法来执行拖放操作。  
  
##  <a name="enablewindow"></a>CMFCToolBarButton::EnableWindow  
 启用或禁用鼠标和键盘输入。  
  
```  
virtual void EnableWindow(BOOL bEnable = TRUE);
```  
  
### <a name="parameters"></a>参数  
 [in] `bEnable`  
 将此参数设置为`TRUE`以便输入，或者提供至`FALSE`禁用输入。  
  
### <a name="remarks"></a>备注  
 此方法调用`EnableWindow`函数以启用或禁用输入。 有关详细信息，请参阅[EnableWindow](http://msdn.microsoft.com/library/windows/desktop/ms646291) Windows SDK 中。  
  
##  <a name="exporttomenubutton"></a>CMFCToolBarButton::ExportToMenuButton  
 副本从工具栏按钮的文本复制到的菜单。  
  
```  
virtual BOOL ExportToMenuButton(CMFCToolBarMenuButton& menuButton) const;  
```  
  
### <a name="parameters"></a>参数  
 [in] `menuButton`  
 对目标菜单按钮的引用。  
  
### <a name="return-value"></a>返回值  
 此方法返回 `TRUE`。  
  
### <a name="remarks"></a>备注  
 框架调用此方法将从工具栏按钮的文本复制到菜单按钮。 默认实现将复制按钮的文本标签。 是否为空的文本标签，则此方法将复制按钮的工具提示文本。  
  
 此方法的默认实现返回`TRUE`。 重写此方法，如果你想要执行额外的操作时的框架会将一个对象，派生自[CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md)到菜单按钮。  
  
##  <a name="getclipboardformat"></a>CMFCToolBarButton::GetClipboardFormat  
 检索应用程序的全局剪贴板格式。  
  
```  
static CLIPFORMAT __stdcall GetClipboardFormat();
```  
  
### <a name="return-value"></a>返回值  
 全局`CLIPFORMAT`应用程序的值。  
  
### <a name="remarks"></a>备注  
 框架调用此方法来检索 OLE 数据传输操作的剪贴板格式。 例如， [CMFCToolBarButton::CreateFromOleData](#createfromoledata)方法使用此方法将数据复制源 OLE 数据对象中。  
  
 此方法设置全局`CLIPFORMAT`值在首次调用此方法。 所有后续调用此方法返回此值。  
  
 若要允许拖放操作的应用程序之间出现，请调用[CMFCToolBarButton::SetClipboardFormatName](#setclipboardformatname)方法。  
  
 有关在 MFC 中的剪贴板的详细信息，请参阅[剪贴板](../../mfc/clipboard.md)。  
  
##  <a name="gethwnd"></a>CMFCToolBarButton::GetHwnd  
 检索与工具栏按钮相关联的窗口句柄。  
  
```  
virtual HWND GetHwnd();
```  
  
### <a name="return-value"></a>返回值  
 与工具栏按钮相关联的窗口句柄或`NULL`工具栏按钮是否没有关联的窗口句柄。  
  
### <a name="remarks"></a>备注  
 此方法的默认实现返回`NULL`。 重写此方法以返回特定控件的窗口句柄。  
  
##  <a name="getimage"></a>CMFCToolBarButton::GetImage  
 检索按钮的图像索引。  
  
```  
int GetImage() const;  
```  
  
### <a name="return-value"></a>返回值  
 与此按钮关联的图像的索引。  
  
### <a name="remarks"></a>备注  
 如果该按钮具有用户定义的映像 (即，如果`bUserButton`已`TRUE`构造函数中)，返回的索引的用户定义的图像集合中指定的图像 (请参阅[CMFCToolBar::GetUserImages](../../mfc/reference/cmfctoolbar-class.md#getuserimages))。 否则，索引从资源文件加载的图像集合中指定的图像 (请参阅[CMFCToolBar::GetImages](../../mfc/reference/cmfctoolbar-class.md#getimages))。 关于资源文件的详细信息，请参阅[使用资源文件](../../windows/working-with-resource-files.md)。  
  
##  <a name="getinvalidaterect"></a>CMFCToolBarButton::GetInvalidateRect  
 检索必须重绘的按钮的客户端区域的区域。  
  
```  
virtual const CRect GetInvalidateRect() const;  
```  
  
### <a name="return-value"></a>返回值  
 A`CRect`对象，它指定必须重绘的区域。  
  
### <a name="remarks"></a>备注  
 此方法的默认实现返回整个工作区。 如果你想要重新绘制的另一区域，重写此方法。  
  
##  <a name="getparentwnd"></a>CMFCToolBarButton::GetParentWnd  
 检索按钮的父窗口。  
  
```  
CWnd* GetParentWnd() const;  
```  
  
### <a name="return-value"></a>返回值  
 按钮的父窗口。  
  
##  <a name="getprotectedcommands"></a>CMFCToolBarButton::GetProtectedCommands  
 检索的用户不能自定义的命令的列表。  
  
```  
static const CList<UINT,UINT>& GetProtectedCommands();
```  
  
### <a name="return-value"></a>返回值  
 受保护的命令的列表。  
  
### <a name="remarks"></a>备注  
 在自定义模式下，框架禁用受保护的工具栏按钮命令。 用户不能执行拖放和编辑禁用的工具栏按钮上的操作。  
  
 使用[CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands)方法来定义列表中的受保护的命令。  
  
##  <a name="gettextsize"></a>CMFCToolBarButton::GetTextSize  
 检索按钮文本的大小。  
  
```  
SIZE GetTextSize() const;  
```  
  
### <a name="return-value"></a>返回值  
 A`SIZE`对象，其中包含的大小，以像素为单位，按钮文本。  
  
##  <a name="hasfocus"></a>CMFCToolBarButton::HasFocus  
 确定按钮是否具有当前输入的焦点。  
  
```  
virtual BOOL HasFocus() const;  
```  
  
### <a name="return-value"></a>返回值  
 如果该按钮具有输入的焦点，则为非零否则为 0。  
  
### <a name="remarks"></a>备注  
 如果具有输入的焦点的按钮，或是具有输入的焦点的窗口的子节点或子代窗口，此方法的默认实现返回非零值。 你可以重写此函数可自定义此行为。  
  
##  <a name="havehotborder"></a>CMFCToolBarButton::HaveHotBorder  
 确定当用户选择按钮是否显示按钮的边框。  
  
```  
virtual BOOL HaveHotBorder() const;  
```  
  
### <a name="return-value"></a>返回值  
 此方法返回 `TRUE`。  
  
### <a name="remarks"></a>备注  
 框架调用此方法以确定用户选择它时，工具栏按钮是否应显示其边框。  
  
 默认实现返回 `TRUE`。 你可以重写此方法以自定义此行为。  
  
##  <a name="isdrawimage"></a>CMFCToolBarButton::IsDrawImage  
 确定是否在按钮上显示图像。  
  
```  
BOOL IsDrawImage() const;  
```  
  
### <a name="return-value"></a>返回值  
 如果图像显示在按钮; 则为非 0否则为 0。  
  
### <a name="remarks"></a>备注  
 此方法返回`FALSE`工具栏按钮是否没有关联的图像 ( [CMFCToolBarButton::GetImage](#getimage)返回-1) 或如果[CMFCToolBarButton::m_bImage](#m_bimage)设置为`FALSE`。  
  
##  <a name="isdrawtext"></a>CMFCToolBarButton::IsDrawText  
 确定是否在按钮上显示的文本标签。  
  
```  
BOOL IsDrawText() const;  
```  
  
### <a name="return-value"></a>返回值  
 如果显示的文本标签; 则为非 0否则为 0。  
  
### <a name="remarks"></a>备注  
 此方法返回`FALSE`工具栏按钮是否没有关联的文本标签 ( [CMFCToolBarButton::m_strText](#m_strtext)为空) 或[CMFCToolBarButton::m_bText](#m_btext)设置为`FALSE`。  
  
##  <a name="isdroppeddown"></a>CMFCToolBarButton::IsDroppedDown  
 确定按钮是否显示子菜单。  
  
```  
virtual BOOL IsDroppedDown() const;  
```  
  
### <a name="return-value"></a>返回值  
 此方法返回 `FALSE`。  
  
### <a name="remarks"></a>备注  
 此方法的默认实现返回`FALSE`。 重写此方法以返回`TRUE`如果控件显示子菜单。  
  
##  <a name="iseditable"></a>CMFCToolBarButton::IsEditable  
 确定是否可以自定义按钮。  
  
```  
virtual BOOL IsEditable() const;  
```  
  
### <a name="return-value"></a>返回值  
 如果按钮可以自定义用户; 则为非 0否则为 0。  
  
### <a name="remarks"></a>备注  
 框架调用此方法以确定用户是否可以通过使用拖放自定义工具栏按钮或编辑操作。  
  
 默认实现返回`FALSE`如果按钮的命令 ID 是标准命令 (你可以通过调用确定这`IsStandardCommand`函数) 或如果的命令 ID 是在列表中受保护的命令。 有关受保护的命令的详细信息，请参阅[CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands)和[CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands)。  
  
 重写此方法以自定义其行为。  
  
##  <a name="isextrasize"></a>CMFCToolBarButton::IsExtraSize  
 确定是否可以使用扩展边框显示按钮。  
  
```  
virtual BOOL IsExtraSize() const;  
```  
  
### <a name="return-value"></a>返回值  
 如果可以使用扩展的边框; 显示工具栏按钮则不为否则为 0。  
  
### <a name="remarks"></a>备注  
 多个外观边框的工具栏按钮 （例如，圆形按钮） 使用额外的大小。  
  
 如果用户将此按钮从一个工具栏移到另一个，框架将调用[CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd)方法。 [CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd)方法将额外大小标志设置为的新的父工具栏 (有关详细信息，请参阅[CMFCToolBar::IsButtonExtraSizeAvailable](../../mfc/reference/cmfctoolbar-class.md#isbuttonextrasizeavailable))。  
  
##  <a name="isfirstingroup"></a>CMFCToolBarButton::IsFirstInGroup  
 确定按钮是否在其按钮组中的第一个位置。  
  
```  
virtual BOOL IsFirstInGroup() const;  
```  
  
### <a name="return-value"></a>返回值  
 `TRUE`如果按钮是在其按钮组中; 第一个按钮否则为`FALSE`。  
  
### <a name="remarks"></a>备注  
 此方法定义*按钮组*作为相邻的一组位于同一行和受分隔符或工具栏上的边框的按钮。 此方法返回`FALSE`工具栏按钮是指如果**自定义**按钮。 有关详细信息**自定义**按钮，请参阅[CMFCToolBar::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton)。  
  
 调用[CMFCToolBarButton::IsLastInGroup](#islastingroup)方法来确定按钮是否处于其按钮组中的最后一个位置。  
  
##  <a name="ishidden"></a>CMFCToolBarButton::IsHidden  
 确定是否隐藏按钮。  
  
```  
BOOL IsHidden() const;  
```  
  
### <a name="return-value"></a>返回值  
 如果按钮隐藏 （不可见）; 则为非 0否则为 0。  
  
### <a name="remarks"></a>备注  
 在父级工具栏拉伸以确定工具栏按钮是否可见时，框架将调用此方法。  
  
 如果你设置按钮不可见使用[CMFCToolBarButton::SetVisible](#setvisible)方法，请使用[CMFCToolBarButton::IsVisible](#isvisible)以确定工具栏按钮是否可见。  
  
 默认情况下，所有的工具栏按钮都可见。 使用[CMFCToolBarButton::Show](#show)方法来隐藏或显示工具栏按钮。  
  
##  <a name="ishorizontal"></a>CMFCToolBarButton::IsHorizontal  
 确定是否按钮位于水平工具栏。  
  
```  
BOOL IsHorizontal() const;  
```  
  
### <a name="return-value"></a>返回值  
 如果工具栏按钮位于水平工具栏; 则为非 0否则为 0。  
  
### <a name="remarks"></a>备注  
 框架调用此方法以确定工具栏按钮的布局。  
  
 此方法返回`m_bHorz`数据成员。 默认值`m_bHorz`数据成员是`TRUE`; 它在每次调用上重置[CMFCToolBarButton::OnDraw](#ondraw)方法。  
  
##  <a name="islastingroup"></a>CMFCToolBarButton::IsLastInGroup  
 指定按钮是否处于其按钮组中的最后一个位置。  
  
```  
virtual BOOL IsLastInGroup() const;  
```  
  
### <a name="return-value"></a>返回值  
 `TRUE`如果按钮是在其按钮组中; 最后一个按钮否则为`FALSE`。  
  
### <a name="remarks"></a>备注  
 此方法定义*按钮组*相邻的一组位于同一行和受分隔符或此方法返回的工具栏的边框的按钮为`FALSE`如果工具栏按钮没有父级工具栏或工具栏按钮指**自定义**按钮。 有关详细信息**自定义**按钮，请参阅[CMFCToolBar::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton)。  
  
 调用[CMFCToolBarButton::IsFirstInGroup](#isfirstingroup)方法来确定按钮是否处于其按钮组中的第一个位置。  
  
##  <a name="islocked"></a>CMFCToolBarButton::IsLocked  
 确定是否已启用锁定的 （非可自定义） 工具栏的按钮。  
  
```  
BOOL IsLocked() const;  
```  
  
### <a name="return-value"></a>返回值  
 如果按钮位于锁定的工具栏; 则为非 0否则为 0。  
  
### <a name="remarks"></a>备注  
 框架调用此方法以确定用户是否可以通过使用拖放自定义工具栏按钮或编辑操作。 使用在父级工具栏上设置锁定的属性[CMFCToolBar::LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar)方法。 框架将此属性的值传递到构造函数的每个工具栏按钮 ( [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md))，它将插入到在父级工具栏。  
  
##  <a name="isownerof"></a>CMFCToolBarButton::IsOwnerOf  
 确定按钮是否提供的窗口句柄的所有者。  
  
```  
virtual BOOL IsOwnerOf(HWND hwnd);
```  
  
### <a name="parameters"></a>参数  
 [in] `hwnd`  
 窗口句柄。  
  
### <a name="return-value"></a>返回值  
 如果按钮是提供的窗口句柄; 的所有者则不为否则为 0。  
  
### <a name="remarks"></a>备注  
 此方法返回非零如果`hwnd`的直接的窗口句柄是指或是与按钮相关联的窗口句柄的子级。 如果此方法返回 0`hwnd`是`NULL`。  
  
##  <a name="isvisible"></a>CMFCToolBarButton::IsVisible  
 确定工具栏按钮是否可见。  
  
```  
BOOL IsVisible() const;  
```  
  
### <a name="return-value"></a>返回值  
 工具栏按钮是否可见，则非零否则为 0。  
  
### <a name="remarks"></a>备注  
 你可以通过显示或隐藏工具栏按钮使用[CMFCToolBarButton::SetVisible](#setvisible)方法。 调用[CPane::AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate)上在父级工具栏后调用的方法[CMFCToolBarButton::SetVisible](#setvisible)重新计算父工具栏的布局。  
  
##  <a name="iswindowvisible"></a>CMFCToolBarButton::IsWindowVisible  
 确定按钮的基础窗口句柄是否可见。  
  
```  
virtual BOOL IsWindowVisible();
```  
  
### <a name="return-value"></a>返回值  
 如果按钮的基础窗口句柄可见; 则为非 0否则为 0。  
  
### <a name="remarks"></a>备注  
 此方法返回非零，如果基础窗口句柄的样式属性包含`WS_VISIBLE`样式。 此方法返回`FALSE`按钮的基础窗口句柄是否`NULL`。  
  
##  <a name="m_bimage"></a>CMFCToolBarButton::m_bImage  
 指定是否在按钮上显示图像。  
  
```  
BOOL m_bImage;  
```  
  
### <a name="remarks"></a>备注  
 如果此数据成员设置为`TRUE`，框架显示与工具栏按钮相关联的图像; 否则框架不会显示该图像。 此成员会影响的返回值[CMFCToolBarButton::m_bImage](#m_bimage)方法。  
  
##  <a name="m_btext"></a>CMFCToolBarButton::m_bText  
 指定是否在按钮上显示的文本标签。  
  
```  
BOOL m_bText;  
```  
  
### <a name="remarks"></a>备注  
 如果此数据成员设置为`TRUE`，框架显示工具栏按钮的文本标签; 否则框架不会显示的文本标签。 此成员会影响的返回值[CMFCToolBarButton::m_bText](#m_btext)方法。  
  
##  <a name="m_btextbelow"></a>CMFCToolBarButton::m_bTextBelow  
 指定是否下方的按钮上的映像显示的文本标签。  
  
```  
BOOL m_bTextBelow;  
```  
  
### <a name="remarks"></a>备注  
 如果此成员变量设置为`TRUE`，框架显示到该图像下面按钮的文本。 此成员的默认值是`FALSE`。  
  
##  <a name="m_buserbutton"></a>CMFCToolBarButton::m_bUserButton  
 指定按钮是否具有用户定义的映像  
  
```  
BOOL m_bUserButton;  
```  
  
### <a name="remarks"></a>备注  
 此数据成员设置为`TRUE`该按钮时具有与其关联的用户定义的映像。  
  
##  <a name="m_bwholetext"></a>CMFCToolBarButton::m_bWholeText  
 指定按钮是否显示其完整文本标签，即使它不符合的边框。  
  
```  
BOOL m_bWholeText;  
```  
  
### <a name="remarks"></a>备注  
 如果此数据成员设置为`TRUE`，框架通过增大按钮显示完整的文本标签。 否则为框架将截断和追加省略号 ( **...**) 到的文本标签。  
  
##  <a name="m_bwrap"></a>CMFCToolBarButton::m_bWrap  
 指定分隔符旁边的按钮是否将在下一行上。  
  
```  
BOOL m_bWrap;  
```  
  
### <a name="remarks"></a>备注  
 框架将此数据成员设置为`TRUE`时工具栏按钮不适合当前行上或指定布局 （例如，特定的每行的工具栏按钮数）。  
  
 框架在下一行上放置此按钮，如果该数据成员设置为`TRUE`和工具栏是水平停靠的还是浮动。  
  
 此数据成员的默认值是`FALSE`。  
  
##  <a name="m_bwraptext"></a>CMFCToolBarButton::m_bWrapText  
 指定是否启用多行文本标签。  
  
```  
AFX_IMPORT_DATA static BOOL m_bWrapText;  
```  
  
### <a name="remarks"></a>备注  
 如果此静态成员变量是`TRUE`，框架允许所有工具栏在工具栏按钮上显示多行文本标签。  
  
 此数据成员的默认值是`FALSE`。  
  
##  <a name="m_nid"></a>CMFCToolBarButton::m_nID  
 按钮的命令 ID。  
  
```  
UINT m_nID;  
```  
  
### <a name="remarks"></a>备注  
 命令 ID 为-1 指示按钮是一个分隔符。 所有按钮分隔符都具有`TBBS_SEPARATOR`样式。 请参阅[CMFCToolBarButton::m_nStyle](#m_nstyle)按钮样式有关的详细信息。  
  
##  <a name="m_nstyle"></a>CMFCToolBarButton::m_nStyle  
 按钮样式。  
  
```  
UINT m_nStyle;  
```  
  
### <a name="remarks"></a>备注  
 请参阅[工具栏控件样式](../../mfc/reference/toolbar-control-styles.md)可用工具栏按钮样式的列表。  
  
##  <a name="m_strtext"></a>CMFCToolBarButton::m_strText  
 按钮文本标签。  
  
```  
CString m_strText;  
```  
  
### <a name="remarks"></a>备注  
 此数据成员包含按钮的文本标签。 文本标签能为空。  
  
##  <a name="notifycommand"></a>CMFCToolBarButton::NotifyCommand  
 指定是否处理按钮[WM_COMMAND](http://msdn.microsoft.com/library/windows/desktop/ms647591)消息。  
  
```  
virtual BOOL NotifyCommand(int iNotifyCode);
```  
  
### <a name="parameters"></a>参数  
 [in] `iNotifyCode`  
 与命令关联的通知消息。  
  
### <a name="return-value"></a>返回值  
 此方法返回 `FALSE`。  
  
### <a name="remarks"></a>备注  
 框架在调用此方法时将要发送[WM_COMMAND](http://msdn.microsoft.com/library/windows/desktop/ms647591)消息发送到父窗口。  
  
 默认情况下，此方法返回`FALSE`。 重写此方法以返回`TRUE`如果你想要处理`WM_COMMAND`消息或`FALSE`以指示在父级工具栏应处理消息。  
  
##  <a name="onaddtocustomizepage"></a>CMFCToolBarButton::OnAddToCustomizePage  
 由框架调用时该按钮添加到**自定义**对话框。  
  
```  
virtual void OnAddToCustomizePage();
```  
  
### <a name="remarks"></a>备注  
 此方法的默认实现没有任何影响。 重写此方法，如果你想要执行一些操作，该按钮添加到时**自定义**对话框。  
  
##  <a name="onbeforedrag"></a>CMFCToolBarButton::OnBeforeDrag  
 指定是否可拖动按钮。  
  
```  
virtual BOOL OnBeforeDrag() const;  
```  
  
### <a name="return-value"></a>返回值  
 `TRUE`如果可拖动按钮;否则为`FALSE`。  
  
### <a name="remarks"></a>备注  
 用户开始拖动按钮之前，框架会调用此方法。  
  
 此方法的默认实现返回`TRUE`。 重写此方法以返回`FALSE`若要禁用的按钮拖动。  
  
##  <a name="onbeforedrop"></a>CMFCToolBarButton::OnBeforeDrop  
 指定用户是否可以删除拖到目标工具栏上的按钮。  
  
```  
virtual BOOL OnBeforeDrop(CMFCToolBar* pTarget);
```  
  
### <a name="parameters"></a>参数  
 [in] `pTarget`  
 拖放操作的目标。  
  
### <a name="return-value"></a>返回值  
 `TRUE`如果按钮可以放置到提供的目标工具栏中;否则为`FALSE`。  
  
### <a name="remarks"></a>备注  
 之前按钮拖放到一个工具栏，框架会调用此方法。  
  
 此方法的默认实现返回`TRUE`。 重写此方法以返回`FALSE`禁用放置操作对指定的目标。  
  
##  <a name="oncalculatesize"></a>CMFCToolBarButton::OnCalculateSize  
 由框架调用以计算指定的设备上下文和停靠状态的按钮的大小。  
  
```  
virtual SIZE OnCalculateSize(
    CDC* pDC,  
    const CSize& sizeDefault,  
    BOOL bHorz);
```  
  
### <a name="parameters"></a>参数  
 [in] `pDC`  
 设备上下文显示按钮。  
  
 [in] `sizeDefault`  
 按钮的默认大小。  
  
 [in] `bHorz`  
 在父级工具栏停靠状态。 此参数是`TRUE`时工具栏水平停靠的还是浮动，或`FALSE`如果垂直停靠工具栏。  
  
### <a name="return-value"></a>返回值  
 A`SIZE`结构，它包含的按钮，以像素为单位的尺寸。  
  
### <a name="remarks"></a>备注  
 框架调用此方法以确定指定的设备上下文的工具栏按钮的大小和停靠状态。  
  
 默认实现将考虑的文本和图像的大小 （如果显示）、 文本和图像的位置 （文本下方或在右侧的映像） 和工具栏停靠状态。  
  
 如果你想要提供大小信息的非标准按钮 （例如，编辑框按钮），重写此方法。  
  
##  <a name="oncancelmode"></a>CMFCToolBarButton::OnCancelMode  
 由框架来处理调用[WM_CANCELMODE](http://msdn.microsoft.com/library/windows/desktop/ms632615)消息。  
  
```  
virtual void OnCancelMode();
```  
  
### <a name="remarks"></a>备注  
 此方法的默认实现没有任何影响。 重写此方法，如果你想要处理[WM_CANCELMODE](http://msdn.microsoft.com/library/windows/desktop/ms632615)消息。  
  
##  <a name="onchangeparentwnd"></a>CMFCToolBarButton::OnChangeParentWnd  
 按钮插入到一个新工具栏时，由框架调用。  
  
```  
virtual void OnChangeParentWnd(CWnd* pWndParent);
```  
  
### <a name="parameters"></a>参数  
 [in] `pWndParent`  
 新的父窗口。  
  
### <a name="remarks"></a>备注  
 按钮插入到一个工具栏，例如，当用户将其从一个工具栏到另一个工具栏。  
  
 此方法的默认实现没有任何影响。  
  
##  <a name="onclick"></a>CMFCToolBarButton::OnClick  
 当用户单击鼠标按钮时，由框架调用。  
  
```  
virtual BOOL OnClick(
    CWnd* pWnd,  
    BOOL bDelay=TRUE);
```  
  
### <a name="parameters"></a>参数  
 [in] `pWnd`  
 父窗口的工具栏按钮。  
  
 [in] `bDelay`  
 `TRUE`如果消息应处理一定的延迟。  
  
### <a name="return-value"></a>返回值  
 此方法返回 `FALSE`。  
  
### <a name="remarks"></a>备注  
 用户单击工具栏按钮时，框架将调用此方法。  
  
 默认实现不执行任何操作并返回`FALSE`。 重写此方法以返回一个非零值，如果按钮处理单击消息。  
  
##  <a name="onclickup"></a>CMFCToolBarButton::OnClickUp  
 当用户释放鼠标按钮时，由框架调用。  
  
```  
virtual BOOL OnClickUp();
```  
  
### <a name="return-value"></a>返回值  
 此方法返回 `FALSE`。  
  
### <a name="remarks"></a>备注  
 当用户释放工具栏按钮时，框架将调用此方法。  
  
 默认实现不执行任何操作并返回`FALSE`。 重写此方法以返回一个非零值，如果按钮处理单击消息。  
  
##  <a name="oncontexthelp"></a>CMFCToolBarButton::OnContextHelp  
 当在父级工具栏处理时由框架调用`WM_HELPHITTEST`消息。  
  
```  
virtual BOOL OnContextHelp(CWnd* pWnd);
```  
  
### <a name="parameters"></a>参数  
 [in] `pWnd`  
 父窗口的工具栏按钮。  
  
### <a name="return-value"></a>返回值  
 此方法返回 `FALSE`。  
  
### <a name="remarks"></a>备注  
 此方法的默认实现不执行任何操作并返回`FALSE`。 重写此方法以返回一个非零值，如果按钮处理此帮助消息。  
  
 有关详细信息`WM_HELPHITTEST`消息，请参阅[TN028： 上下文相关帮助支持](../../mfc/tn028-context-sensitive-help-support.md)。  
  
##  <a name="onctlcolor"></a>CMFCToolBarButton::OnCtlColor  
 当在父级工具栏处理时由框架调用`WM_CTLCOLOR`消息。  
  
```  
virtual HBRUSH OnCtlColor(
    CDC* pDC,  
    UINT nCtlColor);
```  
  
### <a name="parameters"></a>参数  
 [in] `pDC`  
 设备上下文显示按钮。  
  
 [in] `nCtlColor`  
 特定颜色通知。  
  
### <a name="return-value"></a>返回值  
 框架将使用绘制背景的按钮的画笔对象句柄。  
  
### <a name="remarks"></a>备注  
 在父级工具栏处理时，框架将调用此方法`WM_CTLCOLOR`包含 Windows 控件的工具栏按钮的消息。 无窗口工具栏按钮时，框架不调用此方法。  
  
 工具栏框架是在自定义模式和工具栏按钮处于解除锁定状态时，框架将调用此方法。 有关自定义模式的详细信息，请参阅[CMFCToolBar::SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode)。 工具栏按钮的锁定的详细信息，请参阅[CMFCToolBarButton::IsLocked](#islocked)。  
  
 默认实现不执行任何操作并返回`NULL`。  
  
##  <a name="oncustomizemenu"></a>CMFCToolBarButton::OnCustomizeMenu  
 允许修改提供的菜单时应用程序将显示快捷菜单，父工具栏上的按钮。  
  
```  
virtual BOOL OnCustomizeMenu(CMenu* pMenu);
```  
  
### <a name="parameters"></a>参数  
 [in] `pMenu`  
 要自定义的菜单。  
  
### <a name="return-value"></a>返回值  
 此方法返回 `FALSE`。  
  
### <a name="remarks"></a>备注  
 默认实现不执行任何操作并返回`FALSE`。 重写此方法并返回一个非零值，如果你想要修改提供的菜单的内容。  
  
##  <a name="ondblclk"></a>CMFCToolBarButton::OnDblClk  
 当在父级工具栏处理时由框架调用[WM_LBUTTONDBLCLK](http://msdn.microsoft.com/library/windows/desktop/ms645606)消息。  
  
```  
virtual void OnDblClk(CWnd* pWnd);
```  
  
### <a name="parameters"></a>参数  
 [in] `pWnd`  
 -   按钮的父窗口。  
  
### <a name="remarks"></a>备注  
 调用此方法`CMFCToolBar::OnLButtonDblClk`方法时在父级工具栏处理[WM_LBUTTONDBLCLK](http://msdn.microsoft.com/library/windows/desktop/ms645606)消息。  
  
 此方法的默认实现没有任何影响。  
  
##  <a name="ondraw"></a>CMFCToolBarButton::OnDraw  
 由框架调用以绘制按钮通过使用指定的样式和选项。  
  
```  
virtual void OnDraw(
    CDC* pDC,  
    const CRect& rect,  
    CMFCToolBarImages* pImages,  
    BOOL bHorz=TRUE,  
    BOOL bCustomizeMode=FALSE,  
    BOOL bHighlight=FALSE,  
    BOOL bDrawBorder=TRUE,  
    BOOL bGrayDisabledButtons=TRUE);
```  
  
### <a name="parameters"></a>参数  
 [in] `pDC`  
 设备上下文显示按钮。  
  
 [in] `rect`  
 按钮的边框。  
  
 [in] `pImages`  
 与按钮相关联的工具栏图像的集合。  
  
 [in] `bHorz`  
 在父级工具栏停靠状态。 此参数是`TRUE`按钮时水平停靠和`FALSE`按钮垂直插接时。  
  
 [in] `bCustomizeMode`  
 指定指示工具栏是否在自定义模式。 此参数是`TRUE`工具栏时在自定义模式和`FALSE`工具栏不在自定义模式中时。  
  
 [in] `bHighlight`  
 指定按钮将突出显示。 此参数是`TRUE`时突出显示按钮和`FALSE`按钮将不突出显示。  
  
 [in] `bDrawBorder`  
 指定按钮是否应显示其边框。 此参数是`TRUE`按钮时应显示其边框和`FALSE`按钮时应不显示其边框。  
  
 [in] `bGrayDisabledButtons`  
 指定是否为禁用的按钮添加底纹或使用已禁用的图像集合。 此参数是`TRUE`禁用的按钮应阴影和`FALSE`当此方法应使用已禁用的图像集合。  
  
### <a name="remarks"></a>备注  
 重写此方法以自定义工具栏按钮绘图。  
  
##  <a name="ondrawoncustomizelist"></a>CMFCToolBarButton::OnDrawOnCustomizeList  
 由框架绘制按钮调用**命令**窗格**自定义**对话框。  
  
```  
virtual int OnDrawOnCustomizeList(
    CDC* pDC,  
    const CRect& rect,  
    BOOL bSelected);
```  
  
### <a name="parameters"></a>参数  
 [in] `pDC`  
 设备上下文显示按钮。  
  
 [in] `rect`  
 按钮的边框。  
  
 [in] `bSelected`  
 指定按钮是否处于选定状态。 如果此参数为`TRUE`，按钮处于选中状态。 如果此参数为`FALSE`，未选择按钮时。  
  
### <a name="return-value"></a>返回值  
 以像素为单位，指定的设备上下文上的按钮的宽度。  
  
### <a name="remarks"></a>备注  
 此方法称为自定义对话框中 (**命令**选项卡) 即将在所有者描述列表框中显示本身按钮时。  
  
 如果可用，此方法的默认实现将显示按钮的图像和文本标签。 如果按钮的文本标签不可用，则该方法显示的工具提示文本。  
  
 重写此方法以执行自定义绘制。  
  
##  <a name="ongetcustomtooltiptext"></a>CMFCToolBarButton::OnGetCustomToolTipText  
 由框架调用以检索该按钮的自定义工具提示文本。  
  
```  
virtual BOOL OnGetCustomToolTipText(CString& strToolTip);
```  
  
### <a name="parameters"></a>参数  
 [out] `strToolTip`  
 A`CString`接收的自定义工具提示文本的对象。  
  
### <a name="return-value"></a>返回值  
 此方法返回 `FALSE`。  
  
### <a name="remarks"></a>备注  
 显示工具栏按钮的工具提示时，框架将调用此方法。 如果此方法返回`FALSE`，框架将使用默认工具提示。  
  
 默认实现不执行任何操作并返回`FALSE`。 重写此方法并返回一个非零值为工具栏按钮提供自定义工具提示文本。  
  
##  <a name="onglobalfontschanged"></a>CMFCToolBarButton::OnGlobalFontsChanged  
 当全局字体发生更改时由框架调用。  
  
```  
virtual void OnGlobalFontsChanged();
```  
  
### <a name="remarks"></a>备注  
 此方法的默认实现没有任何影响。 重写此方法以更新用来显示按钮文本的字体。  
  
##  <a name="onmove"></a>CMFCToolBarButton::OnMove  
 当在父级工具栏移动时，由框架调用。  
  
```  
virtual void OnMove();
```  
  
### <a name="remarks"></a>备注  
 此方法的默认实现没有任何影响。 重写此方法以在父级工具栏移动时重新定位按钮。  
  
##  <a name="onshow"></a>CMFCToolBarButton::OnShow  
 由框架调用时该按钮即变为可见或不可见。  
  
```  
virtual void OnShow(BOOL bShow);
```  
  
### <a name="parameters"></a>参数  
 [in] `bShow`  
 指定按钮是否可见。 如果此参数为`TRUE`，按钮是否可见。 否则，按钮不可见。  
  
### <a name="remarks"></a>备注  
 此方法的默认实现没有任何影响。 重写此方法以更新按钮的可见性。  
  
##  <a name="onsize"></a>CMFCToolBarButton::OnSize  
 在父级工具栏更改其大小或位置并且此更改将导致该按钮以更改大小时由框架调用。  
  
```  
virtual void OnSize(int iSize);
```  
  
### <a name="parameters"></a>参数  
 [in] `iSize`  
 新按钮的宽度。  
  
### <a name="remarks"></a>备注  
 此方法的默认实现没有任何影响。 重写此方法在的大小或在父级工具栏的位置发生更改时调整大小的按钮。  
  
##  <a name="ontoolhittest"></a>CMFCToolBarButton::OnToolHitTest  
 当在父级工具栏必须确定点是否在按钮的边框时由框架调用。  
  
```  
virtual BOOL OnToolHitTest(
    const CWnd* pWnd,  
    TOOLINFO* pTI);
```  
  
### <a name="parameters"></a>参数  
 [in] `pWnd`  
 按钮的父窗口。 可以是`NULL`。  
  
 [in] `pTI`  
 A`TOOLINFO`结构，它包含有关工具提示控件中的工具的信息。  
  
### <a name="return-value"></a>返回值  
 结果`OnMenuButtonToolHitTest`如果按钮可以检索指向父框架窗口; 否则为`FALSE`。  
  
### <a name="remarks"></a>备注  
 如果它可以将父窗口转换为有效的框架对象，此方法将调用以下方法之一：  
  
- [CMDIFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cmdiframewndex-class.md#onmenubuttontoolhittest)  
  
- [CFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cframewndex-class.md#onmenubuttontoolhittest)  
  
- [COleIPFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/coleipframewndex-class.md#onmenubuttontoolhittest)  
  
##  <a name="onupdatetooltip"></a>CMFCToolBarButton::OnUpdateToolTip  
 当在父级工具栏更新其工具提示文本时，由框架调用。  
  
```  
virtual BOOL OnUpdateToolTip(
    CWnd* pWndParent,  
    int iButtonIndex,  
    CToolTipCtrl& wndToolTip,  
    CString& str);
```  
  
### <a name="parameters"></a>参数  
 [in] `pWndParent`  
 父窗口中。  
  
 [in] `iButtonIndex`  
 父按钮集合中的按钮的从零开始的索引。  
  
 [in] `wndToolTip`  
 显示的工具提示文本的控件。  
  
 [out] `str`  
 A`CString`接收更新的工具提示文本的对象。  
  
### <a name="return-value"></a>返回值  
 此方法返回 `FALSE`。  
  
### <a name="remarks"></a>备注  
 此方法的默认实现不执行任何操作并返回`FALSE`。 重写此方法以返回一个非零值，如果你提供工具提示文本字符串。  
  
##  <a name="preparedrag"></a>CMFCToolBarButton::PrepareDrag  
 将要执行拖放操作的按钮时，由框架调用。  
  
```  
virtual BOOL PrepareDrag(COleDataSource& srcItem);
```  
  
### <a name="parameters"></a>参数  
 [in] `srcItem`  
 A`COleDataSource`存储有关拖放操作的状态信息的对象。  
  
### <a name="return-value"></a>返回值  
 `TRUE`如果该操作成功，则否则为`FALSE`。  
  
### <a name="remarks"></a>备注  
 框架调用此方法，以准备工具栏按钮，以将其状态存储在提供`COleDataSource`对象。 此方法通过自身序列化为共享文件，然后将该文件来存储其状态[COleDataSource::CacheGlobalData](../../mfc/reference/coledatasource-class.md#cacheglobaldata)方法。 工具栏按钮序列化有关的详细信息，请参阅[CMFCToolBarButton::Serialize](#serialize)。  
  
 此方法不执行任何操作并返回`TRUE`如果按钮不能存储 ( [CMFCToolBarButton::CanBeStored](#canbestored)方法返回`FALSE`)。 它将返回`FALSE`如果对象序列化过程中发生异常。  
  
 有关 OLE 拖放操作的详细信息，请参阅[拖放 (OLE)](../../mfc/drag-and-drop-ole.md)。  
  
##  <a name="rect"></a>CMFCToolBarButton::Rect  
 检索按钮的边框。  
  
```  
const CRect& Rect() const;  
```  
  
### <a name="return-value"></a>返回值  
 A`CRect`对象，其中包含一个按钮的边框。  
  
##  <a name="resetimagetodefault"></a>CMFCToolBarButton::ResetImageToDefault  
 将设置为默认值与按钮相关联的映像。  
  
```  
virtual void ResetImageToDefault();
```  
  
### <a name="remarks"></a>备注  
 此方法检索默认图像从其父工具栏使用[CMFCToolBar::GetDefaultImage](../../mfc/reference/cmfctoolbar-class.md#getdefaultimage)方法。 如果按钮有没有关联的默认图像，此方法使用的设置根据其字符串资源的按钮的文本标签[CStringT::LoadString](../../atl-mfc-shared/reference/cstringt-class.md#loadstring)方法。 有关字符串资源的详细信息，请参阅[使用资源文件](../../windows/working-with-resource-files.md)。  
  
 如果该按钮具有用户定义的映像，则此方法没有任何效果。  
  
##  <a name="savebarstate"></a>CMFCToolBarButton::SaveBarState  
 保存的工具栏按钮的状态。  
  
```  
virtual void SaveBarState();
```  
  
### <a name="remarks"></a>备注  
 框架调用此方法，在创建时`CMFCToolBarButton`对象作为拖放操作的结果。  
  
 此方法的默认实现没有任何影响。 重写此方法以将工具栏按钮的状态保存到外部数据源。  
  
##  <a name="serialize"></a>CMFCToolBarButton::Serialize  
 从存档读取该对象或将其写入存档。  
  
```  
virtual void Serialize(CArchive& ar);
```  
  
### <a name="parameters"></a>参数  
 [in] `ar`  
 `CArchive`从中或向其进行序列化的对象。  
  
### <a name="remarks"></a>备注  
 此方法支持如剪贴板或拖放操作的数据传输流程。 它读取或写入属性，如 ID、 文本标签和映像 ID 的按钮，从或对提供`CArchive`对象。  
  
 有关序列化示例，请参阅[序列化： 将对象序列化为](../../mfc/serialization-serializing-an-object.md)。  
  
##  <a name="setaccdata"></a>CMFCToolBarButton::SetACCData  
 填充所提供`CAccessibilityData`与从工具栏按钮的可访问性数据的对象。  
  
```  
virtual BOOL SetACCData(
    CWnd* pParent,  
    CAccessibilityData& data);
```  
  
### <a name="parameters"></a>参数  
 [in] `pParent`  
 父窗口的工具栏按钮。  
  
 [in] `data`  
 A`CAccessibilityData`使用工具栏按钮可访问性数据填充的对象。  
  
### <a name="return-value"></a>返回值  
 此方法返回 `TRUE`。  
  
### <a name="remarks"></a>备注  
 重写此方法以返回`FALSE`如果工具栏按钮不提供可访问性数据。  
  
##  <a name="setclipboardformatname"></a>CMFCToolBarButton::SetClipboardFormatName  
 重命名全局剪贴板格式。  
  
```  
static void __stdcall SetClipboardFormatName(LPCTSTR lpszName);
```  
  
### <a name="parameters"></a>参数  
 [in] `lpszName`  
 全局剪贴板格式的新名称。 不能为 `NULL`。  
  
### <a name="remarks"></a>备注  
 此方法使发生在多个应用程序间的拖放操作。 每个应用程序必须提供相同的剪贴板格式名称。  
  
 必须调用之前框架调用此方法[CMFCToolBarButton::GetClipboardFormat](#getclipboardformat)。  
  
##  <a name="setimage"></a>CMFCToolBarButton::SetImage  
 设置按钮的图像索引。  
  
```  
virtual void SetImage(int iImage);
```  
  
### <a name="parameters"></a>参数  
 [in] `iImage`  
 集合中的工具栏图像的图像的索引。  
  
### <a name="remarks"></a>备注  
 如果工具栏按钮是一个分隔符，`iImage`指分隔符按钮的新宽度。  
  
 如果`iImage`小于零，此方法禁用绘制图像，并使绘制按钮的文本标签。  
  
##  <a name="setprotectedcommands"></a>CMFCToolBarButton::SetProtectedCommands  
 设置的用户不能自定义的命令的列表。  
  
```  
static void SetProtectedCommands(const CList<UINT,UINT>& lstCmds);
```  
  
### <a name="parameters"></a>参数  
 [in] `lstCmds`  
 受保护的命令的列表。  
  
### <a name="remarks"></a>备注  
 在自定义模式下，框架禁用受保护的工具栏按钮命令。 用户不能执行拖放和编辑禁用的工具栏按钮上的操作。  
  
 使用[CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands)方法来检索列表的受保护的命令。  
  
##  <a name="setradio"></a>CMFCToolBarButton::SetRadio  
 按钮更改其选中的状态时，由框架调用。  
  
```  
virtual void SetRadio();
```  
  
### <a name="remarks"></a>备注  
 此方法的默认实现没有任何影响。 重写此方法以执行自定义操作时该按钮将更改其选中的状态。  
  
##  <a name="setrect"></a>CMFCToolBarButton::SetRect  
 设置按钮的边框。  
  
```  
void SetRect(const CRect rect);
```  
  
### <a name="parameters"></a>参数  
 [in] `rect`  
 新按钮的边框。  
  
### <a name="remarks"></a>备注  
 此方法调用[CMFCToolBarButton::OnMove](#onmove)方法后它将设置的新边框。  
  
##  <a name="setstyle"></a>CMFCToolBarButton::SetStyle  
 设置按钮样式。  
  
```  
virtual void SetStyle(UINT nStyle);
```  
  
### <a name="parameters"></a>参数  
 [in] `nStyle`  
 按钮将新样式。  
  
### <a name="remarks"></a>备注  
 默认实现集[CMFCToolBarButton::m_nStyle](#m_nstyle)到的数据成员`nStyle`。 如果你想要执行其他处理，以处理中样式的更改，重写此方法。 请参阅[工具栏控件样式](toolbar-control-styles.md)为无效样式标志的列表。  
  
##  <a name="setvisible"></a>CMFCToolBarButton::SetVisible  
 指定按钮是否可见。  
  
```  
void SetVisible(BOOL bShow=TRUE);
```  
  
### <a name="parameters"></a>参数  
 [in] `bShow`  
 一个布尔值，指定是否以显示或隐藏按钮。 如果此参数为`TRUE`，显示按钮。 如果参数是`FALSE`，按钮处于隐藏状态。  
  
### <a name="remarks"></a>备注  
 此函数可用于隐藏或显示特定的工具栏按钮。 调用[CPane::AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate)方法之后调用此方法。  
  
##  <a name="show"></a>CMFCToolBarButton::Show  
 显示或隐藏按钮。  
  
```  
void Show(BOOL bShow);
```  
  
### <a name="parameters"></a>参数  
 [in] `bShow`  
 一个布尔值，指定是否以显示或隐藏按钮。 如果此参数为`TRUE`，显示按钮。 如果参数是`FALSE`，按钮处于隐藏状态。  
  
### <a name="remarks"></a>备注  
 框架调用此方法以调整其在父级工具栏时更新工具栏按钮的可见性。 框架在调用此方法与`bShow`设置为`FALSE`当按钮不再符合工具栏的边界内。 框架在调用此方法与`bShow`设置为`TRUE`时调整大小后按钮再次适合工具栏的边界内。  
  
 使用[CMFCToolBarButton::SetVisible](#setvisible)方法以设置常规按钮的可见性。  
  
 此方法调用[CMFCToolBarButton::OnShow](#onshow)后它将更新该按钮的可见性状态的方法。  
  
## <a name="see-also"></a>请参阅  
 [层次结构图](../../mfc/hierarchy-chart.md)   
 [类](../../mfc/reference/mfc-classes.md)   
 [CMFCToolBar 类](../../mfc/reference/cmfctoolbar-class.md)   
 [CMFCToolBarImages 类](../../mfc/reference/cmfctoolbarimages-class.md)
