---
title: 编译器警告 C5038 |Microsoft 文档
ms.custom: ''
ms.date: 02/16/2018
ms.technology:
- cpp-diagnostics
ms.topic: error-reference
dev_langs:
- C++
helpviewer_keywords:
- C5038
author: corob-msft
ms.author: corob
ms.workload:
- cplusplus
ms.openlocfilehash: 423ff9c0f98dee985de23f066940860d3e22f669
ms.sourcegitcommit: 76b7653ae443a2b8eb1186b789f8503609d6453e
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/04/2018
ms.locfileid: "33276498"
---
# <a name="compiler-warning-c5038"></a>编译器警告 C5038

> 数据成员*member1*将数据成员后初始化*member2*  
> 数据成员*成员*将在基类后初始化*base_class*  

类成员按它们声明的顺序，而非按它们在初始值设定项列表中出现的顺序进行初始化。 此警告指示的初始化顺序不是数据成员或基类，这些类的声明顺序相同。 如果在列表中的一个成员的初始化依赖于更高版本声明的成员的初始化，这可以导致未定义运行时行为。

此警告是 Visual Studio 2017 版本 15.3 中的新增功能，默认情况下处于关闭状态。 使用[/wall](../../build/reference/compiler-option-warning-level.md)以启用默认情况下处于关闭状态的所有警告或 __/w__*n*__5038__以便作为级别 C5038 *n*警告。 有关详细信息，请参阅[编译器警告，将关闭默认](../../preprocessor/compiler-warnings-that-are-off-by-default.md)。 有关如何通过编译器版本禁用警告的信息，请参阅[按编译器版本的编译器警告](compiler-warnings-by-compiler-version.md)。

## <a name="example"></a>示例

在下面的示例中，Visual Studio 2017 版本 15.3 （与 /Wall) 引发"警告 C5038: A::y 将初始化数据成员 A::x 后的数据成员":

```cpp
struct A
{
    A(int a) : y(a), x(y) {} // C5938 Initialized in reverse, y reused
    int x;
    int y;
};
```

若要解决此问题，排列初始值设定项列表具有声明顺序相同。 如果一个或两个初始化表达式同时引用基类成员，则会引发类似警告。
