---
title: "CWnd 类 |Microsoft 文档"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- devlang-cpp
ms.tgt_pltfrm: 
ms.topic: reference
f1_keywords:
- CWnd
- AFXWIN/CWnd
- AFXWIN/CWnd::CWnd
- AFXWIN/CWnd::accDoDefaultAction
- AFXWIN/CWnd::accHitTest
- AFXWIN/CWnd::accLocation
- AFXWIN/CWnd::accNavigate
- AFXWIN/CWnd::accSelect
- AFXWIN/CWnd::AnimateWindow
- AFXWIN/CWnd::ArrangeIconicWindows
- AFXWIN/CWnd::Attach
- AFXWIN/CWnd::BeginModalState
- AFXWIN/CWnd::BeginPaint
- AFXWIN/CWnd::BindDefaultProperty
- AFXWIN/CWnd::BindProperty
- AFXWIN/CWnd::BringWindowToTop
- AFXWIN/CWnd::CalcWindowRect
- AFXWIN/CWnd::CancelToolTips
- AFXWIN/CWnd::CenterWindow
- AFXWIN/CWnd::ChangeClipboardChain
- AFXWIN/CWnd::CheckDlgButton
- AFXWIN/CWnd::CheckRadioButton
- AFXWIN/CWnd::ChildWindowFromPoint
- AFXWIN/CWnd::ClientToScreen
- AFXWIN/CWnd::CloseWindow
- AFXWIN/CWnd::ContinueModal
- AFXWIN/CWnd::Create
- AFXWIN/CWnd::CreateAccessibleProxy
- AFXWIN/CWnd::CreateCaret
- AFXWIN/CWnd::CreateControl
- AFXWIN/CWnd::CreateEx
- AFXWIN/CWnd::CreateGrayCaret
- AFXWIN/CWnd::CreateSolidCaret
- AFXWIN/CWnd::DeleteTempMap
- AFXWIN/CWnd::DestroyWindow
- AFXWIN/CWnd::Detach
- AFXWIN/CWnd::DlgDirList
- AFXWIN/CWnd::DlgDirListComboBox
- AFXWIN/CWnd::DlgDirSelect
- AFXWIN/CWnd::DlgDirSelectComboBox
- AFXWIN/CWnd::DragAcceptFiles
- AFXWIN/CWnd::DragDetect
- AFXWIN/CWnd::DrawAnimatedRects
- AFXWIN/CWnd::DrawCaption
- AFXWIN/CWnd::DrawMenuBar
- AFXWIN/CWnd::EnableActiveAccessibility
- AFXWIN/CWnd::EnableDynamicLayout
- AFXWIN/CWnd::EnableD2DSupport
- AFXWIN/CWnd::EnableScrollBar
- AFXWIN/CWnd::EnableScrollBarCtrl
- AFXWIN/CWnd::EnableToolTips
- AFXWIN/CWnd::EnableTrackingToolTips
- AFXWIN/CWnd::EnableWindow
- AFXWIN/CWnd::EndModalLoop
- AFXWIN/CWnd::EndModalState
- AFXWIN/CWnd::EndPaint
- AFXWIN/CWnd::ExecuteDlgInit
- AFXWIN/CWnd::FilterToolTipMessage
- AFXWIN/CWnd::FindWindow
- AFXWIN/CWnd::FindWindowEx
- AFXWIN/CWnd::FlashWindow
- AFXWIN/CWnd::FlashWindowEx
- AFXWIN/CWnd::FromHandle
- AFXWIN/CWnd::FromHandlePermanent
- AFXWIN/CWnd::get_accChild
- AFXWIN/CWnd::get_accChildCount
- AFXWIN/CWnd::get_accDefaultAction
- AFXWIN/CWnd::get_accDescription
- AFXWIN/CWnd::get_accFocus
- AFXWIN/CWnd::get_accHelp
- AFXWIN/CWnd::get_accHelpTopic
- AFXWIN/CWnd::get_accKeyboardShortcut
- AFXWIN/CWnd::get_accName
- AFXWIN/CWnd::get_accParent
- AFXWIN/CWnd::get_accRole
- AFXWIN/CWnd::get_accSelection
- AFXWIN/CWnd::get_accState
- AFXWIN/CWnd::get_accValue
- AFXWIN/CWnd::GetActiveWindow
- AFXWIN/CWnd::GetAncestor
- AFXWIN/CWnd::GetCapture
- AFXWIN/CWnd::GetCaretPos
- AFXWIN/CWnd::GetCheckedRadioButton
- AFXWIN/CWnd::GetClientRect
- AFXWIN/CWnd::GetClipboardOwner
- AFXWIN/CWnd::GetClipboardViewer
- AFXWIN/CWnd::GetControlUnknown
- AFXWIN/CWnd::GetDC
- AFXWIN/CWnd::GetDCEx
- AFXWIN/CWnd::GetDCRenderTarget
- AFXWIN/CWnd::GetDescendantWindow
- AFXWIN/CWnd::GetDesktopWindow
- AFXWIN/CWnd::GetDlgCtrlID
- AFXWIN/CWnd::GetDlgItem
- AFXWIN/CWnd::GetDlgItemInt
- AFXWIN/CWnd::GetDlgItemText
- AFXWIN/CWnd::GetDSCCursor
- AFXWIN/CWnd::GetDynamicLayout
- AFXWIN/CWnd::GetExStyle
- AFXWIN/CWnd::GetFocus
- AFXWIN/CWnd::GetFont
- AFXWIN/CWnd::GetForegroundWindow
- AFXWIN/CWnd::GetIcon
- AFXWIN/CWnd::GetLastActivePopup
- AFXWIN/CWnd::GetLayeredWindowAttributes
- AFXWIN/CWnd::GetMenu
- AFXWIN/CWnd::GetNextDlgGroupItem
- AFXWIN/CWnd::GetNextDlgTabItem
- AFXWIN/CWnd::GetNextWindow
- AFXWIN/CWnd::GetOleControlSite
- AFXWIN/CWnd::GetOpenClipboardWindow
- AFXWIN/CWnd::GetOwner
- AFXWIN/CWnd::GetParent
- AFXWIN/CWnd::GetParentFrame
- AFXWIN/CWnd::GetParentOwner
- AFXWIN/CWnd::GetProperty
- AFXWIN/CWnd::GetRenderTarget
- AFXWIN/CWnd::GetSafeHwnd
- AFXWIN/CWnd::GetSafeOwner
- AFXWIN/CWnd::GetScrollBarCtrl
- AFXWIN/CWnd::GetScrollBarInfo
- AFXWIN/CWnd::GetScrollInfo
- AFXWIN/CWnd::GetScrollLimit
- AFXWIN/CWnd::GetScrollPos
- AFXWIN/CWnd::GetScrollRange
- AFXWIN/CWnd::GetStyle
- AFXWIN/CWnd::GetSystemMenu
- AFXWIN/CWnd::GetTitleBarInfo
- AFXWIN/CWnd::GetTopLevelFrame
- AFXWIN/CWnd::GetTopLevelOwner
- AFXWIN/CWnd::GetTopLevelParent
- AFXWIN/CWnd::GetTopWindow
- AFXWIN/CWnd::GetUpdateRect
- AFXWIN/CWnd::GetUpdateRgn
- AFXWIN/CWnd::GetWindow
- AFXWIN/CWnd::GetWindowContextHelpId
- AFXWIN/CWnd::GetWindowDC
- AFXWIN/CWnd::GetWindowedChildCount
- AFXWIN/CWnd::GetWindowInfo
- AFXWIN/CWnd::GetWindowlessChildCount
- AFXWIN/CWnd::GetWindowPlacement
- AFXWIN/CWnd::GetWindowRect
- AFXWIN/CWnd::GetWindowRgn
- AFXWIN/CWnd::GetWindowText
- AFXWIN/CWnd::GetWindowTextLength
- AFXWIN/CWnd::HideCaret
- AFXWIN/CWnd::HiliteMenuItem
- AFXWIN/CWnd::HtmlHelp
- AFXWIN/CWnd::Invalidate
- AFXWIN/CWnd::InvalidateRect
- AFXWIN/CWnd::InvalidateRgn
- AFXWIN/CWnd::InvokeHelper
- AFXWIN/CWnd::IsChild
- AFXWIN/CWnd::IsD2DSupportEnabled
- AFXWIN/CWnd::IsDialogMessage
- AFXWIN/CWnd::IsDlgButtonChecked
- AFXWIN/CWnd::IsDynamicLayoutEnabled
- AFXWIN/CWnd::IsIconic
- AFXWIN/CWnd::IsTouchWindow
- AFXWIN/CWnd::IsWindowEnabled
- AFXWIN/CWnd::IsWindowVisible
- AFXWIN/CWnd::IsZoomed
- AFXWIN/CWnd::KillTimer
- AFXWIN/CWnd::LockWindowUpdate
- AFXWIN/CWnd::MapWindowPoints
- AFXWIN/CWnd::MessageBox
- AFXWIN/CWnd::ModifyStyle
- AFXWIN/CWnd::ModifyStyleEx
- AFXWIN/CWnd::MoveWindow
- AFXWIN/CWnd::NotifyWinEvent
- AFXWIN/CWnd::OnAmbientProperty
- AFXWIN/CWnd::OnDrawIconicThumbnailOrLivePreview
- AFXWIN/CWnd::OnHelp
- AFXWIN/CWnd::OnHelpFinder
- AFXWIN/CWnd::OnHelpIndex
- AFXWIN/CWnd::OnHelpUsing
- AFXWIN/CWnd::OnToolHitTest
- AFXWIN/CWnd::OpenClipboard
- AFXWIN/CWnd::PaintWindowlessControls
- AFXWIN/CWnd::PostMessage
- AFXWIN/CWnd::PreCreateWindow
- AFXWIN/CWnd::PreSubclassWindow
- AFXWIN/CWnd::PreTranslateMessage
- AFXWIN/CWnd::Print
- AFXWIN/CWnd::PrintClient
- AFXWIN/CWnd::PrintWindow
- AFXWIN/CWnd::RedrawWindow
- AFXWIN/CWnd::RegisterTouchWindow
- AFXWIN/CWnd::ReleaseDC
- AFXWIN/CWnd::RepositionBars
- AFXWIN/CWnd::RunModalLoop
- AFXWIN/CWnd::ScreenToClient
- AFXWIN/CWnd::ScrollWindow
- AFXWIN/CWnd::ScrollWindowEx
- AFXWIN/CWnd::SendChildNotifyLastMsg
- AFXWIN/CWnd::SendDlgItemMessage
- AFXWIN/CWnd::SendMessage
- AFXWIN/CWnd::SendMessageToDescendants
- AFXWIN/CWnd::SendNotifyMessage
- AFXWIN/CWnd::SetActiveWindow
- AFXWIN/CWnd::SetCapture
- AFXWIN/CWnd::SetCaretPos
- AFXWIN/CWnd::SetClipboardViewer
- AFXWIN/CWnd::SetDlgCtrlID
- AFXWIN/CWnd::SetDlgItemInt
- AFXWIN/CWnd::SetDlgItemText
- AFXWIN/CWnd::SetFocus
- AFXWIN/CWnd::SetFont
- AFXWIN/CWnd::SetForegroundWindow
- AFXWIN/CWnd::SetIcon
- AFXWIN/CWnd::SetLayeredWindowAttributes
- AFXWIN/CWnd::SetMenu
- AFXWIN/CWnd::SetOwner
- AFXWIN/CWnd::SetParent
- AFXWIN/CWnd::SetProperty
- AFXWIN/CWnd::SetRedraw
- AFXWIN/CWnd::SetScrollInfo
- AFXWIN/CWnd::SetScrollPos
- AFXWIN/CWnd::SetScrollRange
- AFXWIN/CWnd::SetTimer
- AFXWIN/CWnd::SetWindowContextHelpId
- AFXWIN/CWnd::SetWindowPlacement
- AFXWIN/CWnd::SetWindowPos
- AFXWIN/CWnd::SetWindowRgn
- AFXWIN/CWnd::SetWindowText
- AFXWIN/CWnd::ShowCaret
- AFXWIN/CWnd::ShowOwnedPopups
- AFXWIN/CWnd::ShowScrollBar
- AFXWIN/CWnd::ShowWindow
- AFXWIN/CWnd::SubclassDlgItem
- AFXWIN/CWnd::SubclassWindow
- AFXWIN/CWnd::UnlockWindowUpdate
- AFXWIN/CWnd::UnsubclassWindow
- AFXWIN/CWnd::UpdateData
- AFXWIN/CWnd::UpdateDialogControls
- AFXWIN/CWnd::UpdateLayeredWindow
- AFXWIN/CWnd::UpdateWindow
- AFXWIN/CWnd::ValidateRect
- AFXWIN/CWnd::ValidateRgn
- AFXWIN/CWnd::WindowFromPoint
- AFXWIN/CWnd::WinHelp
- AFXWIN/CWnd::Default
- AFXWIN/CWnd::DefWindowProc
- AFXWIN/CWnd::DoDataExchange
- AFXWIN/CWnd::GetCurrentMessage
- AFXWIN/CWnd::InitDynamicLayout
- AFXWIN/CWnd::LoadDynamicLayoutResource
- AFXWIN/CWnd::OnActivate
- AFXWIN/CWnd::OnActivateApp
- AFXWIN/CWnd::OnAppCommand
- AFXWIN/CWnd::OnAskCbFormatName
- AFXWIN/CWnd::OnCancelMode
- AFXWIN/CWnd::OnCaptureChanged
- AFXWIN/CWnd::OnChangeCbChain
- AFXWIN/CWnd::OnChangeUIState
- AFXWIN/CWnd::OnChar
- AFXWIN/CWnd::OnCharToItem
- AFXWIN/CWnd::OnChildActivate
- AFXWIN/CWnd::OnChildNotify
- AFXWIN/CWnd::OnClipboardUpdate
- AFXWIN/CWnd::OnClose
- AFXWIN/CWnd::OnColorizationColorChanged
- AFXWIN/CWnd::OnCommand
- AFXWIN/CWnd::OnCompacting
- AFXWIN/CWnd::OnCompareItem
- AFXWIN/CWnd::OnCompositionChanged
- AFXWIN/CWnd::OnContextMenu
- AFXWIN/CWnd::OnCopyData
- AFXWIN/CWnd::OnCreate
- AFXWIN/CWnd::OnCtlColor
- AFXWIN/CWnd::OnDeadChar
- AFXWIN/CWnd::OnDeleteItem
- AFXWIN/CWnd::OnDestroy
- AFXWIN/CWnd::OnDestroyClipboard
- AFXWIN/CWnd::OnDeviceChange
- AFXWIN/CWnd::OnDevModeChange
- AFXWIN/CWnd::OnDrawClipboard
- AFXWIN/CWnd::OnDrawItem
- AFXWIN/CWnd::OnDropFiles
- AFXWIN/CWnd::OnEnable
- AFXWIN/CWnd::OnEndSession
- AFXWIN/CWnd::OnEnterIdle
- AFXWIN/CWnd::OnEnterMenuLoop
- AFXWIN/CWnd::OnEnterSizeMove
- AFXWIN/CWnd::OnEraseBkgnd
- AFXWIN/CWnd::OnExitMenuLoop
- AFXWIN/CWnd::OnExitSizeMove
- AFXWIN/CWnd::OnFontChange
- AFXWIN/CWnd::OnGetDlgCode
- AFXWIN/CWnd::OnGetMinMaxInfo
- AFXWIN/CWnd::OnHelpInfo
- AFXWIN/CWnd::OnHotKey
- AFXWIN/CWnd::OnHScroll
- AFXWIN/CWnd::OnHScrollClipboard
- AFXWIN/CWnd::OnIconEraseBkgnd
- AFXWIN/CWnd::OnInitMenu
- AFXWIN/CWnd::OnInitMenuPopup
- AFXWIN/CWnd::OnInputDeviceChange
- AFXWIN/CWnd::OnInputLangChange
- AFXWIN/CWnd::OnInputLangChangeRequest
- AFXWIN/CWnd::OnKeyDown
- AFXWIN/CWnd::OnKeyUp
- AFXWIN/CWnd::OnKillFocus
- AFXWIN/CWnd::OnLButtonDblClk
- AFXWIN/CWnd::OnLButtonDown
- AFXWIN/CWnd::OnLButtonUp
- AFXWIN/CWnd::OnMButtonDblClk
- AFXWIN/CWnd::OnMButtonDown
- AFXWIN/CWnd::OnMButtonUp
- AFXWIN/CWnd::OnMDIActivate
- AFXWIN/CWnd::OnMeasureItem
- AFXWIN/CWnd::OnMenuChar
- AFXWIN/CWnd::OnMenuDrag
- AFXWIN/CWnd::OnMenuGetObject
- AFXWIN/CWnd::OnMenuRButtonUp
- AFXWIN/CWnd::OnMenuSelect
- AFXWIN/CWnd::OnMouseActivate
- AFXWIN/CWnd::OnMouseHover
- AFXWIN/CWnd::OnMouseHWheel
- AFXWIN/CWnd::OnMouseLeave
- AFXWIN/CWnd::OnMouseMove
- AFXWIN/CWnd::OnMouseWheel
- AFXWIN/CWnd::OnMove
- AFXWIN/CWnd::OnMoving
- AFXWIN/CWnd::OnNcActivate
- AFXWIN/CWnd::OnNcCalcSize
- AFXWIN/CWnd::OnNcCreate
- AFXWIN/CWnd::OnNcDestroy
- AFXWIN/CWnd::OnNcHitTest
- AFXWIN/CWnd::OnNcLButtonDblClk
- AFXWIN/CWnd::OnNcLButtonDown
- AFXWIN/CWnd::OnNcLButtonUp
- AFXWIN/CWnd::OnNcMButtonDblClk
- AFXWIN/CWnd::OnNcMButtonDown
- AFXWIN/CWnd::OnNcMButtonUp
- AFXWIN/CWnd::OnNcMouseHover
- AFXWIN/CWnd::OnNcMouseLeave
- AFXWIN/CWnd::OnNcMouseMove
- AFXWIN/CWnd::OnNcPaint
- AFXWIN/CWnd::OnNcRButtonDblClk
- AFXWIN/CWnd::OnNcRButtonDown
- AFXWIN/CWnd::OnNcRButtonUp
- AFXWIN/CWnd::OnNcRenderingChanged
- AFXWIN/CWnd::OnNcXButtonDblClk
- AFXWIN/CWnd::OnNcXButtonDown
- AFXWIN/CWnd::OnNcXButtonUp
- AFXWIN/CWnd::OnNextMenu
- AFXWIN/CWnd::OnNotify
- AFXWIN/CWnd::OnNotifyFormat
- AFXWIN/CWnd::OnPaint
- AFXWIN/CWnd::OnPaintClipboard
- AFXWIN/CWnd::OnPaletteChanged
- AFXWIN/CWnd::OnPaletteIsChanging
- AFXWIN/CWnd::OnParentNotify
- AFXWIN/CWnd::OnPowerBroadcast
- AFXWIN/CWnd::OnQueryDragIcon
- AFXWIN/CWnd::OnQueryEndSession
- AFXWIN/CWnd::OnQueryNewPalette
- AFXWIN/CWnd::OnQueryOpen
- AFXWIN/CWnd::OnQueryUIState
- AFXWIN/CWnd::OnRawInput
- AFXWIN/CWnd::OnRButtonDblClk
- AFXWIN/CWnd::OnRButtonDown
- AFXWIN/CWnd::OnRButtonUp
- AFXWIN/CWnd::OnRenderAllFormats
- AFXWIN/CWnd::OnRenderFormat
- AFXWIN/CWnd::OnSessionChange
- AFXWIN/CWnd::OnSetCursor
- AFXWIN/CWnd::OnSetFocus
- AFXWIN/CWnd::OnSettingChange
- AFXWIN/CWnd::OnShowWindow
- AFXWIN/CWnd::OnSize
- AFXWIN/CWnd::OnSizeClipboard
- AFXWIN/CWnd::OnSizing
- AFXWIN/CWnd::OnSpoolerStatus
- AFXWIN/CWnd::OnStyleChanged
- AFXWIN/CWnd::OnStyleChanging
- AFXWIN/CWnd::OnSysChar
- AFXWIN/CWnd::OnSysColorChange
- AFXWIN/CWnd::OnSysCommand
- AFXWIN/CWnd::OnSysDeadChar
- AFXWIN/CWnd::OnSysKeyDown
- AFXWIN/CWnd::OnSysKeyUp
- AFXWIN/CWnd::OnTCard
- AFXWIN/CWnd::OnTimeChange
- AFXWIN/CWnd::OnTimer
- AFXWIN/CWnd::OnTouchInput
- AFXWIN/CWnd::OnTouchInputs
- AFXWIN/CWnd::OnUniChar
- AFXWIN/CWnd::OnUnInitMenuPopup
- AFXWIN/CWnd::OnUpdateUIState
- AFXWIN/CWnd::OnUserChanged
- AFXWIN/CWnd::OnVKeyToItem
- AFXWIN/CWnd::OnVScroll
- AFXWIN/CWnd::OnVScrollClipboard
- AFXWIN/CWnd::OnWindowPosChanged
- AFXWIN/CWnd::OnWindowPosChanging
- AFXWIN/CWnd::OnWinIniChange
- AFXWIN/CWnd::OnWndMsg
- AFXWIN/CWnd::OnXButtonDblClk
- AFXWIN/CWnd::OnXButtonDown
- AFXWIN/CWnd::OnXButtonUp
- AFXWIN/CWnd::PostNcDestroy
- AFXWIN/CWnd::ReflectChildNotify
- AFXWIN/CWnd::ReflectLastMsg
- AFXWIN/CWnd::ResizeDynamicLayout
- AFXWIN/CWnd::WindowProc
- AFXWIN/CWnd::m_hWnd
dev_langs:
- C++
helpviewer_keywords:
- windows [C++]
- window objects [C++]
- CWnd class
ms.assetid: 49a832ee-bc34-4126-88b3-bc1d9974f6c4
caps.latest.revision: 27
author: mikeblome
ms.author: mblome
manager: ghogen
translation.priority.ht:
- cs-cz
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- pl-pl
- pt-br
- ru-ru
- tr-tr
- zh-cn
- zh-tw
translationtype: Machine Translation
ms.sourcegitcommit: a82768750e6a7837bb81edd8a51847f83c294c20
ms.openlocfilehash: 8888bd1296b5397daf288fa81f00a8783d9cde46
ms.lasthandoff: 04/04/2017

---
# <a name="cwnd-class"></a>CWnd 类
提供 Microsoft 基础类库中所有窗口类的基本功能。  
  
## <a name="syntax"></a>语法  
  
```  
class CWnd : public CCmdTarget  
```  
  
## <a name="members"></a>成员  
  
### <a name="public-constructors"></a>公共构造函数  
  
|名称|描述|  
|----------|-----------------|  
|[CWnd::CWnd](#cwnd)|构造 `CWnd` 对象。|  
  
### <a name="public-methods"></a>公共方法  
  
|名称|说明|  
|----------|-----------------|  
|[CWnd::accDoDefaultAction](#accdodefaultaction)|由框架调用以执行对象的默认操作。|  
|[CWnd::accHitTest](#acchittest)|由框架调用以检索屏幕上给定点处的子元素或子对象。|  
|[CWnd::accLocation](#acclocation)|由框架调用以检索指定对象的当前屏幕位置。|  
|[CWnd::accNavigate](#accnavigate)|由框架调用以移到容器内的另一个用户界面元素，如果可能还检索对象。|  
|[CWnd::accSelect](#accselect)|由框架调用以修改选定内容或移动指定对象的键盘焦点。|  
|[CWnd::AnimateWindow](#animatewindow)|对关联窗口对象进行动画处理。|  
|[CWnd::ArrangeIconicWindows](#arrangeiconicwindows)|排列所有最小化（图标）子窗口。|  
|[CWnd::Attach](#attach)|将 Windows 句柄附加到 `CWnd` 对象。|  
|[CWnd::BeginModalState](#beginmodalstate)|调用此成员函数以使框架窗口具有模式。|  
|[Cwnd:: Beginpaint](#beginpaint)|为进行绘制准备好 `CWnd`。|  
|[CWnd::BindDefaultProperty](#binddefaultproperty)|将调用对象的默认简单绑定属性（按照在类型库中进行的标记）绑定到与数据源控件关联的光标。|  
|[CWnd::BindProperty](#bindproperty)|将数据绑定控件上的光标绑定属性绑定到数据源控件，并向 MFC 绑定管理器注册该关系。|  
|[CWnd::BringWindowToTop](#bringwindowtotop)|将 `CWnd` 置于一堆重叠窗口的顶部。|  
|[CWnd::CalcWindowRect](#calcwindowrect)|调用以从客户端矩形计算窗口矩形。|  
|[CWnd::CancelToolTips](#canceltooltips)|禁用工具提示控件。|  
|[CWnd::CenterWindow](#centerwindow)|使窗口相对于其父级居中。|  
|[CWnd::ChangeClipboardChain](#changeclipboardchain)|从剪贴板查看器链中移除 `CWnd`。|  
|[CWnd::CheckDlgButton](#checkdlgbutton)|将复选标记置于按钮控件旁，或从按钮控件移除复选标记。|  
|[CWnd::CheckRadioButton](#checkradiobutton)|选中指定单选按钮，并从指定按钮组中的所有其他单选按钮移除复选标记。|  
|[CWnd::ChildWindowFromPoint](#childwindowfrompoint)|确定哪些（如果有）子窗口包含指定点。|  
|[CWnd::ClientToScreen](#clienttoscreen)|将显示中的给定点或矩形的客户端坐标转换为屏幕坐标。|  
|[CWnd::CloseWindow](#closewindow)|最小化窗口。|  
|[CWnd::ContinueModal](#continuemodal)|继续窗口的模式状态。|  
|[Cwnd:: Create](#create)|创建并初始化与 `CWnd` 对象关联的子窗口。|  
|[CWnd::CreateAccessibleProxy](#createaccessibleproxy)|为指定对象创建 Active Accessibility 代理服务器。|  
|[CWnd::CreateCaret](#createcaret)|为系统插入符号创建新形状并获取插入符号的所有权。|  
|[Cwnd:: Createcontrol](#createcontrol)|创建在 MFC 程序中由 `CWnd` 对象表示的 ActiveX 控件。|  
|[CWnd::CreateEx](#createex)|创建 Windows 重叠、弹出或子窗口，并将它附加到 `CWnd` 对象。|  
|[CWnd::CreateGrayCaret](#creategraycaret)|为系统插入符号创建灰色块并获取插入符号的所有权。|  
|[CWnd::CreateSolidCaret](#createsolidcaret)|为系统插入符号创建实心块并获取插入符号的所有权。|  
|[CWnd::DeleteTempMap](#deletetempmap)|由 `CWinApp` 空闲时间处理程序自动调用，删除任何由 `FromHandle` 创建的临时 `CWnd` 对象。|  
|[Cwnd:: Destroywindow](#destroywindow)|销毁附加的 Windows 窗口。|  
|[CWnd::Detach](#detach)|从 `CWnd` 对象分离 Windows 句柄并返回该句柄。|  
|[CWnd::DlgDirList](#dlgdirlist)|使用文件或目录列表填充列表框。|  
|[CWnd::DlgDirListComboBox](#dlgdirlistcombobox)|使用文件或目录列表填充组合框的列表框。|  
|[CWnd::DlgDirSelect](#dlgdirselect)|从列表框检索当前所选内容。|  
|[CWnd::DlgDirSelectComboBox](#dlgdirselectcombobox)|从组合框的列表框检索当前所选内容。|  
|[CWnd::DragAcceptFiles](#dragacceptfiles)|指示窗口将接受拖动的文件。|  
|[CWnd::DragDetect](#dragdetect)|捕获鼠标并跟踪其移动，直到用户释放左键、按 ESC 键或将鼠标移动到围绕指定点的拖动矩形外部。|  
|[CWnd::DrawAnimatedRects](#drawanimatedrects)|绘制透明框架矩形并对它进行动画处理，以指示图标的打开或是窗口的最小化或最大化。|  
|[CWnd::DrawCaption](#drawcaption)|绘制标题。|  
|[CWnd::DrawMenuBar](#drawmenubar)|重绘菜单栏。|  
|[CWnd::EnableActiveAccessibility](#enableactiveaccessibility)|启用用户定义的 `Active Accessibility` 函数。|  
|[Cwnd:: Enabledynamiclayout](#enabledynamiclayout)|使子窗口的位置和大小可以在用户调整窗口大小时动态调整。|  
|[CWnd::EnableD2DSupport](#enabled2dsupport)|启用或禁用窗口 `D2D` 支持。 在初始化主窗口之前调用此方法。|  
|[CWnd::EnableScrollBar](#enablescrollbar)|启用或禁用滚动条的一个或两个箭头。|  
|[CWnd::EnableScrollBarCtrl](#enablescrollbarctrl)|启用或禁用同级滚动条控件。|  
|[CWnd::EnableToolTips](#enabletooltips)|启用工具提示控件。|  
|[CWnd::EnableTrackingToolTips](#enabletrackingtooltips)|在跟踪模式下启用工具提示控件。|  
|[CWnd::EnableWindow](#enablewindow)|启用或禁用鼠标和键盘输入。|  
|[CWnd::EndModalLoop](#endmodalloop)|启用窗口的模式状态。|  
|[CWnd::EndModalState](#endmodalstate)|调用此成员函数以将框架窗口从有模式更改为无模式。|  
|[CWnd::EndPaint](#endpaint)|标记绘制的末尾。|  
|[CWnd::ExecuteDlgInit](#executedlginit)|启动对话框资源。|  
|[CWnd::FilterToolTipMessage](#filtertooltipmessage)|检索与对话框中的控件关联的标题或文本。|  
|[CWnd::FindWindow](#findwindow)|返回由其窗口名和窗口类标识的窗口的句柄。|  
|[CWnd::FindWindowEx](#findwindowex)|返回由其窗口名和窗口类标识的窗口的句柄。|  
|[CWnd::FlashWindow](#flashwindow)|使窗口闪烁一次。|  
|[CWnd::FlashWindowEx](#flashwindowex)|使具有其他功能的窗口闪烁。|  
|[Cwnd:: Fromhandle](#fromhandle)|在提供了窗口的句柄时返回指向 `CWnd` 对象的指针。 如果 `CWnd` 对象未附加到该句柄，则会创建并附加一个临时 `CWnd` 对象。|  
|[CWnd::FromHandlePermanent](#fromhandlepermanent)|在提供了窗口的句柄时返回指向 `CWnd` 对象的指针。 如果 `CWnd` 对象未附加到该句柄，则会创建并附加一个临时 `CWnd` 对象。|  
|[CWnd::get_accChild](#get_accchild)|由框架调用以检索指定子级的 `IDispatch` 接口地址。|  
|[CWnd::get_accChildCount](#get_accchildcount)|由框架调用调用以检索属于该对象的子级的个数。|  
|[CWnd::get_accDefaultAction](#get_accdefaultaction)|由框架调用以检索描述对象默认操作的字符串。|  
|[CWnd::get_accDescription](#get_accdescription)|由框架调用以检索描述指定对象的可视外观的字符串。|  
|[CWnd::get_accFocus](#get_accfocus)|由框架调用以检索具有键盘焦点的对象。|  
|[CWnd::get_accHelp](#get_acchelp)|由框架用于检索对象的调用**帮助**属性字符串。|  
|[CWnd::get_accHelpTopic](#get_acchelptopic)|由框架调用以检索与指定对象关联的 `WinHelp` 文件的完整路径以及该文件内相应主题的标识符。|  
|[CWnd::get_accKeyboardShortcut](#get_acckeyboardshortcut)|由框架调用以检索指定对象的快捷键或访问键。|  
|[CWnd::get_accName](#get_accname)|由框架调用以检索指定对象的名称。|  
|[CWnd::get_accParent](#get_accparent)|由框架调用以检索对象父级的 `IDispatch` 接口。|  
|[CWnd::get_accRole](#get_accrole)|由框架调用以检索描述指定对象的角色的信息。|  
|[CWnd::get_accSelection](#get_accselection)|由框架调用以检索该对象的选定子级。|  
|[CWnd::get_accState](#get_accstate)|由框架调用以检索指定对象的当前状态。|  
|[CWnd::get_accValue](#get_accvalue)|由框架调用以检索指定对象的值。|  
|[CWnd::GetActiveWindow](#getactivewindow)|检索活动窗口。|  
|[CWnd::GetAncestor](#getancestor)|检索指定窗口的上级先窗口对象。|  
|[CWnd::GetCapture](#getcapture)|检索具有鼠标捕获的 `CWnd`。|  
|[CWnd::GetCaretPos](#getcaretpos)|检索插入符号的当前位置的客户端坐标。|  
|[CWnd::GetCheckedRadioButton](#getcheckedradiobutton)|返回按钮中当前选中的单选按钮的 ID。|  
|[CWnd::GetClientRect](#getclientrect)|获取 `CWnd` 工作区的尺寸。|  
|[CWnd::GetClipboardOwner](#getclipboardowner)|检索指向剪贴板当前所有者的指针。|  
|[CWnd::GetClipboardViewer](#getclipboardviewer)|检索指向剪贴板查看器链中第一个窗口的指针。|  
|[CWnd::GetControlUnknown](#getcontrolunknown)|检索指向未知 ActiveX 控件的指针。|  
|[Cwnd:: Getdc](#getdc)|检索工作区的显示上下文。|  
|[CWnd::GetDCEx](#getdcex)|检索工作区的显示上下文，并在绘制启用剪辑。|  
|[CWnd::GetDCRenderTarget](#getdcrendertarget)|检索 `CWnd` 窗口的设备上下文 (DC) 呈现目标。|  
|[CWnd::GetDescendantWindow](#getdescendantwindow)|搜索所有子代窗口，并返回具有指定 ID 的窗口。|  
|[CWnd::GetDesktopWindow](#getdesktopwindow)|检索 Windows 桌面窗口。|  
|[CWnd::GetDlgCtrlID](#getdlgctrlid)|如果 `CWnd` 是子窗口，则调用此函数会返回其 ID 值。|  
|[CWnd::GetDlgItem](#getdlgitem)|从指定对话框中检索具有指定 ID 的控件。|  
|[CWnd::GetDlgItemInt](#getdlgitemint)|将给定对话框中控件的文本转换为整数值。|  
|[CWnd::GetDlgItemText](#getdlgitemtext)|检索与控件关联的标题或文本。|  
|[CWnd::GetDSCCursor](#getdsccursor)|检索指向由数据源控件的 DataSource、UserName、Password 和 SQL 属性定义的基础光标的指针。|  
|[Cwnd:: Getdynamiclayout](#getdynamiclayout)|检索指向动态布局管理器对象的指针。|  
|[CWnd::GetExStyle](#getexstyle)|返回窗口的扩展样式。|  
|[CWnd::GetFocus](#getfocus)|检索当前具有输入焦点的 `CWnd`。|  
|[CWnd::GetFont](#getfont)|检索当前字体。|  
|[CWnd::GetForegroundWindow](#getforegroundwindow)|返回指向前台窗口（用户当前正在使用的顶级窗口）的指针。|  
|[CWnd::GetIcon](#geticon)|检索图标的句柄。|  
|[CWnd::GetLastActivePopup](#getlastactivepopup)|确定最近处于活动状态的由 `CWnd` 拥有的弹出窗口。|  
|[CWnd::GetLayeredWindowAttributes](#getlayeredwindowattributes)|检索分层窗口的不透明度和透明度颜色键。|  
|[CWnd::GetMenu](#getmenu)|检索指向指定菜单的指针。|  
|[CWnd::GetNextDlgGroupItem](#getnextdlggroupitem)|在控件组中搜索的下一个（或上一个）控件。|  
|[CWnd::GetNextDlgTabItem](#getnextdlgtabitem)|检索与第一个控件[WS_TABSTOP](window-styles.md) （或之前） 指定的控件的样式。|  
|[CWnd::GetNextWindow](#getnextwindow)|返回窗口管理器列表中的下一个（或上一个）窗口。|  
|[CWnd::GetOleControlSite](#getolecontrolsite)|检索指定 ActiveX 控件的自定义站点。|  
|[CWnd::GetOpenClipboardWindow](#getopenclipboardwindow)|检索指向当前打开剪贴板的窗口的指针。|  
|[CWnd::GetOwner](#getowner)|检索指向 `CWnd` 所有者的指针。|  
|[CWnd::GetParent](#getparent)|检索 `CWnd` 的父窗口（如果有）。|  
|[CWnd::GetParentFrame](#getparentframe)|检索 `CWnd` 对象的父框架窗口。|  
|[CWnd::GetParentOwner](#getparentowner)|返回指向子窗口的父窗口的指针。|  
|[CWnd::GetProperty](#getproperty)|检索 ActiveX 控件属性。|  
|[CWnd::GetRenderTarget](#getrendertarget)|获取与此窗口相关联的呈现目标。|  
|[CWnd::GetSafeHwnd](#getsafehwnd)|返回 `m_hWnd`，如果 `this` 指针是 `NULL`，则返回 `NULL`。|  
|[CWnd::GetSafeOwner](#getsafeowner)|检索给定窗口的安全所有者。|  
|[Cwnd:: Getscrollbarctrl](#getscrollbarctrl)|返回同级滚动条控件。|  
|[CWnd::GetScrollBarInfo](#getscrollbarinfo)|检索有关指定滚动条的信息。|  
|[CWnd::GetScrollInfo](#getscrollinfo)|检索 `SCROLLINFO` 结构维护的有关滚动条的信息。|  
|[CWnd::GetScrollLimit](#getscrolllimit)|检索滚动条的限制。|  
|[CWnd::GetScrollPos](#getscrollpos)|检索滚动框的当前位置。|  
|[CWnd::GetScrollRange](#getscrollrange)|复制给定滚动条的当前最小和最大滚动条位置。|  
|[CWnd::GetStyle](#getstyle)|返回当前窗口样式。|  
|[CWnd::GetSystemMenu](#getsystemmenu)|允许应用程序访问控件菜单以进行复制和修改。|  
|[CWnd::GetTitleBarInfo](#gettitlebarinfo)|检索有关指定标题栏的信息。|  
|[CWnd::GetTopLevelFrame](#gettoplevelframe)|检索窗口的顶级框架窗口。|  
|[CWnd::GetTopLevelOwner](#gettoplevelowner)|检索顶级窗口。|  
|[CWnd::GetTopLevelParent](#gettoplevelparent)|检索窗口的顶级父级。|  
|[CWnd::GetTopWindow](#gettopwindow)|返回属于 `CWnd` 的第一个子窗口。|  
|[CWnd::GetUpdateRect](#getupdaterect)|检索完全包围 `CWnd` 更新区域的最小矩形的坐标。|  
|[CWnd::GetUpdateRgn](#getupdatergn)|检索 `CWnd` 更新区域。|  
|[CWnd::GetWindow](#getwindow)|返回与此窗口具有指定关系的窗口。|  
|[CWnd::GetWindowContextHelpId](#getwindowcontexthelpid)|检索帮助上下文标识符。|  
|[Cwnd:: Getwindowdc](#getwindowdc)|检索整个窗口的显示上下文，包括标题栏、菜单和滚动条。|  
|[CWnd::GetWindowedChildCount](#getwindowedchildcount)|返回关联子窗口的数量。|  
|[CWnd::GetWindowInfo](#getwindowinfo)|返回有关窗口的信息。|  
|[CWnd::GetWindowlessChildCount](#getwindowlesschildcount)|返回关联无窗口子窗口的数量。|  
|[CWnd::GetWindowPlacement](#getwindowplacement)|检索窗口的显示状态以及正常（已还原）、最小化和最大化位置。|  
|[CWnd::GetWindowRect](#getwindowrect)|获取 `CWnd` 的屏幕坐标。|  
|[CWnd::GetWindowRgn](#getwindowrgn)|检索窗口的窗口区域的副本。|  
|[CWnd::GetWindowText](#getwindowtext)|返回窗口文本或标题（如果有）。|  
|[CWnd::GetWindowTextLength](#getwindowtextlength)|返回窗口文本或标题的长度。|  
|[CWnd::HideCaret](#hidecaret)|通过从显示屏幕中移除来隐藏插入符号。|  
|[CWnd::HiliteMenuItem](#hilitemenuitem)|突出显示顶级（菜单栏）菜单项或从顶级（菜单栏）菜单项移除突出显示。|  
|[CWnd::HtmlHelp](#htmlhelp)|调用以启动 HTMLHelp 应用程序。|  
|[CWnd::Invalidate](#invalidate)|使整个工作区无效。|  
|[CWnd::InvalidateRect](#invalidaterect)|通过将给定矩形添加到当前更新区域，使该矩形内的工作区无效。|  
|[CWnd::InvalidateRgn](#invalidatergn)|通过将给定区域添加到当前更新区域，使该区域内的工作区无效。|  
|[CWnd::InvokeHelper](#invokehelper)|调用 ActiveX 控件方法或属性。|  
|[CWnd::IsChild](#ischild)|指示 `CWnd` 是否为指定窗口的子窗口或其他直接子代。|  
|[CWnd::IsD2DSupportEnabled](#isd2dsupportenabled)|确定是否启用 `D2D` 支持。|  
|[CWnd::IsDialogMessage](#isdialogmessage)|确定给定消息是否用于无模式对话框，如果是，则处理它。|  
|[CWnd::IsDlgButtonChecked](#isdlgbuttonchecked)|确定是否选中按钮控件。|  
|[Cwnd:: Isdynamiclayoutenabled](#isdynamiclayoutenabled)|确定是否在此窗口上启用动态布局。 如果启用动态布局，则子窗口的位置和大小可以在用户调整父窗口大小时进行更改。|  
|[CWnd::IsIconic](#isiconic)|确定 `CWnd` 是否进行最小化（图标化）。|  
|[CWnd::IsTouchWindow](#istouchwindow)|指定 `CWnd` 是否具有触摸支持。|  
|[CWnd::IsWindowEnabled](#iswindowenabled)|确定是否针对鼠标和键盘输入启用窗口。|  
|[CWnd::IsWindowVisible](#iswindowvisible)|确定窗口是否可见。|  
|[CWnd::IsZoomed](#iszoomed)|确定 `CWnd` 是否进行最大化。|  
|[CWnd::KillTimer](#killtimer)|终止系统计时器。|  
|[CWnd::LockWindowUpdate](#lockwindowupdate)|在给定窗口中禁用或重新启用绘制。|  
|[CWnd::MapWindowPoints](#mapwindowpoints)|将一组点从 `CWnd` 的坐标空间转换（映射）到另一个窗口的坐标空间。|  
|[CWnd::MessageBox](#messagebox)|创建并显示包含应用程序提供的消息和标题的窗口。|  
|[CWnd::ModifyStyle](#modifystyle)|修改当前窗口样式。|  
|[CWnd::ModifyStyleEx](#modifystyleex)|修改窗口的扩展样式。|  
|[CWnd::MoveWindow](#movewindow)|更改 `CWnd` 的位置和尺寸。|  
|[CWnd::NotifyWinEvent](#notifywinevent)|向系统发出信号，指出发生了预定义事件。|  
|[CWnd::OnAmbientProperty](#onambientproperty)|实现环境属性值。|  
|[CWnd::OnDrawIconicThumbnailOrLivePreview](#ondrawiconicthumbnailorlivepreview)|由框架在需要获取要在 Windows 7 选项卡缩略图上或客户端上（进行应用程序速览）显示的位图时进行调用。|  
|[CWnd::OnHelp](#onhelp)|处理应用程序中的 F1 帮助（使用当前上下文）。|  
|[CWnd::OnHelpFinder](#onhelpfinder)|处理 `ID_HELP_FINDER` 和 `ID_DEFAULT_HELP` 命令。|  
|[CWnd::OnHelpIndex](#onhelpindex)|处理 `ID_HELP_INDEX` 命令，并提供默认帮助主题。|  
|[CWnd::OnHelpUsing](#onhelpusing)|处理 `ID_HELP_USING` 命令。|  
|[CWnd::OnToolHitTest](#ontoolhittest)|确定点是否在指定工具的边框内并检索有关此工具的信息。|  
|[CWnd::OpenClipboard](#openclipboard)|打开剪贴板。 其他应用程序将无法修改剪贴板，直到 Windows [CloseClipboard](http://msdn.microsoft.com/library/windows/desktop/ms649035)调用函数。|  
|[CWnd::PaintWindowlessControls](#paintwindowlesscontrols)|在控件容器上绘制无窗口控件。|  
|[CWnd::PostMessage](#postmessage)|将消息置于应用程序队列中，然后返回而不等待窗口处理该消息。|  
|[CWnd::PreCreateWindow](#precreatewindow)|在创建附加到此 `CWnd` 对象的 Windows 窗口之前调用。|  
|[CWnd::PreSubclassWindow](#presubclasswindow)|允许创建其他必要的子类前允许发生[SubclassWindow](#subclasswindow)调用。|  
|[Cwnd:: Pretranslatemessage](#pretranslatemessage)|由 `CWinApp` 用于在窗口消息调度到 `TranslateMessage` 和 `DispatchMessage` Windows 函数之前筛选它们。|  
|[CWnd::Print](#print)|在指定设备上下文中绘制当前窗口。|  
|[CWnd::PrintClient](#printclient)|在指定设备上下文（通常是打印机设备上下文）中绘制任何窗口。|  
|[CWnd::PrintWindow](#printwindow)|将可视窗口复制到指定设备上下文（通常是打印机设备上下文）。|  
|[CWnd::RedrawWindow](#redrawwindow)|更新工作区中的指定矩形或区域。|  
|[CWnd::RegisterTouchWindow](#registertouchwindow)|注册/注销窗口 Windows 触摸支持。|  
|[Cwnd:: Releasedc](#releasedc)|释放客户端和窗口设备上下文，从而使它们可供其他应用程序使用。|  
|[CWnd::RepositionBars](#repositionbars)|在工作区中重新定位控件条。|  
|[CWnd::RunModalLoop](#runmodalloop)|为处于模式状态的窗口检索、转换或调度消息。|  
|[CWnd::ScreenToClient](#screentoclient)|将显示中的给定点或矩形的屏幕坐标转换为客户端坐标。|  
|[CWnd::ScrollWindow](#scrollwindow)|滚动工作区的内容。|  
|[CWnd::ScrollWindowEx](#scrollwindowex)|滚动工作区的内容。 类似于 `ScrollWindow`，不过具有附加功能。|  
|[CWnd::SendChildNotifyLastMsg](#sendchildnotifylastmsg)|从父窗口向子窗口提供通知消息，以便子窗口可以处理任务。|  
|[CWnd::SendDlgItemMessage](#senddlgitemmessage)|将消息发送到指定控件。|  
|[CWnd::SendMessage](#sendmessage)|将消息发送到 `CWnd` 对象并且不返回，直到它处理了消息。|  
|[CWnd::SendMessageToDescendants](#sendmessagetodescendants)|将消息发送到窗口的所有子代窗口。|  
|[CWnd::SendNotifyMessage](#sendnotifymessage)|将指定消息发送到窗口并尽快返回，具体取决于调用线程是否创建了窗口。|  
|[CWnd::SetActiveWindow](#setactivewindow)|激活窗口。|  
|[CWnd::SetCapture](#setcapture)|使所有后续鼠标输入都发送到 `CWnd`。|  
|[CWnd::SetCaretPos](#setcaretpos)|将插入符号移动到指定位置。|  
|[CWnd::SetClipboardViewer](#setclipboardviewer)|将 `CWnd` 添加到每当剪贴板内容发生更改时便会收到通知的窗口的链。|  
|[CWnd::SetDlgCtrlID](#setdlgctrlid)|为窗口（可以是任何子窗口，而不仅是对话框中的控件）设置窗口或控件 ID。|  
|[CWnd::SetDlgItemInt](#setdlgitemint)|将控件的文本设置为表示整数值的字符串。|  
|[CWnd::SetDlgItemText](#setdlgitemtext)|在指定对话框中设置控件的标题或文本。|  
|[CWnd::SetFocus](#setfocus)|声明输入焦点。|  
|[CWnd::SetFont](#setfont)|设置当前字体。|  
|[CWnd::SetForegroundWindow](#setforegroundwindow)|将创建窗口的线程置于前台，并激活窗口。|  
|[CWnd::SetIcon](#seticon)|设置特定图标的句柄。|  
|[CWnd::SetLayeredWindowAttributes](#setlayeredwindowattributes)|设置分层窗口的不透明度和透明度颜色键。|  
|[CWnd::SetMenu](#setmenu)|将菜单设置为指定菜单。|  
|[CWnd::SetOwner](#setowner)|更改 `CWnd` 的所有者。|  
|[CWnd::SetParent](#setparent)|更改父窗口。|  
|[CWnd::SetProperty](#setproperty)|设置 ActiveX 控件属性。|  
|[CWnd::SetRedraw](#setredraw)|允许重绘 `CWnd` 中的更改，或阻止重绘更改。|  
|[CWnd::SetScrollInfo](#setscrollinfo)|设置有关滚动条的信息。|  
|[CWnd::SetScrollPos](#setscrollpos)|设置滚动框的当前位置，并且（如果指定）重绘滚动条以反映新位置。|  
|[CWnd::SetScrollRange](#setscrollrange)|设置给定滚动条的最小和最大位置值。|  
|[CWnd::SetTimer](#settimer)|安装系统计时器发送[WM_TIMER](#ontimer)消息时触发。|  
|[CWnd::SetWindowContextHelpId](#setwindowcontexthelpid)|设置帮助上下文标识符。|  
|[CWnd::SetWindowPlacement](#setwindowplacement)|设置窗口的显示状态以及正常（已还原）、最小化和最大化位置。|  
|[CWnd::SetWindowPos](#setwindowpos)|更改子窗口、弹出窗口和顶级窗口的大小、位置和的顺序。|  
|[CWnd::SetWindowRgn](#setwindowrgn)|设置窗口的区域。|  
|[CWnd::SetWindowText](#setwindowtext)|将窗口文本或标题（如果有）设置为指定文本。|  
|[CWnd::ShowCaret](#showcaret)|在显示上插入符号的当前位置处显示插入符号。 显示之后，插入符号开始自动闪烁。|  
|[CWnd::ShowOwnedPopups](#showownedpopups)|显示或隐藏窗口所拥有的所有弹出窗口。|  
|[CWnd::ShowScrollBar](#showscrollbar)|显示或隐藏滚动条。|  
|[CWnd::ShowWindow](#showwindow)|显示或隐藏窗口。|  
|[CWnd::SubclassDlgItem](#subclassdlgitem)|将 Windows 控件附加到 `CWnd` 对象，并使它通过 `CWnd` 的消息映射来路由消息。|  
|[CWnd::SubclassWindow](#subclasswindow)|将窗口附加到 `CWnd` 对象，并使它通过 `CWnd` 的消息映射来路由消息。|  
|[CWnd::UnlockWindowUpdate](#unlockwindowupdate)|解锁使用 `CWnd::LockWindowUpdate` 锁定的窗口。|  
|[CWnd::UnsubclassWindow](#unsubclasswindow)|分离从窗口`CWnd`对象|  
|[CWnd::UpdateData](#updatedata)|从对话框初始化或检索数据。|  
|[CWnd::UpdateDialogControls](#updatedialogcontrols)|调用以更新对话框按钮和其他控件的状态。|  
|[CWnd::UpdateLayeredWindow](#updatelayeredwindow)|更新分层窗口的位置、大小、形状、内容和透明度。|  
|[CWnd::UpdateWindow](#updatewindow)|更新工作区。|  
|[CWnd::ValidateRect](#validaterect)|通过从当前更新区域移除给定矩形，来验证该矩形内的工作区。|  
|[CWnd::ValidateRgn](#validatergn)|通过从当前更新区域移除给定区域，来验证该区域内的工作区。|  
|[CWnd::WindowFromPoint](#windowfrompoint)|标识包含给定点的窗口。|  
|[CWnd::WinHelp](#winhelp)|调用以启动 WinHelp 应用程序。|  
  
### <a name="protected-methods"></a>受保护的方法  
  
|名称|描述|  
|----------|-----------------|  
|[CWnd::Default](#default)|调用默认窗口过程，该过程为应用程序不处理的任何窗口消息提供默认处理。|  
|[CWnd::DefWindowProc](#defwindowproc)|调用默认窗口过程，该过程为应用程序不处理的任何窗口消息提供默认处理。|  
|[CWnd::DoDataExchange](#dodataexchange)|用于对话框数据交换和验证。 由 `UpdateData` 调用。|  
|[CWnd::GetCurrentMessage](#getcurrentmessage)|返回指向此窗口当前正在处理的消息的指针。 仅应调用时`On`*消息*消息处理程序成员函数。|  
|[CWnd::InitDynamicLayout](#initdynamiclayout)|由框架调用以初始化窗口的动态布局。|  
|[CWnd::LoadDynamicLayoutResource](#loaddynamiclayoutresource)|从资源文件加载动态布局信息。|  
|[CWnd::OnActivate](#onactivate)|当正在激活或停用 `CWnd` 时调用。|  
|[Cwnd:: Onactivateapp](#onactivateapp)|要激活或停用应用程序时调用。|  
|[CWnd::OnAppCommand](#onappcommand)|当用户生成应用程序命令事件时调用。|  
|[CWnd::OnAskCbFormatName](#onaskcbformatname)|由剪贴板查看器应用程序在剪贴板所有者显示剪贴板内容时调用。|  
|[CWnd::OnCancelMode](#oncancelmode)|调用以允许 `CWnd` 取消任何内部模式（如鼠标捕获）。|  
|[CWnd::OnCaptureChanged](#oncapturechanged)|将消息发送到要失去鼠标捕获的窗口。|  
|[CWnd::OnChangeCbChain](#onchangecbchain)|通知正在从链中移除指定窗口。|  
|[CWnd::OnChangeUIState](#onchangeuistate)|在应更改用户界面 (UI) 状态时调用。|  
|[CWnd::OnChar](#onchar)|当击键转换为非系统字符时调用。|  
|[CWnd::OnCharToItem](#onchartoitem)|由使用的子列表框调用[LBS_WANTKEYBOARDINPUT](list-box-styles.md)样式以响应[WM_CHAR](#onchar)消息。|  
|[CWnd::OnChildActivate](#onchildactivate)|每当 `CWnd` 大小或位置更改或 `CWnd` 激活时，针对多文档界面 (MDI) 子窗口进行调用。|  
|[CWnd::OnChildNotify](#onchildnotify)|由父窗口调用以使通知控件有机会响应控件通知。|  
|[CWnd::OnClipboardUpdate](#onclipboardupdate)|在剪贴板内容已更改时调用。|  
|[CWnd::OnClose](#onclose)|作为指示 `CWnd` 应关闭的信号进行调用。|  
|[CWnd::OnColorizationColorChanged](#oncolorizationcolorchanged)|在非工作区的呈现策略已更改时调用。|  
|[CWnd::OnCommand](#oncommand)|当用户选择命令时调用。|  
|[CWnd::OnCompacting](#oncompacting)|当 Windows 检测到系统内存不足时调用。|  
|[CWnd::OnCompareItem](#oncompareitem)|调用以确定新项在子所有者描述组合框或列表框中的相对位置。|  
|[CWnd::OnCompositionChanged](#oncompositionchanged)|在桌面窗口管理器 (DWM) 组合已启用或已禁用时针对所有顶级窗口进行调用。|  
|[CWnd::OnContextMenu](#oncontextmenu)|当用户窗口中单击鼠标右键时调用。|  
|[CWnd::OnCopyData](#oncopydata)|将数据从一个应用程序复制到另一个应用程序。|  
|[CWnd::OnCreate](#oncreate)|在窗口创建过程中调用。|  
|[CWnd::OnCtlColor](#onctlcolor)|如果 `CWnd` 在要绘制控件时是控件的父级，则进行调用。|  
|[CWnd::OnDeadChar](#ondeadchar)|当击键转换为非系统语音符号字符（如重音字符）时调用。|  
|[CWnd::OnDeleteItem](#ondeleteitem)|当销毁所有者描述子列表框或组合框时，或是当从控件中移除项时调用。|  
|[CWnd::OnDestroy](#ondestroy)|当销毁 `CWnd` 时调用。|  
|[CWnd::OnDestroyClipboard](#ondestroyclipboard)|当通过调用 Windows 清空剪贴板时调用[EmptyClipboard](http://msdn.microsoft.com/library/windows/desktop/ms649037)函数。|  
|[CWnd::OnDeviceChange](#ondevicechange)|向应用程序或设备驱动程序通知设备或计算机的硬件配置已更改。|  
|[CWnd::OnDevModeChange](#ondevmodechange)|当用户更改设备模式设置时针对所有顶级窗口进行调用。|  
|[CWnd::OnDrawClipboard](#ondrawclipboard)|当剪贴板内容已更改时调用。|  
|[CWnd::OnDrawItem](#ondrawitem)|当需要绘制所有者描述子按钮控件、组合框控件、列表框控件或菜单的可视方面时调用。|  
|[CWnd::OnDropFiles](#ondropfiles)|当用户在已将自己注册为拖放文件接收者的窗口上方释放鼠标左键时调用。|  
|[CWnd::OnEnable](#onenable)|当启用或禁用 `CWnd` 时调用。|  
|[CWnd::OnEndSession](#onendsession)|当会话结束时调用。|  
|[CWnd::OnEnterIdle](#onenteridle)|调用以向应用程序的主窗口过程通知模式对话框或菜单正在进入空闲状态。|  
|[CWnd::OnEnterMenuLoop](#onentermenuloop)|当进入了菜单模式循环时调用。|  
|[CWnd::OnEnterSizeMove](#onentersizemove)|在受影响的窗口进入移动或大小调整模式循环之后调用。|  
|[CWnd::OnEraseBkgnd](#onerasebkgnd)|当窗口背景需要擦除时调用。|  
|[CWnd::OnExitMenuLoop](#onexitmenuloop)|当退出了菜单模式循环时调用。|  
|[CWnd::OnExitSizeMove](#onexitsizemove)|在受影响的窗口退出移动或大小调整模式循环之后调用。|  
|[CWnd::OnFontChange](#onfontchange)|当字体资源池更改时调用。|  
|[CWnd::OnGetDlgCode](#ongetdlgcode)|针对控件进行调用，以便控件可以自己处理箭头键和 TAB 键输入。|  
|[CWnd::OnGetMinMaxInfo](#ongetminmaxinfo)|每当 Windows 需要知道最大化位置或尺寸或是最小或最大跟踪大小时调用。|  
|[CWnd::OnHelpInfo](#onhelpinfo)|当用户按 F1 键时，由框架调用。|  
|[CWnd::OnHotKey](#onhotkey)|当用户按系统范围热键时调用。|  
|[CWnd::OnHScroll](#onhscroll)|当用户单击 `CWnd` 的水平滚动条时调用。|  
|[CWnd::OnHScrollClipboard](#onhscrollclipboard)|当剪贴板所有者应滚动剪贴板图像、使相应部分失效以及更新滚动条值时调用。|  
|[CWnd::OnIconEraseBkgnd](#oniconerasebkgnd)|当 `CWnd` 已最小化（图标化）并且必须在绘制图标之前填充图标背景时调用。|  
|[CWnd::OnInitMenu](#oninitmenu)|当菜单要成为活动状态时调用。|  
|[CWnd::OnInitMenuPopup](#oninitmenupopup)|当弹出菜单要成为活动状态时调用。|  
|[CWnd::OnInputDeviceChange](#oninputdevicechange)|当在系统中添加或移除 I/O 设备时调用。|  
|[CWnd::OnInputLangChange](#oninputlangchange)|在应用程序的输入语言已更改之后调用。|  
|[CWnd::OnInputLangChangeRequest](#oninputlangchangerequest)|当用户选择新输入语言时调用。|  
|[CWnd::OnKeyDown](#onkeydown)|当按下非系统键时调用。|  
|[CWnd::OnKeyUp](#onkeyup)|当释放非系统键时调用。|  
|[CWnd::OnKillFocus](#onkillfocus)|恰好在 `CWnd` 失去输入焦点之前调用。|  
|[CWnd::OnLButtonDblClk](#onlbuttondblclk)|当用户双击鼠标左键时调用。|  
|[CWnd::OnLButtonDown](#onlbuttondown)|当用户按下鼠标左键时调用。|  
|[CWnd::OnLButtonUp](#onlbuttonup)|当用户释放鼠标左键时调用。|  
|[CWnd::OnMButtonDblClk](#onmbuttondblclk)|当用户双击鼠标中键时调用。|  
|[CWnd::OnMButtonDown](#onmbuttondown)|当用户按下鼠标中键时调用。|  
|[CWnd::OnMButtonUp](#onmbuttonup)|当用户释放鼠标中键时调用。|  
|[CWnd::OnMDIActivate](#onmdiactivate)|当激活或停用 MDI 子窗口时调用。|  
|[CWnd::OnMeasureItem](#onmeasureitem)|创建控件时针对所有者描述子组合框、列表框或菜单项进行调用。 `CWnd` 向 Windows 通知控件的尺寸。|  
|[CWnd::OnMenuChar](#onmenuchar)|当用户按下不与当前菜单中任何预定义助记键匹配的菜单助记键字符时调用。|  
|[CWnd::OnMenuDrag](#onmenudrag)|当用户开始拖动菜单项时调用。|  
|[CWnd::OnMenuGetObject](#onmenugetobject)|当鼠标光标进入菜单项或从该项的中心移动到该项的顶部或底部时调用。|  
|[CWnd::OnMenuRButtonUp](#onmenurbuttonup)|当光标位于菜单项上并且用户释放鼠标右键时调用。|  
|[CWnd::OnMenuSelect](#onmenuselect)|当用户选择菜单项时调用。|  
|[CWnd::OnMouseActivate](#onmouseactivate)|当光标处于非活动窗口中并且用户按下鼠标按钮时调用。|  
|[CWnd::OnMouseHover](#onmousehover)|将光标到调用中指定的时间段内悬停窗口的工作区时调用[TrackMouseEvent](http://msdn.microsoft.com/library/windows/desktop/ms646265)。|  
|[CWnd::OnMouseHWheel](#onmousehwheel)|当前窗口由桌面窗口管理器 (DWM) 构造，并且该窗口已最大化时调用。|  
|[CWnd::OnMouseLeave](#onmouseleave)|当光标离开调用中指定的窗口的工作区时调用[TrackMouseEvent](http://msdn.microsoft.com/library/windows/desktop/ms646265)。|  
|[CWnd::OnMouseMove](#onmousemove)|当鼠标光标移动时调用。|  
|[CWnd::OnMouseWheel](#onmousewheel)|当用户旋转鼠标滚轮时调用。 使用 Windows NT 4.0 消息处理。|  
|[CWnd::OnMove](#onmove)|在 `CWnd` 的位置已更改之后调用。|  
|[CWnd::OnMoving](#onmoving)|指示用户正在移动 `CWnd` 对象。|  
|[CWnd::OnNcActivate](#onncactivate)|当需要更改非工作区以指示活动或非活动状态时调用。|  
|[CWnd::OnNcCalcSize](#onnccalcsize)|当需要计算工作区的大小和位置时调用。|  
|[CWnd::OnNcCreate](#onnccreate)|之前调用[OnCreate](#oncreate)的非工作区在创建时。|  
|[Cwnd::](#onncdestroy)|当销毁非工作区时调用。|  
|[CWnd::OnNcHitTest](#onnchittest)|每当如果 `CWnd` 包含光标或使用 `SetCapture` 捕获了鼠标输入便移动鼠标时调用。|  
|[CWnd::OnNcLButtonDblClk](#onnclbuttondblclk)|当用户在光标处于 `CWnd` 的非工作区期间双击鼠标左键时调用。|  
|[CWnd::OnNcLButtonDown](#onnclbuttondown)|当用户在光标处于 `CWnd` 的非工作区期间按下鼠标左键时调用。|  
|[CWnd::OnNcLButtonUp](#onnclbuttonup)|当用户在光标处于 `CWnd` 的非工作区期间释放鼠标左键时调用。|  
|[CWnd::OnNcMButtonDblClk](#onncmbuttondblclk)|当用户在光标处于 `CWnd` 的非工作区期间双击鼠标中键时调用。|  
|[CWnd::OnNcMButtonDown](#onncmbuttondown)|当用户在光标处于 `CWnd` 的非工作区期间按下鼠标中键时调用。|  
|[CWnd::OnNcMButtonUp](#onncmbuttonup)|当用户在光标处于 `CWnd` 的非工作区期间释放鼠标中键时调用。|  
|[CWnd::OnNcMouseHover](#onncmousehover)|将光标到调用中指定的时间段内悬停在窗口的非工作区时调用[TrackMouseEvent](http://msdn.microsoft.com/library/windows/desktop/ms646265)。|  
|[CWnd::OnNcMouseLeave](#onncmouseleave)|框架调用此成员函数，当光标离开调用中指定的窗口的非工作区[TrackMouseEvent](http://msdn.microsoft.com/library/windows/desktop/ms646265)。|  
|[CWnd::OnNcMouseMove](#onncmousemove)|当在 `CWnd` 的非工作区中移动光标时调用。|  
|[CWnd::OnNcPaint](#onncpaint)|当需要绘制非工作区时调用。|  
|[CWnd::OnNcRButtonDblClk](#onncrbuttondblclk)|当用户在光标处于 `CWnd` 的非工作区期间双击鼠标右键时调用。|  
|[CWnd::OnNcRButtonDown](#onncrbuttondown)|当用户在光标处于 `CWnd` 的非工作区期间按下鼠标右键时调用。|  
|[CWnd::OnNcRButtonUp](#onncrbuttonup)|当用户在光标处于 `CWnd` 的非工作区期间释放鼠标右键时调用。|  
|[CWnd::OnNcRenderingChanged](#onncrenderingchanged)|在非工作区的呈现策略已更改时调用。|  
|[CWnd::OnNcXButtonDblClk](#onncxbuttondblclk)|当用户在光标位于窗口非工作区期间双击 XBUTTON1 或 XBUTTON2 时调用。|  
|[CWnd::OnNcXButtonDown](#onncxbuttondown)|当用户在光标位于窗口非工作区期间按下鼠标的 XBUTTON1 或 XBUTTON2 时调用。|  
|[CWnd::OnNcXButtonUp](#onncxbuttonup)|当用户在光标位于窗口非工作区期间释放鼠标的 XBUTTON1 或 XBUTTON2 时调用。|  
|[CWnd::OnNextMenu](#onnextmenu)|当使用向右或向左箭头键在菜单栏和系统菜单之间切换时调用。|  
|[Cwnd:: Onnotify](#onnotify)|由框架调用以通知父窗口，在其某个控件上发生事件或该控件需要信息。|  
|[CWnd::OnNotifyFormat](#onnotifyformat)|调用以确定当前窗口是否接受 WM_NOTIFY 通知消息中的 ANSI 或 Unicode 结构。|  
|[CWnd::OnPaint](#onpaint)|调用以重新绘制窗口的一部分。|  
|[CWnd::OnPaintClipboard](#onpaintclipboard)|当剪贴板查看器的工作区需要重新绘制时调用。|  
|[CWnd::OnPaletteChanged](#onpalettechanged)|调用以允许使用调色板的窗口实现其逻辑调色板并更新其工作区。|  
|[CWnd::OnPaletteIsChanging](#onpaletteischanging)|当某个应用程序要实现其逻辑调色板时，通知其他应用程序。|  
|[CWnd::OnParentNotify](#onparentnotify)|当创建或销毁子窗口时，或是当用户在光标位于子窗口上方期间单击鼠标按钮时调用。|  
|[CWnd::OnPowerBroadcast](#onpowerbroadcast)|当电源管理事件发生时调用。|  
|[CWnd::OnQueryDragIcon](#onquerydragicon)|当用户要拖动最小化（图标化）的 `CWnd` 时调用。|  
|[CWnd::OnQueryEndSession](#onqueryendsession)|当用户选择结束 Windows 会话时调用。|  
|[CWnd::OnQueryNewPalette](#onquerynewpalette)|向 `CWnd` 告知它要接收输入焦点。|  
|[CWnd::OnQueryOpen](#onqueryopen)|当 `CWnd` 是图标并且用户请求打开该图标时调用。|  
|[CWnd::OnQueryUIState](#onqueryuistate)|调用以检索窗口的用户界面 (UI) 状态。|  
|[CWnd::OnRawInput](#onrawinput)|当前窗口中获取原始输入时调用。|  
|[CWnd::OnRButtonDblClk](#onrbuttondblclk)|当用户双击鼠标右键时调用。|  
|[CWnd::OnRButtonDown](#onrbuttondown)|当用户按下鼠标右键时调用。|  
|[CWnd::OnRButtonUp](#onrbuttonup)|当用户释放鼠标右键时调用。|  
|[CWnd::OnRenderAllFormats](#onrenderallformats)|当所有者应用程序正在销毁并且需要呈现其所有格式时调用。|  
|[CWnd::OnRenderFormat](#onrenderformat)|当需要呈现具有延迟呈现的特定格式时，针对剪贴板所有者进行调用。|  
|[CWnd::OnSessionChange](#onsessionchange)|调用以向应用程序通知会话状态已更改。|  
|[CWnd::OnSetCursor](#onsetcursor)|如果鼠标输入未捕获并且鼠标使光标在光标中移动，则调用。|  
|[CWnd::OnSetFocus](#onsetfocus)|在 `CWnd` 获取输入焦点之后调用。|  
|[CWnd::OnSettingChange](#onsettingchange)|当 Win32 `SystemParametersInfo` 函数更改系统范围设置时调用。|  
|[CWnd::OnShowWindow](#onshowwindow)|当 `CWnd` 要显示或隐藏时调用。|  
|[CWnd::OnSize](#onsize)|在 `CWnd` 的大小已更改之后调用。|  
|[CWnd::OnSizeClipboard](#onsizeclipboard)|当剪贴板查看器窗口工作区的大小已更改时调用。|  
|[CWnd::OnSizing](#onsizing)|指示用户正在调整矩形大小。|  
|[CWnd::OnSpoolerStatus](#onspoolerstatus)|每当对打印管理器队列添加或移除作业时，从打印管理器调用。|  
|[CWnd::OnStyleChanged](#onstylechanged)|指示[SetWindowLong](http://msdn.microsoft.com/library/windows/desktop/ms633591) Windows 函数已更改一个或多个窗口样式。|  
|[CWnd::OnStyleChanging](#onstylechanging)|指示[SetWindowLong](http://msdn.microsoft.com/library/windows/desktop/ms633591) Windows 函数即将更改一个或多个窗口样式。|  
|[CWnd::OnSysChar](#onsyschar)|当击键转换为系统字符时调用。|  
|[CWnd::OnSysColorChange](#onsyscolorchange)|当在系统颜色设置中进行更改时，针对所有顶级窗口进行调用。|  
|[CWnd::OnSysCommand](#onsyscommand)|当用户从控件菜单中选择命令时，或是当用户选择最大化或最小化按钮时调用。|  
|[CWnd::OnSysDeadChar](#onsysdeadchar)|当击键转换为系统语音符号字符（如重音字符）时调用。|  
|[CWnd::OnSysKeyDown](#onsyskeydown)|当用户按住 ALT 键，然后按下另一个键时调用。|  
|[CWnd::OnSysKeyUp](#onsyskeyup)|当用户释放在按住 ALT 键的同时按下的键时调用。|  
|[CWnd::OnTCard](#ontcard)|当用户单击可创作的按钮时调用。|  
|[CWnd::OnTimeChange](#ontimechange)|在系统时间更改之后针对所有顶级窗口进行调用。|  
|[CWnd::OnTimer](#ontimer)|在中指定每个间隔之后调用[SetTimer](#settimer)。|  
|[CWnd::OnTouchInput](#ontouchinput)|处理来自 Windows 触摸屏的单个输入。|  
|[CWnd::OnTouchInputs](#ontouchinputs)|处理来自 Windows 触摸屏的输入。|  
|[CWnd::OnUniChar](#onunichar)|当按下键时调用。 即，当前窗口具有键盘焦点和[WM_KEYDOWN](http://msdn.microsoft.com/library/windows/desktop/ms646280)消息转换通过[TranslateMessage](http://msdn.microsoft.com/library/windows/desktop/ms644955)函数。|  
|[CWnd::OnUnInitMenuPopup](#onuninitmenupopup)|在下拉菜单或子菜单已销毁时调用。|  
|[CWnd::OnUpdateUIState](#onupdateuistate)|调用以更改指定窗口及其所有子窗口的用户界面 (UI) 状态。|  
|[CWnd::OnUserChanged](#onuserchanged)|在用户登录或注销之后调用。|  
|[CWnd::OnVKeyToItem](#onvkeytoitem)|由通过拥有的列表框调用`CWnd`以响应[WM_KEYDOWN](#onkeydown)消息。|  
|[CWnd::OnVScroll](#onvscroll)|当用户单击窗口的垂直滚动条时调用。|  
|[CWnd::OnVScrollClipboard](#onvscrollclipboard)|当所有者应滚动剪贴板图像、使相应部分失效以及更新滚动条值时调用。|  
|[CWnd::OnWindowPosChanged](#onwindowposchanged)|当大小、 位置或 Z 顺序已因调用而更改时调用[SetWindowPos](#setwindowpos)或另一个窗口管理函数。|  
|[CWnd::OnWindowPosChanging](#onwindowposchanging)|当大小、 位置或 Z 顺序即将会因调用而更改时调用[SetWindowPos](#setwindowpos)或另一个窗口管理函数。|  
|[CWnd::OnWinIniChange](#onwininichange)|在 Windows 初始化文件 (WIN.INI) 已更改之后对所有顶级窗口进行调用。|  
|[CWnd::OnWndMsg](#onwndmsg)|指示是否处理了 Windows 消息。|  
|[CWnd::OnXButtonDblClk](#onxbuttondblclk)|当用户在光标位于窗口工作区期间双击 XBUTTON1 或 XBUTTON2 时调用。|  
|[CWnd::OnXButtonDown](#onxbuttondown)|当用户在光标位于窗口工作区期间按下 XBUTTON1 或 XBUTTON2 时调用。|  
|[CWnd::OnXButtonUp](#onxbuttonup)|当用户在光标位于窗口工作区期间释放 XBUTTON1 或 XBUTTON2 时调用。|  
|[CWnd::PostNcDestroy](#postncdestroy)|默认情况下调用此虚拟函数[OnNcDestroy](#onncdestroy)函数在窗口已销毁之后。|  
|[CWnd::ReflectChildNotify](#reflectchildnotify)|将消息反射到其源的 Helper 函数。|  
|[CWnd::ReflectLastMsg](#reflectlastmsg)|将最后一个消息反射到子窗口。|  
|[CWnd::ResizeDynamicLayout](#resizedynamiclayout)|如果对窗口启用了动态布局，则窗口大小更改以调整子窗口布局时会通过框架调用。|  
|[CWnd::WindowProc](#windowproc)|为 `CWnd` 提供窗口过程。 默认设置会通过消息映射调度消息。|  
  
### <a name="public-operators"></a>公共运算符  
  
|名称|描述|  
|----------|-----------------|  
|[CWnd::operator HWND](#operator_hwnd)|调用以获取窗口的句柄。|  
|[CWnd::operator ！ =](#operator_neq)|确定窗口是否不与句柄的窗口相同[m_hWnd](#m_hwnd)。|  
|[CWnd::operator = =](#operator_eq_eq)|确定窗口是否与句柄的窗口相同[m_hWnd](#m_hwnd)。|  
  
### <a name="public-data-members"></a>公共数据成员  
  
|名称|说明|  
|----------|-----------------|  
|[CWnd::m_hWnd](#m_hwnd)|指示附加到此 `CWnd` 的 `HWND`。|  
  
## <a name="remarks"></a>备注  
 `CWnd` 对象与 Windows 窗口不同，但这两者紧密相关。 `CWnd` 对象由 `CWnd` 构造函数和析构函数进行创建或销毁。 Windows 窗口中，另一方面，是通过创建的 Windows 内部的数据结构**创建**成员函数销毁`CWnd`虚拟析构函数。 [DestroyWindow](#destroywindow)函数销毁 Windows 窗口而不销毁对象。  
  
 `CWnd`类和消息映射机制会隐藏**WndProc**函数。 传入 Windows 通知消息自动路由到正确的消息映射通过**上***消息*`CWnd`成员函数。 重写**上***消息*成员函数来处理在派生类中的成员的特定消息。  
  
 通过 `CWnd` 类还可以为应用程序创建 Windows 子窗口。 从 `CWnd` 派生类，然后将成员变量添加到派生类，以存储特定于应用程序的数据。 可派生类中实现消息处理程序成员函数和消息映射，以指定在消息定向到窗口时所发生的情况。  
  
 可采用两个步骤创建子窗口。 首先，调用的构造函数`CWnd`构造`CWnd`对象，然后调用[创建](#create)成员函数以创建子窗口，并将其附加到`CWnd`对象。  
  
 当用户终止子窗口时，销毁 `CWnd` 对象，或调用 `DestroyWindow` 成员函数以移除窗口并销毁其数据结构。  
  
 在 Microsoft 基础类库中，从 `CWnd` 派生了更多类以提供特定窗口类型。 其中许多类，包括[CFrameWnd](../../mfc/reference/cframewnd-class.md)， [CMDIFrameWnd](../../mfc/reference/cmdiframewnd-class.md)， [CMDIChildWnd](../../mfc/reference/cmdichildwnd-class.md)， [CView](../../mfc/reference/cview-class.md)，和[CDialog](../../mfc/reference/cdialog-class.md)，设计为可进一步派生。 控件类派生自`CWnd`，如[CButton](../../mfc/reference/cbutton-class.md)、 可以直接使用或可用于进一步派生类。  
  
 有关详细信息使用`CWnd`，请参阅[框架窗口](../../mfc/frame-windows.md)和[窗口对象](../../mfc/window-objects.md)。  
  
## <a name="inheritance-hierarchy"></a>继承层次结构  
 [CObject](../../mfc/reference/cobject-class.md)  
  
 [CCmdTarget](../../mfc/reference/ccmdtarget-class.md)  
  
 `CWnd`  
  
## <a name="requirements"></a>要求  
 **标头:** afxwin.h  
  
##  <a name="accdodefaultaction"></a>CWnd::accDoDefaultAction  
 由框架调用以执行对象的默认操作。  
  
```  
virtual HRESULT accDoDefaultAction(VARIANT varChild);
```  
  
### <a name="parameters"></a>参数  
 `varChild`  
 指定是否要调用的默认操作为该对象或对象的子元素之一。 此参数可以为 CHILDID_SELF （即执行对象的默认操作） 或一个子 ID （以执行默认操作的对象的子元素之一）。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中[IAccessible::accDoDefaultAction](http://msdn.microsoft.com/library/windows/desktop/dd318470)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类来执行对象的默认操作。 有关详细信息，请参阅[IAccessible::accDoDefaultAction](http://msdn.microsoft.com/library/windows/desktop/dd318470)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="acchittest"></a>CWnd::accHitTest  
 由框架调用以检索屏幕上给定点处的子元素或子对象。  
  
```  
virtual HRESULT accHitTest(
    long xLeft,  
    long yTop,  
    VARIANT* pvarChild);
```  
  
### <a name="parameters"></a>参数  
 `xLeft`  
 X 坐标点要进行点击测试 （以屏幕为单位）。  
  
 `yTop`  
 Y 坐标的点要进行点击测试 （以屏幕为单位）。  
  
 `pvarChild`  
 接收标识由指定的点处的对象的信息`xLeft`和`yTop`。 请参阅*pvarID*中[IAccessible::accHitTest](http://msdn.microsoft.com/library/windows/desktop/dd318471)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中**IAccessible::accHitTest**中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类，如果你有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理）。  
  
 有关详细信息，请参阅[IAccessible::accHitTest](http://msdn.microsoft.com/library/windows/desktop/dd318471)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="acclocation"></a>CWnd::accLocation  
 由框架调用以检索指定对象的当前屏幕位置。  
  
```  
virtual HRESULT accLocation(
    long* pxLeft,  
    long* pyTop,  
    long* pcxWidth,  
    long* pcyHeight,  
    VARIANT varChild);
```  
  
### <a name="parameters"></a>参数  
 *pxLeft*  
 接收 x 坐标 （以屏幕为单位） 的对象的左上角。  
  
 *pyTop*  
 接收 y 坐标 （以屏幕为单位） 的对象的左上角。  
  
 *pcxWidth*  
 接收宽度 （以屏幕为单位） 的对象。  
  
 *pcyHeight*  
 接收高度 （以屏幕为单位） 的对象。  
  
 `varChild`  
 指定要检索的位置是否的对象或对象的子元素之一。 此参数可以为 CHILDID_SELF （若要获取有关对象的信息） 或一个子 ID （以获取有关对象的子元素的信息）。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中**IAccessible::accLocation**中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 重写此函数在中的您`CWnd`-派生类，如果你有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理）。  
  
 有关详细信息，请参阅**IAccessible::accLocation**中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="accnavigate"></a>CWnd::accNavigate  
 由框架调用以移到容器内的另一个用户界面元素，如果可能还检索对象。  
  
```  
virtual HRESULT accNavigate(
    long navDir,  
    VARIANT varStart,  
    VARIANT* pvarEndUpAt);
```  
  
### <a name="parameters"></a>参数  
 `navDir`  
 指定导航的方向。 请参阅`navDir`中[IAccessible::accNavigate](http://msdn.microsoft.com/library/windows/desktop/dd318473)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
 `varStart`  
 指定的起始对象。 请参阅`varStart`中**IAccessible::accNavigate**中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
 *pvarEndUpAt*  
 接收有关目标用户界面对象的信息。 请参阅*pvarEnd*中**IAccessible::accNavigate**中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中**IAccessible::accNavigate**中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类，如果你有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理）。  
  
 有关详细信息，请参阅[IAccessible::accNavigate](http://msdn.microsoft.com/library/windows/desktop/dd318473)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="accselect"></a>CWnd::accSelect  
 由框架调用以修改选定内容或移动指定对象的键盘焦点。  
  
```  
virtual HRESULT accSelect(
    long flagsSelect,  
    VARIANT varChild);
```  
  
### <a name="parameters"></a>参数  
 `flagsSelect`  
 指定如何更改当前所选内容或焦点。 请参阅`flagsSelect`中[IAccessible::accSelect](http://msdn.microsoft.com/library/windows/desktop/dd318474)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
 `varChild`  
 指定要选择的对象。 此参数可以为 CHILDID_SELF （若要选择的对象本身） 或一个子 ID （以选择一种对象的子级）。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中**IAccessible::accSelect**中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类，如果你有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理）。  
  
 有关详细信息，请参阅[IAccessible::accSelect](http://msdn.microsoft.com/library/windows/desktop/dd318474)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="animatewindow"></a>CWnd::AnimateWindow  
 生成时显示或隐藏窗口的特殊效果。  
  
```  
BOOL AnimateWindow(
    DWORD dwTime,  
    DWORD dwFlags);
```  
  
### <a name="parameters"></a>参数  
 *dwTime*  
 指定以毫秒为单位播放动画，所需的时间。 通常情况下，动画将 200 毫秒，播放。  
  
 `dwFlags`  
 指定动画的类型。 有关可能的值的完整列表，请参阅[AnimateWindow](http://msdn.microsoft.com/library/windows/desktop/ms632669)。  
  
### <a name="return-value"></a>返回值  
 如果函数成功，则为非零值；否则为  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[AnimateWindow](http://msdn.microsoft.com/library/windows/desktop/ms632669)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="arrangeiconicwindows"></a>CWnd::ArrangeIconicWindows  
 排列所有最小化（图标）子窗口。  
  
```  
UINT ArrangeIconicWindows();
```  
  
### <a name="return-value"></a>返回值  
 如果该函数成功，则图标中的一个行的高度否则为 0。  
  
### <a name="remarks"></a>备注  
 此成员函数还排列在桌面窗口，覆盖整个屏幕上的图标。 [GetDesktopWindow](#getdesktopwindow)成员函数将检索到的桌面窗口对象的指针。  
  
 若要排列图标的 MDI 子窗口的 MDI 客户端窗口中，调用[CMDIFrameWnd::MDIIconArrange](../../mfc/reference/cmdiframewnd-class.md#mdiiconarrange)。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 66](../../mfc/reference/codesnippet/cpp/cwnd-class_1.cpp)]  
  
##  <a name="attach"></a>CWnd::Attach  
 将附加到 Windows 窗口`CWnd`对象。  
  
```  
BOOL Attach(HWND hWndNew);
```  
  
### <a name="parameters"></a>参数  
 `hWndNew`  
 指定 Windows 窗口的句柄。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="example"></a>示例  
 此示例演示如何使用附加和分离将映射到 MDI 客户端窗口。  
  
 [!code-cpp[NVC_MFCWindowing # 67](../../mfc/reference/codesnippet/cpp/cwnd-class_2.h)]  
  
 [!code-cpp[NVC_MFCWindowing # 68](../../mfc/reference/codesnippet/cpp/cwnd-class_3.cpp)]  
  
 [!code-cpp[NVC_MFCWindowing # 69](../../mfc/reference/codesnippet/cpp/cwnd-class_4.cpp)]  
  
##  <a name="beginmodalstate"></a>CWnd::BeginModalState  
 调用此成员函数以使框架窗口具有模式。  
  
```  
virtual void BeginModalState();
```  
  
##  <a name="beginpaint"></a>Cwnd:: Beginpaint  
 准备`CWnd`绘制和填充`PAINTSTRUCT`绘制有关的信息的数据结构。  
  
```  
CDC* BeginPaint(LPPAINTSTRUCT lpPaint);
```  
  
### <a name="parameters"></a>参数  
 `lpPaint`  
 指向[PAINTSTRUCT](../../mfc/reference/paintstruct-structure.md)是否要接收绘制信息的结构。  
  
### <a name="return-value"></a>返回值  
 标识的设备上下文`CWnd`。 指针可能是暂时的不应超出范围的存储[EndPaint](#endpaint)。  
  
### <a name="remarks"></a>备注  
 绘制结构包含一个具有完全包含的更新区域，用于指定是否清除后台的标志的最小矩形的 RECT 数据结构。  
  
 通过设置更新区域[Invalidate](#invalidate)， [InvalidateRect](#invalidaterect)，或[InvalidateRgn](#invalidatergn)成员函数和由系统后它可以调整大小、 移动、 创建、 滚动时，或执行影响客户端区域的任何其他操作。 如果更新区域标记为擦除，`BeginPaint`发送[WM_ONERASEBKGND](#onerasebkgnd)消息。  
  
 不要调用`BeginPaint`除外的成员函数以响应[WM_PAINT](#onpaint)消息。 每次调用`BeginPaint`成员函数必须具有匹配调用[EndPaint](#endpaint)成员函数。 如果脱字号位于要绘制的区域`BeginPaint`成员函数自动隐藏插入符号以防止它被擦除。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 70](../../mfc/reference/codesnippet/cpp/cwnd-class_5.cpp)]  
  
##  <a name="binddefaultproperty"></a>CWnd::BindDefaultProperty  
 将调用对象的默认简单绑定的属性 （如编辑控件），作为类型库中的标记绑定到数据源控件的数据源、 用户名、 密码和 SQL 属性定义的基础光标。  
  
```  
void BindDefaultProperty(
    DISPID dwDispID,  
    VARTYPE vtProp,  
    LPCTSTR szFieldName,  
    CWnd* pDSCWnd);
```  
  
### <a name="parameters"></a>参数  
 `dwDispID`  
 指定要绑定到数据源控件的数据绑定控件上的属性的 DISPID。  
  
 `vtProp`  
 指定要绑定的属性的类型-例如， `VT_BSTR`， **VT_VARIANT**，依次类推。  
  
 `szFieldName`  
 该属性将绑定到该数据源控件提供的游标中指定的列的名称。  
  
 `pDSCWnd`  
 指向窗口的属性将绑定到该主机数据源控件。 调用`GetDlgItem`与要检索此指针 DC 的主机窗口的资源 ID。  
  
### <a name="remarks"></a>备注  
 `CWnd`对其调用此函数的对象必须是数据绑定控件。  
  
### <a name="example"></a>示例  
 `BindDefaultProperty`可能在以下上下文中使用︰  
  
 [!code-cpp[NVC_MFC_AxDataBinding # 1](../../mfc/reference/codesnippet/cpp/cwnd-class_6.cpp)]  
[!code-cpp[NVC_MFC_AxDataBinding # 2](../../mfc/reference/codesnippet/cpp/cwnd-class_7.cpp)]  
[!code-cpp[NVC_MFC_AxDataBinding # 3](../../mfc/reference/codesnippet/cpp/cwnd-class_8.cpp)]  
  
##  <a name="bindproperty"></a>CWnd::BindProperty  
 将数据绑定控件 （如网格控件） 上的光标绑定属性绑定到数据源控件，并向 MFC 绑定管理器注册该关系。  
  
```  
void BindProperty(
    DISPID dwDispId,  
    CWnd* pWndDSC);
```  
  
### <a name="parameters"></a>参数  
 *dwDispId*  
 指定要绑定到数据源控件的数据绑定控件上的属性的 DISPID。  
  
 `pWndDSC`  
 指向窗口的属性将绑定到该主机数据源控件。 调用`GetDlgItem`与要检索此指针 DC 的主机窗口的资源 ID。  
  
### <a name="remarks"></a>备注  
 `CWnd`对其调用此函数的对象必须是数据绑定控件。  
  
### <a name="example"></a>示例  
 `BindProperty`可能在以下上下文中使用︰  
  
 [!code-cpp[NVC_MFC_AxDataBinding # 1](../../mfc/reference/codesnippet/cpp/cwnd-class_6.cpp)]  
[!code-cpp[NVC_MFC_AxDataBinding # 4](../../mfc/reference/codesnippet/cpp/cwnd-class_9.cpp)]  
[!code-cpp[NVC_MFC_AxDataBinding # 3](../../mfc/reference/codesnippet/cpp/cwnd-class_8.cpp)]  
  
##  <a name="bringwindowtotop"></a>CWnd::BringWindowToTop  
 将 `CWnd` 置于一堆重叠窗口的顶部。  
  
```  
void BringWindowToTop();
```  
  
### <a name="remarks"></a>备注  
 此外，`BringWindowToTop` 将激活弹出的、顶层和 MDI 子窗口。 `BringWindowToTop` 成员函数应用于显露被任何重叠窗口部分或完全遮盖的任意窗口。  
  
 此函数只调用 Win32 [BringWindowToTop](http://msdn.microsoft.com/library/windows/desktop/ms632673\(v=vs.85\).aspx)函数。 调用[SetWindowPos](#setwindowpos)函数更改中的 Z 顺序的窗口的位置。 `BringWindowToTop` 函数不更改窗口样式，即可使其成为顶层窗口。 有关详细信息，请参阅[HWND_TOP 与 HWND_TOPMOST 之间的区别是什么](http://blogs.msdn.com/b/oldnewthing/archive/2005/11/21/495246.aspx)  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 71](../../mfc/reference/codesnippet/cpp/cwnd-class_10.cpp)]  
  
##  <a name="calcwindowrect"></a>CWnd::CalcWindowRect  
 计算窗口矩形可以包含指定的客户端矩形。  
  
```  
virtual void CalcWindowRect(
    LPRECT lpClientRect,  
    UINT nAdjustType = adjustBorder);
```  
  
### <a name="parameters"></a>参数  
 [in, out] `lpClientRect`  
 指向矩形结构的指针。 在输入时，此结构包含的客户端矩形。 该方法运行完毕后，此结构还包含可以包含指定的客户端矩形窗口矩形。  
  
 [in] `nAdjustType`  
 使用`CWnd::adjustBorder`来计算窗口坐标，而无需`WS_EX_CLIENTEDGE`样式; 否则，请使用`CWnd::adjustOutside`。  
  
### <a name="remarks"></a>备注  
 计算的窗口矩形的大小不包括表示菜单栏的空间。  
  
 有关更多的使用情况限制，请参阅[AdjustWindowRectEx](http://msdn.microsoft.com/library/windows/desktop/ms632667)。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 72](../../mfc/reference/codesnippet/cpp/cwnd-class_11.cpp)]  
  
##  <a name="canceltooltips"></a>CWnd::CancelToolTips  
 调用此成员函数可从屏幕中删除的工具提示，如果当前显示工具提示。  
  
```  
static void PASCAL CancelToolTips(BOOL bKeys = FALSE);
```  
  
### <a name="parameters"></a>参数  
 *bKeys*  
 **TRUE**取消工具提示时按下将密钥并将其设置状态栏文本的默认值; 否则为**FALSE**。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  使用此成员函数具有由你的代码的工具提示没有影响。 它只影响由工具提示控件[CWnd::EnableToolTips](#enabletooltips)。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 73](../../mfc/reference/codesnippet/cpp/cwnd-class_12.cpp)]  
  
##  <a name="centerwindow"></a>CWnd::CenterWindow  
 使窗口相对于其父级居中。  
  
```  
void CenterWindow(CWnd* pAlternateOwner = NULL);
```  
  
### <a name="parameters"></a>参数  
 `pAlternateOwner`  
 指向备用的窗口，它将是相对于其中心 （而非父窗口）。  
  
### <a name="remarks"></a>备注  
 通常从调用[CDialog::OnInitDialog](../../mfc/reference/cdialog-class.md#oninitdialog) center 对话框相对于主窗口的应用程序。 默认情况下，该函数中心相对于其父窗口和相对于其所有者的弹出窗口的子窗口。 如果不拥有弹出窗口，它位于相对于屏幕。 到中心再窗口相对于特定的窗口，这不是所有者或父，`pAlternateOwner`参数可能设置为有效的窗口。 若要强制使相对于屏幕内居中，通过返回的值[CWnd::GetDesktopWindow](#getdesktopwindow)作为`pAlternateOwner`。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 74](../../mfc/reference/codesnippet/cpp/cwnd-class_13.cpp)]  
  
##  <a name="changeclipboardchain"></a>CWnd::ChangeClipboardChain  
 删除`CWnd`从剪贴板查看器和使窗口指定通过链`hWndNext`的后代`CWnd`链中的上级。  
  
```  
BOOL ChangeClipboardChain(HWND hWndNext);
```  
  
### <a name="parameters"></a>参数  
 `hWndNext`  
 标识遵循窗口`CWnd`剪贴板查看器链中。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
##  <a name="checkdlgbutton"></a>CWnd::CheckDlgButton  
 选择 （放置的旁边的复选标记） 或清除 （复选标记从删除） 按钮，或它具有三个状态的按钮的状态更改。  
  
```  
void CheckDlgButton(
    int nIDButton,  
    UINT nCheck);
```  
  
### <a name="parameters"></a>参数  
 `nIDButton`  
 指定要修改的按钮。  
  
 `nCheck`  
 指定要执行的操作。 如果`nCheck`不为零，`CheckDlgButton`成员函数将一个按钮旁边的复选标记; 如果为 0，删除复选标记。 对于三种状态的按钮，如果`nCheck`为 2，按钮状态是不确定的。  
  
### <a name="remarks"></a>备注  
 `CheckDlgButton`函数发送[BM_SETCHECK](http://msdn.microsoft.com/library/windows/desktop/bb775989)到指定的按钮的消息。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 75](../../mfc/reference/codesnippet/cpp/cwnd-class_14.cpp)]  
  
##  <a name="checkradiobutton"></a>CWnd::CheckRadioButton  
 选择 （添加到一个复选标记） 中一组给定的单选按钮和清除 （复选标记从删除） 所有其他单选按钮组中的。  
  
```  
void CheckRadioButton(
    int nIDFirstButton,  
    int nIDLastButton,  
    int nIDCheckButton);
```  
  
### <a name="parameters"></a>参数  
 `nIDFirstButton`  
 指定组中的第一个单选按钮的整数标识符。  
  
 `nIDLastButton`  
 指定组中的最后一个单选按钮的整数标识符。  
  
 `nIDCheckButton`  
 指定要检查的单选按钮的整数标识符。  
  
### <a name="remarks"></a>备注  
 `CheckRadioButton`函数发送[BM_SETCHECK](http://msdn.microsoft.com/library/windows/desktop/bb775989)与指定的单选按钮的消息。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 76](../../mfc/reference/codesnippet/cpp/cwnd-class_15.cpp)]  
  
##  <a name="childwindowfrompoint"></a>CWnd::ChildWindowFromPoint  
 确定，如果任何属于的子窗口`CWnd`包含指定的点。  
  
```  
CWnd* ChildWindowFromPoint(POINT point) const;  
  
CWnd* ChildWindowFromPoint(
    POINT point,  
    UINT nFlags) const;  
```  
  
### <a name="parameters"></a>参数  
 `point`  
 指定要测试的点的客户端坐标。  
  
 *nflags*  
 指定要跳过的子窗口。 此参数可以是以下值的组合︰  
  
|值|含义|  
|-----------|-------------|  
|**CWP_ALL**|请勿跳过任何子窗口|  
|**CWP_SKIPINVISIBLE**|跳过不可见子窗口|  
|**CWP_SKIPDISABLED**|跳过禁用的子窗口|  
|**CWP_SKIPTRANSPARENT**|跳过透明子窗口|  
  
### <a name="return-value"></a>返回值  
 标识包含点的子窗口。 它是**NULL**如果给定的点存在于客户端区之外。 如果点是客户端区域内，但不是包含任何子窗口，在`CWnd`返回。  
  
 此成员函数将返回一个包含指定的点的隐藏或禁用子窗口。  
  
 多个窗口可能包含给定的点。 但是，此函数仅返回`CWnd`* 的遇到第一个窗口，其中包含的点。  
  
 `CWnd`* 返回可能是暂时的不应存储起来供以后使用。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 77](../../mfc/reference/codesnippet/cpp/cwnd-class_16.cpp)]  
  
##  <a name="clienttoscreen"></a>CWnd::ClientToScreen  
 将显示中的给定点或矩形的客户端坐标转换为屏幕坐标。  
  
```  
void ClientToScreen(LPPOINT lpPoint) const;  void ClientToScreen(LPRECT lpRect) const;  
```  
  
### <a name="parameters"></a>参数  
 `lpPoint`  
 指向[点结构](../../mfc/reference/point-structure1.md)或`CPoint`对象，其中包含客户端坐标转换。  
  
 `lpRect`  
 指向[RECT 结构](../../mfc/reference/rect-structure1.md)或`CRect`对象，其中包含客户端坐标转换。  
  
### <a name="remarks"></a>备注  
 `ClientToScreen`成员函数使用中的客户端坐标**点**或`RECT`结构或`CPoint`或`CRect`指向对象`lpPoint`或`lpRect`来计算新的屏幕坐标; 然后将替换结构中的坐标，为新的坐标。 新的屏幕坐标位于相对于系统显示屏左上角。  
  
 `ClientToScreen`成员函数假定给的定点或矩形是在客户端坐标。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 78](../../mfc/reference/codesnippet/cpp/cwnd-class_17.cpp)]  
  
##  <a name="closewindow"></a>CWnd::CloseWindow  
 最小化窗口。  
  
```  
void CloseWindow();
```  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[CloseWindow](http://msdn.microsoft.com/library/windows/desktop/ms632678)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="continuemodal"></a>CWnd::ContinueModal  
 此成员函数调用[RunModalLoop](#runmodalloop)来确定何时应退出模式状态。  
  
```  
virtual BOOL ContinueModal();
```  
  
### <a name="return-value"></a>返回值  
 如果模式循环是能继续; 则为非 00 在[EndModalLoop](#endmodalloop)调用。  
  
### <a name="remarks"></a>备注  
 默认情况下，它将返回非零直到`EndModalLoop`调用。  
  
##  <a name="create"></a>Cwnd:: Create  
 创建指定的子窗口，并将其附加到[CWnd](../../mfc/reference/cwnd-class.md)对象。  
  
```  
virtual BOOL Create(
    LPCTSTR lpszClassName,  
    LPCTSTR lpszWindowName,  
    DWORD dwStyle,  
    Const RECT& rect,  
    CWnd* pParentWnd,  
    UINT nID,  
    CCreateContext* pContext = NULL);
```  
  
### <a name="parameters"></a>参数  
 [in] `lpszClassName`  
 指向以 null 结尾的字符串，其中包含已注册的系统窗口类，则名称或预定义的系统窗口类的名称。  
  
 [in] `lpszWindowName`  
 指向以 null 结尾的字符串，包含该窗口显示名称;否则为`NULL`没有窗口显示名称。  
  
 [in] `dwStyle`  
 按位组合 (OR)[窗口样式](../../mfc/reference/window-styles.md)。 `WS_POPUP`选项不是有效的样式。  
  
 [in] `rect`  
 大小和窗口相对于父窗口的左上角的位置。  
  
 [in] `pParentWnd`  
 向父窗口的指针。  
  
 [in] `nID`  
 窗口的 ID。  
  
 [in] `pContext`  
 指向[CCreateContext](../../mfc/reference/ccreatecontext-structure.md)用于自定义应用程序的文档视图体系结构的结构。  
  
### <a name="return-value"></a>返回值  
 `TRUE`如果此方法成功，则否则为`FALSE`。  
  
### <a name="remarks"></a>备注  
  
> [!WARNING]
> `CWnd::PreCreateWindow`现在将分配的 hMenu 成员其`CREATESTRUCT`参数`this`指针如果菜单是`NULL`和样式包含`WS_CHILD`。 是否能正常运行，请确保对话框控件具有 ID 不是`NULL`。  
>   
>  在托管/本机互操作方案中，此项更改修复了崩溃。 A`TRACE`中的语句`CWnd::Create`警报问题的开发人员。  
  
 使用[AfxRegisterWndClass](../../mfc/reference/application-information-and-management.md#afxregisterwndclass)函数注册窗口类。 用户定义的类模块中提供了它们已注册的窗口。  
  
 [CWnd::OnCreate](#oncreate)方法之前调用`Create`方法返回时，和之前窗口变得可见。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 79](../../mfc/reference/codesnippet/cpp/cwnd-class_18.cpp)]  
  
##  <a name="createaccessibleproxy"></a>CWnd::CreateAccessibleProxy  
 为指定对象创建 Active Accessibility 代理服务器。  
  
```  
virtual HRESULT CreateAccessibleProxy(
    WPARAM wParam,  
    LPARAM lParam,  
    LRESULT* pResult);
```  
   
### <a name="parameters"></a>参数  
 `wParam`  
 标识 Active Accessibility 代理服务器访问的对象。 可以是以下值之一  
  
|值|含义|  
|-----------|-------------|  
|**OBJID_CLIENT**|引用的窗口的客户端区域。|  
  
 `lParam`  
 提供其他依赖于消息的信息。  
  
 `pResult`  
 指向的指针**LRESULT**存储的结果代码。  
  
### <a name="remarks"></a>备注  
 为指定对象创建 Active Accessibility 代理服务器。  
  
##  <a name="createcaret"></a>CWnd::CreateCaret  
 创建新形状为系统插入符号，并声明插入符号的所有权。  
  
```  
void CreateCaret(CBitmap* pBitmap);
```  
  
### <a name="parameters"></a>参数  
 `pBitmap`  
 标识定义的插入符号形状的位图。  
  
### <a name="remarks"></a>备注  
 位图先前必须已创建通过[CBitmap::CreateBitmap](../../mfc/reference/cbitmap-class.md#createbitmap)成员函数， [CreateDIBitmap](http://msdn.microsoft.com/library/windows/desktop/dd183491) Windows 函数或[cbitmap:: Loadbitmap](../../mfc/reference/cbitmap-class.md#loadbitmap)成员函数。  
  
 `CreateCaret`如果任何，而不考虑哪些时段拥有脱字号将自动销毁以前的插入符号形状。 创建后，开始就隐藏插入符号。 若要显示插入符号， [ShowCaret](#showcaret)必须调用成员函数。  
  
 系统插入符号是共享的资源。 `CWnd`仅在具有输入的焦点或处于活动状态时，应创建插入符号。 失去输入的焦点或变为非活动状态之前，它应销毁脱字号。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 80](../../mfc/reference/codesnippet/cpp/cwnd-class_19.cpp)]  
  
##  <a name="createcontrol"></a>Cwnd:: Createcontrol  
 此成员函数用于在由 MFC 程序中创建将表示的 ActiveX 控件`CWnd`对象。  
  
```  
BOOL CreateControl(
    LPCTSTR pszClass,  
    LPCTSTR pszWindowName,  
    DWORD dwStyle,  
    const RECT& rect,  
    CWnd* pParentWnd,  
    UINT nID,  
    CFile* pPersist = NULL,  
    BOOL bStorage = FALSE,  
    BSTR bstrLicKey = NULL);

 
BOOL CreateControl(
    REFCLSID clsid,  
    LPCTSTR pszWindowName,  
    DWORD dwStyle,  
    const RECT& rect,  
    CWnd* pParentWnd,  
    UINT nID,  
    CFile* pPersist = NULL,  
    BOOL bStorage = FALSE,  
    BSTR bstrLicKey = NULL);

 
BOOL CreateControl(
    REFCLSID clsid,  
    LPCTSTR pszWindowName,  
    DWORD dwStyle,  
    const POINT* ppt,  
    const SIZE* psize,  
    CWnd* pParentWnd,  
    UINT nID,  
    CFile* pPersist = NULL,  
    BOOL bStorage = FALSE,  
    BSTR bstrLicKey = NULL);
```  
  
### <a name="parameters"></a>参数  
 *pszClass*  
 此字符串可能包含 OLE"短名称"(ProgID) 类，例如，"CIRC3。Circ3Ctrl.1"。 名称必须以匹配由控件注册的相同名称。 或者，该字符串可能包含的字符串形式**CLSID**、 包含在括号中，例如，"{9DBAFCCF-592F-101B-85CE-00608CEC297B}"。 在任一情况下，`CreateControl`将字符串转换为相应的类 id。  
  
 *pszWindowName*  
 指向要在控件中显示的文本的指针。 设置控件的标题或文本属性的值 （如果有）。 如果**NULL**，不会更改控件的标题或文本属性。  
  
 `dwStyle`  
 窗口样式。 在备注列出可用的样式。  
  
 `rect`  
 指定控件的大小和位置。 它可以是[CRect](../../atl-mfc-shared/reference/crect-class.md)对象或[RECT 结构](../../mfc/reference/rect-structure1.md)。  
  
 `ppt`  
 指向[点结构](../../mfc/reference/point-structure1.md)或`CPoint`对象，它包含控件的左上的角。  
  
 `pSize`  
 指向[大小](http://msdn.microsoft.com/library/windows/desktop/dd145106)结构或`CSize`对象，它包含控件的大小  
  
 `pParentWnd`  
 指定控件的父窗口。 它不能**NULL**。  
  
 `nID`  
 指定控件的 id。  
  
 `pPersist`  
 指向的指针[CFile](../../mfc/reference/cfile-class.md)包含控件的持久状态。 默认值是**NULL**，，该值指示该控件而不是从任何持久性存储区还原其状态初始化自身。 如果不是**NULL**，它应为一个指向`CFile`-派生对象，它包含控件的持久性数据，流或存储的形式。 无法在客户端以前激活保存此数据。 `CFile`可以包含其他数据，但必须在调用的时间设置为永久数据的第一个字节其读写指针`CreateControl`。  
  
 `bStorage`  
 指示是否在数据`pPersist`应被视为 IStorage 或 IStream 数据。 如果中的数据`pPersist`是一种存储，`bStorage`应**TRUE**。 如果中的数据`pPersist`是流、`bStorage`应**FALSE**。 默认值是**FALSE**。  
  
 *bstrLicKe*y  
 可选的许可证密钥数据。 仅用于创建控件需要运行时许可证密钥所需要的此数据。 如果该控件支持授权，则必须提供要成功的控件创建的许可密钥。 默认值是**NULL**。  
  
 `clsid`  
 控件的唯一类 ID。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 `CreateControl`是的直接模拟[cwnd:: Create](#create)函数，创建的窗口`CWnd`。 `CreateControl`创建 ActiveX 控件而不是普通的窗口。  
  
 Windows 的一个子集`dwStyle`支持标志`CreateControl`:  
  
- **WS_VISIBLE**创建初始可见的窗口。 如果您希望控件，使其立即，像普通的窗口可见，则必须填写。  
  
- **WS_DISABLED**创建最初处于禁用状态的窗口。 已禁用的窗口无法接收来自用户输入。 如果控件具有 Enabled 属性可以设置。  
  
- `WS_BORDER`创建一个窗口，有精简行的边框。 如果控件具有 BorderStyle 属性可以设置。  
  
- **WS_GROUP**指定一组控件的第一个控件。 用户可以通过使用箭头键键盘焦点从一个控件组中更改为下一步。 使用定义的所有控件**WS_GROUP**样式后的第一个控件属于同一个组。 使用下一个控件**WS_GROUP**样式组结束和开始下一个组。  
  
- **WS_TABSTOP**指定在用户按 TAB 键时，可以接收键盘焦点的控件。 按 TAB 键将键盘焦点更改到下一个控件的**WS_TABSTOP**样式。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 81](../../mfc/reference/codesnippet/cpp/cwnd-class_20.h)]  
  
##  <a name="createex"></a>CWnd::CreateEx  
 创建指定的窗口，并将其附加到`CWnd`对象。  
  
```  
virtual BOOL CreateEx(
    DWORD dwExStyle,  
    LPCTSTR lpszClassName,  
    LPCTSTR lpszWindowName,  
    DWORD dwStyle,  
    int x,  
    int y,  
    int nWidth,  
    int nHeight,  
    HWND hWndParent,  
    HMENU nIDorHMenu,  
    LPVOID lpParam = NULL);

 
virtual BOOL CreateEx(
    DWORD dwExStyle,  
    LPCTSTR lpszClassName,  
    LPCTSTR lpszWindowName,  
    DWORD dwStyle,  
    const RECT& rect,  
    CWnd* pParentWnd,  
    UINT nID,  
    LPVOID lpParam = NULL);
```  
  
### <a name="parameters"></a>参数  
 `dwExStyle`  
 按位组合 (OR)[扩展窗口样式](../../mfc/reference/extended-window-styles.md); 否则为`NULL`默认扩展窗口样式。  
  
 `lpszClassName`  
 指向以 null 结尾的字符串，其中包含已注册的系统窗口类，则名称或预定义的系统窗口类的名称。  
  
 `lpszWindowName`  
 指向以 null 结尾的字符串，包含该窗口显示名称;否则为`NULL`没有窗口显示名称。  
  
 `dwStyle`  
 按位组合 (OR)[窗口样式](../../mfc/reference/window-styles.md); 否则为`NULL`默认窗口样式。  
  
 `x`  
 从屏幕左边的窗口或父窗口的初始水平距离。  
  
 `y`  
 从屏幕顶部的窗口或父窗口的初始垂直距离。  
  
 `nWidth`  
 以像素为单位的窗口的宽度。  
  
 `nHeight`  
 以像素为单位的窗口的高度。  
  
 `hwndParent`  
 对于子窗口，父窗口中; 的句柄否则为如果窗口具有所有者的所有者窗口的句柄。  
  
 `nIDorHMenu`  
 对于子窗口，窗口 ID 中;否则为该窗口的菜单的 ID。  
  
 `lpParam`  
 指向传递给的用户数据的[CWnd::OnCreate](#oncreate)中的方法`lpCreateParams`字段。  
  
 `rect`  
 大小和窗口相对于屏幕或父窗口的位置。  
  
 `pParentWnd`  
 对于子窗口，向父窗口中; 的指针否则为向所有者窗口如果窗口具有所有者的指针。  
  
 `nID`  
 对于子窗口，窗口 ID 中;否则为该窗口的菜单的 ID。  
  
### <a name="return-value"></a>返回值  
 `TRUE`如果此方法成功，则否则为`FALSE`。  
  
### <a name="remarks"></a>备注  
  
> [!WARNING]
> `CWnd::PreCreateWindow`现在将分配的 hMenu 成员其`CREATESTRUCT`参数`this`指针如果菜单是`NULL`和样式包含`WS_CHILD`。 是否能正常运行，请确保对话框控件具有 ID 不是`NULL`。  
>   
>  在托管/本机互操作方案中，此项更改修复了崩溃。 A`TRACE`中的语句`CWnd::Create`警报问题的开发人员。  
  
 默认值扩展窗口样式是`WS_EX_LEFT`。 默认窗口样式是`WS_OVERLAPPED`。  
  
 使用[AfxRegisterWndClass](../../mfc/reference/application-information-and-management.md#afxregisterwndclass)函数注册窗口类。 用户定义的类模块中提供了它们已注册的窗口。  
  
 子窗口的维度为相对于父窗口的工作区的左上角。 为顶级窗口的维度为相对于屏幕左上角。  
  
 [CWnd::OnCreate](#oncreate)方法之前调用`CreateEx`方法返回时，和之前窗口变得可见。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 82](../../mfc/reference/codesnippet/cpp/cwnd-class_21.cpp)]  
  
##  <a name="creategraycaret"></a>CWnd::CreateGrayCaret  
 创建为系统插入符号的灰色矩形，并声明插入符号的所有权。  
  
```  
void CreateGrayCaret(
    int nWidth,  
    int nHeight);
```  
  
### <a name="parameters"></a>参数  
 `nWidth`  
 指定的宽度 （以逻辑单位） 插入符号。 如果此参数为 0，则会将宽度设置为系统定义的窗口边框宽度。  
  
 `nHeight`  
 指定的高度 （以逻辑单位） 插入符号。 如果此参数为 0，高度设置为系统定义的窗口边框的高度。  
  
### <a name="remarks"></a>备注  
 脱字号形状可以是一条线或块。  
  
 参数`nWidth`和`nHeight`指定插入符号的宽度和高度 （以逻辑单位）; 的确切的宽度和高度 （以像素为单位） 取决于映射模式。  
  
 可以通过检索系统的窗口边框的宽度或高度[GetSystemMetrics](http://msdn.microsoft.com/library/windows/desktop/ms724385) Windows 起作用**SM_CXBORDER**和**SM_CYBORDER**索引。 使用的窗口边框的宽度或高度可确保插入符号将在高分辨率的显示器上可见。  
  
 `CreateGrayCaret`成员函数自动销毁以前的插入符号形状，如果有解决问题，而不考虑哪个窗口拥有脱字号。 创建后，开始就隐藏插入符号。 若要显示插入符号， [ShowCaret](#showcaret)必须调用成员函数。  
  
 系统插入符号是共享的资源。 `CWnd`仅在具有输入的焦点或处于活动状态时，应创建插入符号。 失去输入的焦点或变为非活动状态之前，它应销毁脱字号。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 83](../../mfc/reference/codesnippet/cpp/cwnd-class_22.cpp)]  
  
##  <a name="createsolidcaret"></a>CWnd::CreateSolidCaret  
 创建一个实心矩形为系统插入符号，并声明插入符号的所有权。  
  
```  
void CreateSolidCaret(
    int nWidth,  
    int nHeight);
```  
  
### <a name="parameters"></a>参数  
 `nWidth`  
 指定的宽度 （以逻辑单位） 插入符号。 如果此参数为 0，则会将宽度设置为系统定义的窗口边框宽度。  
  
 `nHeight`  
 指定的高度 （以逻辑单位） 插入符号。 如果此参数为 0，高度设置为系统定义的窗口边框的高度。  
  
### <a name="remarks"></a>备注  
 脱字号形状可以是行或块。  
  
 参数`nWidth`和`nHeight`指定插入符号的宽度和高度 （以逻辑单位）; 的确切的宽度和高度 （以像素为单位） 取决于映射模式。  
  
 可以通过检索系统的窗口边框的宽度或高度[GetSystemMetrics](http://msdn.microsoft.com/library/windows/desktop/ms724385) Windows 起作用**SM_CXBORDER**和**SM_CYBORDER**索引。 使用的窗口边框的宽度或高度可确保插入符号将在高分辨率的显示器上可见。  
  
 `CreateSolidCaret`成员函数自动销毁以前的插入符号形状，如果有解决问题，而不考虑哪个窗口拥有脱字号。 创建后，开始就隐藏插入符号。 若要显示插入符号， [ShowCaret](#showcaret)必须调用成员函数。  
  
 系统插入符号是共享的资源。 `CWnd`仅在具有输入的焦点或处于活动状态时，应创建插入符号。 失去输入的焦点或变为非活动状态之前，它应销毁脱字号。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 84](../../mfc/reference/codesnippet/cpp/cwnd-class_23.cpp)]  
  
##  <a name="cwnd"></a>CWnd::CWnd  
 构造 `CWnd` 对象。  
  
```  
CWnd();
```  
  
### <a name="remarks"></a>备注  
 Windows 窗口不创建并附加直到[CreateEx](#createex)或[创建](#create)调用成员函数。  
  
##  <a name="default"></a>CWnd::Default  
 调用默认窗口过程。  
  
```  
LRESULT Default();
```  
  
### <a name="return-value"></a>返回值  
 依赖于发送的消息。  
  
### <a name="remarks"></a>备注  
 默认窗口过程提供了默认的应用程序不处理任何窗口消息处理。 此成员函数可确保，处理每条消息。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 85](../../mfc/reference/codesnippet/cpp/cwnd-class_24.cpp)]  
  
##  <a name="defwindowproc"></a>CWnd::DefWindowProc  
 调用默认窗口过程，该应用程序不处理任何窗口消息提供默认处理过程。  
  
```  
virtual LRESULT DefWindowProc(
    UINT message,  
    WPARAM wParam,  
    LPARAM lParam);
```  
  
### <a name="parameters"></a>参数  
 `message`  
 指定要处理的 Windows 消息。  
  
 `wParam`  
 指定消息相关的其他信息。  
  
 `lParam`  
 指定消息相关的其他信息。  
  
### <a name="return-value"></a>返回值  
 依赖于发送的消息。  
  
### <a name="remarks"></a>备注  
 此成员函数可确保，处理每条消息。 它应具有与接收的窗口过程相同的参数进行调用。  
  
##  <a name="deletetempmap"></a>CWnd::DeleteTempMap  
 空闲时间处理程序的自动调用`CWinApp`对象。  
  
```  
static void PASCAL DeleteTempMap();
```  
  
### <a name="remarks"></a>备注  
 删除任何临时`CWnd`创建的对象`FromHandle`成员函数。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 86](../../mfc/reference/codesnippet/cpp/cwnd-class_25.cpp)]  
  
##  <a name="destroywindow"></a>Cwnd:: Destroywindow  
 销毁 Windows 窗口附加到`CWnd`对象。  
  
```  
virtual BOOL DestroyWindow();
```  
  
### <a name="return-value"></a>返回值  
 销毁窗口; 如果非零否则为 0。  
  
### <a name="remarks"></a>备注  
 `DestroyWindow`成员函数将适当的消息发送到窗口后，若要停用它并删除输入的焦点。 它还销毁窗口的菜单、 刷新应用程序队列、 销毁未完成的计时器，移除剪贴板所属权和如果操作会打断剪贴板查看器链`CWnd`是在查看器链的顶部。 它将发送[WM_DESTROY](#ondestroy)和[WM_NCDESTROY](#onncdestroy)到窗口的消息。 它不会销毁`CWnd`对象。  
  
 `DestroyWindow`执行清理是一个占位符。 因为`DestroyWindow`是虚拟函数，它显示在任何`CWnd`-派生类视图中的类。 即使您重写此函数在中的，但你`CWnd`-派生类，`DestroyWindow`不一定会调用。 如果`DestroyWindow`不调用在 MFC 代码中，则需要显式将它自己的代码中调用如果您希望其调用。  
  
 例如，假定你已重写`DestroyWindow`中`CView`-派生类。 由于 MFC 源代码不调用`DestroyWindow`任一其`CFrameWnd`-派生类中重写的`DestroyWindow`除非显式调用不会被调用。  
  
 如果窗口的父级的任何 windows，在父窗口被销毁时自动销毁这些子窗口。 `DestroyWindow`成员函数会销毁子窗口第一个，然后选择窗口本身。  
  
 `DestroyWindow`成员函数还会销毁无模式对话框创建的[CDialog::Create](../../mfc/reference/cdialog-class.md#create)。  
  
 如果`CWnd`正在销毁是子窗口并且没有[WS_EX_NOPARENTNOTIFY](../../mfc/reference/extended-window-styles.md)样式集，则[WM_PARENTNOTIFY](https://msdn.microsoft.com/library/ms632638.aspx)消息发送给父级。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 87](../../mfc/reference/codesnippet/cpp/cwnd-class_26.cpp)]  
  
##  <a name="detach"></a>CWnd::Detach  
 从 `CWnd` 对象分离 Windows 句柄并返回该句柄。  
  
```  
HWND Detach();
```  
  
### <a name="return-value"></a>返回值  
 A`HWND`到 Windows 对象。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::Attach](#attach)。  
  
##  <a name="dlgdirlist"></a>CWnd::DlgDirList  
 使用文件或目录列表填充列表框。  
  
```  
int DlgDirList(
    LPTSTR lpPathSpec,  
    int nIDListBox,  
    int nIDStaticPath,  
    UINT nFileType);
```  
  
### <a name="parameters"></a>参数  
 `lpPathSpec`  
 指向以 null 结尾的字符串，包含路径或文件名。 `DlgDirList`修改此字符串中，它应该是足够长，以包含进行修改。 有关详细信息，请参阅下面的"备注"部分。  
  
 `nIDListBox`  
 指定列表框中的标识符。 如果`nIDListBox`为 0，`DlgDirList`假定没有列表框中存在，并且不会尝试填充一个。  
  
 `nIDStaticPath`  
 指定用来显示当前的驱动器及目录的静态文本控件的标识符。 如果`nIDStaticPath`为 0，`DlgDirList`假定文本控件不存在。  
  
 `nFileType`  
 指定要显示的文件的属性。 它可以是以下值中的任意组合︰  
  
- **DDL_READWRITE**读写数据文件不具有任何其他属性。  
  
- **DDL_READONLY**只读文件。  
  
- **DDL_HIDDEN**隐藏文件。  
  
- **DDL_SYSTEM**系统文件。  
  
- **DDL_DIRECTORY**目录。  
  
- **DDL_ARCHIVE**存档。  
  
- **DDL_POSTMSGS LB_DIR**标志。 如果**LB_DIR**设置标志，则 Windows 将生成的消息放`DlgDirList`中应用程序的队列; 否则，它们会直接发送到对话框过程。  
  
- **DDL_DRIVES**驱动器。 如果**DDL_DRIVES**设置标志， **DDL_EXCLUSIVE**自动设置标志。 因此，若要创建包括驱动器和文件的目录列表，必须调用`DlgDirList`两次︰ 一次与**DDL_DRIVES**具有列表中的其余标志标志集，另一次。  
  
- **DDL_EXCLUSIVE**独占位。 如果设置独占位，将列出仅指定类型的文件;否则会列出普通文件和指定类型的文件。  
  
### <a name="return-value"></a>返回值  
 如果该函数成功，则为非 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 `DlgDirList`发送[LB_RESETCONTENT](http://msdn.microsoft.com/library/windows/desktop/bb761325)和[LB_DIR](http://msdn.microsoft.com/library/windows/desktop/bb775185)到列表框的消息。 填充列表框中指定`nIDListBox`匹配给定的路径的所有文件的名称与`lpPathSpec`。  
  
 `lpPathSpec`参数具有以下形式︰  
  
 `[drive:] [ [\u]directory[\idirectory]...\u] [filename]`  
  
 在此示例中，`drive`是驱动器号，`directory`是有效的目录名称，并*filename*是有效的文件名必须包含至少一个通配符。 通配符将问号 （*），这意味着匹配任何字符和星号 ( **\***)，这意味着匹配任意数量的字符。  
  
 如果指定 0 长度字符串`lpPathSpec`，或如果你指定目录名称，但不是包括任何文件规范，该字符串将更改为"*。\*"。  
  
 如果`lpPathSpec`包括一个驱动器和/或目录的名称，当前的驱动器及目录更改为指定的驱动器及目录之前填充列表框。 文本控件由标识`nIDStaticPath`也会更新为新的驱动器和/或目录名称。  
  
 填充列表框后，`lpPathSpec`通过删除路径的驱动器和/或目录的一部分进行更新。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 88](../../mfc/reference/codesnippet/cpp/cwnd-class_27.cpp)]  
  
##  <a name="dlgdirlistcombobox"></a>CWnd::DlgDirListComboBox  
 使用文件或目录列表填充组合框的列表框。  
  
```  
int DlgDirListComboBox(
    LPTSTR lpPathSpec,  
    int nIDComboBox,  
    int nIDStaticPath,  
    UINT nFileType);
```  
  
### <a name="parameters"></a>参数  
 `lpPathSpec`  
 指向以 null 结尾的字符串，包含路径或文件名。 `DlgDirListComboBox`修改此字符串中，所以此数据不应是字符串文字形式。 请参阅下面的"备注"部分。  
  
 `nIDComboBox`  
 在对话框中指定的组合框的标识符。 如果`nIDComboBox`为 0，`DlgDirListComboBox`假定没有组合框存在，并且不会尝试填充一个。  
  
 `nIDStaticPath`  
 指定用来显示当前的驱动器及目录的静态文本控件的标识符。 如果`nIDStaticPath`为 0，`DlgDirListComboBox`假定文本控件不存在。  
  
 `nFileType`  
 指定要显示的文件的 DOS 文件属性。 它可以是以下值中的任意组合︰  
  
- **DDL_READWRITE**读写数据文件不具有任何其他属性。  
  
- **DDL_READONLY**只读文件。  
  
- **DDL_HIDDEN**隐藏文件。  
  
- **DDL_SYSTEM**系统文件。  
  
- **DDL_DIRECTORY**目录。  
  
- **DDL_ARCHIVE**存档。  
  
- **DDL_POSTMSGS CB_DIR**标志。 如果**CB_DIR**设置标志，则 Windows 将生成的消息放`DlgDirListComboBox`中应用程序的队列; 否则，它们会直接发送到对话框过程。  
  
- **DDL_DRIVES**驱动器。 如果**DDL_DRIVES**设置标志， **DDL_EXCLUSIVE**自动设置标志。 因此，若要创建包括驱动器和文件的目录列表，必须调用`DlgDirListComboBox`两次︰ 一次与**DDL_DRIVES**具有列表中的其余标志标志集，另一次。  
  
- **DDL_EXCLUSIVE**独占位。 如果设置独占位，将列出仅指定类型的文件;否则会列出普通文件和指定类型的文件。  
  
### <a name="return-value"></a>返回值  
 指定的函数的结果。 如果列表已进行，即使的空列表，它不为零。 返回值为 0 意味着输入的字符串不包含有效的搜索路径。  
  
### <a name="remarks"></a>备注  
 `DlgDirListComboBox`发送[CB_RESETCONTENT](http://msdn.microsoft.com/library/windows/desktop/bb775878)和[CB_DIR](http://msdn.microsoft.com/library/windows/desktop/bb775832)到组合框的消息。 填充列表框中的指定组合框`nIDComboBox`匹配给定的路径的所有文件的名称与`lpPathSpec`。  
  
 `lpPathSpec`参数具有以下形式︰  
  
 `[drive:] [ [\u]directory[\idirectory]...\u] [filename]`  
  
 在此示例中，`drive`是驱动器号，`directory`是有效的目录名称，并*filename*是有效的文件名必须包含至少一个通配符。 通配符将问号 （*），这意味着匹配任何字符和星号 ( **\***)，这意味着匹配任意数量的字符。  
  
 如果指定的零长度字符串`lpPathSpec`，将使用当前目录和`lpPathSpec`将不会修改。 如果你指定目录名称，但不是包括任何文件规范，该字符串将更改为"*"。  
  
 如果`lpPathSpec`包括一个驱动器和/或目录的名称，当前的驱动器及目录更改为指定的驱动器及目录之前填充列表框。 文本控件由标识`nIDStaticPath`也会更新为新的驱动器和/或目录名称。  
  
 填充组合框列表框后，`lpPathSpec`通过删除路径的驱动器和/或目录的一部分进行更新。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 89](../../mfc/reference/codesnippet/cpp/cwnd-class_28.cpp)]  
  
##  <a name="dlgdirselect"></a>CWnd::DlgDirSelect  
 从列表框检索当前所选内容。  
  
```  
BOOL DlgDirSelect(
    LPTSTR lpString,  
    int nIDListBox);
```  
  
### <a name="parameters"></a>参数  
 `lpString`  
 指向将在列表框中接收当前所选内容的缓冲区。  
  
 `nIDListBox`  
 在对话框中指定列表框中的整数 ID。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 该示例假定，已由填充列表框[DlgDirList](#dlgdirlist)成员函数和所选内容是驱动器号、 文件或目录名称。  
  
 `DlgDirSelect`成员函数将所选内容复制到给定的缓冲区`lpString`。 如果未选择任何内容，`lpString`不会更改。  
  
 `DlgDirSelect`发送[LB_GETCURSEL](http://msdn.microsoft.com/library/windows/desktop/bb775197)和[LB_GETTEXT](http://msdn.microsoft.com/library/windows/desktop/bb761313)到列表框的消息。  
  
 它不允许多个文件名，以从列表框中返回。 列表框中不能多选列表框。  
  
##  <a name="dlgdirselectcombobox"></a>CWnd::DlgDirSelectComboBox  
 从组合框的列表框检索当前所选内容。  
  
```  
BOOL DlgDirSelectComboBox(
    LPTSTR lpString,  
    int nIDComboBox);
```  
  
### <a name="parameters"></a>参数  
 `lpString`  
 指向以将接收所选的路径的缓冲区。  
  
 `nIDComboBox`  
 在对话框中指定组合框的整数的 ID。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 该示例假定，已由填充列表框[DlgDirListComboBox](#dlgdirlistcombobox)成员函数和所选内容是驱动器号、 文件或目录名称。  
  
 `DlgDirSelectComboBox`成员函数将所选内容复制到指定的缓冲区。 如果没有选择任何内容，缓冲区的内容不会改变。  
  
 `DlgDirSelectComboBox`发送[CB_GETCURSEL](http://msdn.microsoft.com/library/windows/desktop/bb775845)和[CB_GETLBTEXT](http://msdn.microsoft.com/library/windows/desktop/bb775862)到组合框的消息。  
  
 它不允许多个文件名，以返回从组合框。  
  
##  <a name="dodataexchange"></a>CWnd::DoDataExchange  
 由框架调用以交换和验证对话框数据。  
  
```  
virtual void DoDataExchange(CDataExchange* pDX);
```  
  
### <a name="parameters"></a>参数  
 `pDX`  
 指向 `CDataExchange` 对象的指针。  
  
### <a name="remarks"></a>备注  
 永远不会直接调用此函数。 它由[UpdateData](#updatedata)成员函数。 调用`UpdateData`初始化对话框的控件或从对话框中检索数据。  
  
 从一个特定于应用程序的对话框类的派生时[CDialog](../../mfc/reference/cdialog-class.md)，您需要重写该成员函数，如果你想要利用框架的自动数据交换和验证。 添加变量向导将为你包含所需编写此成员函数的重写的版本的对话框数据交换 (DDX) 和验证 (DDV) 全局函数调用的"数据映射"。  
  
 若要自动生成此成员函数的重写的版本，请首先使用对话框编辑器中，创建对话框资源，然后派生的特定于应用程序的对话框类。 然后使用添加变量向导将变量、 数据和验证范围与在新的对话框中的各种控件相关联。 然后，该向导将重写`DoDataExchange`，其中包含数据映射。 下面是添加变量向导生成的一个示例 DDX/DDV 代码块︰  
  
 [!code-cpp[NVC_MFCWindowing # 90](../../mfc/reference/codesnippet/cpp/cwnd-class_29.cpp)]  
  
 `DoDataExchange`重写的成员函数，必须在源文件优先宏语句。  
  
 对话框数据交换和验证的详细信息，请参阅[显示和操作窗体中的数据](../../data/odbc/displaying-and-manipulating-data-in-a-form.md)和[对话框数据交换和验证](../../mfc/dialog-data-exchange-and-validation.md)。 添加变量向导生成的 DDX_ 和 DDV_ 宏的说明，请参阅[技术注意 26](../../mfc/tn026-ddx-and-ddv-routines.md)。  
  
##  <a name="dragacceptfiles"></a>CWnd::DragAcceptFiles  
 在窗口中，调用该成员函数从使用`CWnd`中应用程序的指针[CWinApp::InitInstance](../../mfc/reference/cwinapp-class.md#initinstance)函数以指示窗口接受从 Windows 文件管理器或文件资源管理器中删除文件。  
  
```  
void DragAcceptFiles(BOOL bAccept = TRUE);
```  
  
### <a name="parameters"></a>参数  
 *BAccept*  
 该标志指示是否接受拖动的文件。  
  
### <a name="remarks"></a>备注  
 只有窗口调用`DragAcceptFiles`与`bAccept`参数设置为**TRUE**已标识本身为能够处理 Windows 消息`WM_DROPFILES`。 例如，在 MDI 应用程序，如果`CMDIFrameWnd`中使用窗口指针`DragAcceptFiles`函数调用，仅`CMDIFrameWnd`窗口获取`WM_DROPFILES`消息。 此消息不会发送到所有打开`CMDIChildWnd`windows。 有关`CMDIChildWnd`窗口收到此消息，必须调用`DragAcceptFiles`与`CMDIChildWnd`窗口指针。  
  
 若要停止接收拖动的文件，请调用具有的成员函数`bAccept`设置为**FALSE**。  
  
##  <a name="dragdetect"></a>CWnd::DragDetect  
 捕获鼠标并跟踪其移动，直到用户释放左键、按 ESC 键或将鼠标移动到围绕指定点的拖动矩形外部。  
  
```  
BOOL DragDetect(POINT pt) const;  
```  
  
### <a name="parameters"></a>参数  
 `pt`  
 在屏幕坐标中的鼠标，初始位置。 此函数将确定通过此点的拖动矩形的坐标。  
  
### <a name="return-value"></a>返回值  
 如果用户按住左键移动的拖动矩形外部鼠标，则返回值不为零。  
  
 如果用户未在按住左侧的按钮时移动的拖动矩形外部鼠标，则返回值为零。  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[DragDetect](http://msdn.microsoft.com/library/windows/desktop/ms646256)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="drawanimatedrects"></a>CWnd::DrawAnimatedRects  
 绘制透明框架矩形并对它进行动画处理，以指示图标的打开或是窗口的最小化或最大化。  
  
```  
BOOL DrawAnimatedRects(
    int idAni,  
    CONST RECT* lprcFrom,  
    CONST RECT* lprcTo);
```  
  
### <a name="parameters"></a>参数  
 *idAni*  
 指定动画的类型。 如果指定**IDANI_CAPTION**，窗口标题将从指定的位置进行动画处理`lprcFrom`到指定的位置`lprcTo`。 结果类似于最小化或最大化窗口。  
  
 `lprcFrom`  
 指向[RECT](http://msdn.microsoft.com/library/windows/desktop/dd162897)结构，它指定的位置和大小的图标或最小化的窗口。  
  
 `lprcTo`  
 指向[RECT](http://msdn.microsoft.com/library/windows/desktop/dd162897)结构，它指定的位置和大小的还原窗口  
  
### <a name="return-value"></a>返回值  
 如果函数成功，则为非零值；否则为  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[DrawAnimatedRects](http://msdn.microsoft.com/library/windows/desktop/dd162475)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="drawcaption"></a>CWnd::DrawCaption  
 绘制窗口标题。  
  
```  
BOOL DrawCaption(
    CDC* pDC,  
    LPCRECT lprc,  
    UINT uFlags);
```  
  
### <a name="parameters"></a>参数  
 `pDC`  
 一个指向设备上下文的指针。 该函数绘制到此设备上下文的窗口标题。  
  
 `lprc`  
 指向指定窗口标题的边框 RECT 结构的指针。  
  
 `uFlags`  
 指定绘图选项。 值的完整列表，请参阅[DrawCaption](http://msdn.microsoft.com/library/windows/desktop/dd162476)。  
  
### <a name="return-value"></a>返回值  
 如果函数成功，则为非零值；否则为  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[DrawCaption](http://msdn.microsoft.com/library/windows/desktop/dd162476)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="drawmenubar"></a>CWnd::DrawMenuBar  
 重绘菜单栏。  
  
```  
void DrawMenuBar();
```  
  
### <a name="remarks"></a>备注  
 如果 Windows 已创建窗口后，更改菜单栏，，调用此函数可绘制已更改的菜单栏。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::GetMenu](#getmenu)。  
  
##  <a name="enableactiveaccessibility"></a>CWnd::EnableActiveAccessibility  
 启用用户定义的活动辅助功能函数。  
  
```  
void EnableActiveAccessibility();
```  
  
### <a name="remarks"></a>备注  
 MFC 的默认 Active Accessibility 支持足以满足标准的 windows 和控件，包括 ActiveX 控件;但是，如果你`CWnd`-派生的类包含 nonwindowed 用户界面元素，MFC 有无法知道有关它们的信息。 在这种情况下，你必须重写适当[Active Accessibility 成员函数](http://msdn.microsoft.com/en-us/68af04ac-4eb9-4b7d-b33f-c45512097a74)在类中，并且你必须调用**EnableActiveAccessibility**类的构造函数中。  
  
##  <a name="enabledynamiclayout"></a>Cwnd:: Enabledynamiclayout  
 启用或禁用动态布局管理器。 启用动态布局时，子窗口的位置和大小可以在用户调整窗口大小时动态调整。  
  
```  
void EnableDynamicLayout(BOOL bEnable = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `bEnable`  
 如果为 TRUE，则启用动态布局；如果为 FALSE，则禁用动态布局。  
  
### <a name="remarks"></a>备注  
 如果想要启用动态布局，你不只需要调用此方法。 还必须提供指定动态布局信息，此信息指定窗口中的控件如何响应大小更改。 可以在资源编辑器中（或以编程方式）为每个控件指定此信息。 请参阅[动态布局](../../mfc/dynamic-layout.md)。  
  
##  <a name="enabled2dsupport"></a>CWnd::EnableD2DSupport  
 启用或禁用窗口 D2D 支持。 在初始化主窗口之前调用此方法。  
  
```  
void EnableD2DSupport(
    BOOL bEnable = TRUE,  
    BOOL bUseDCRenderTarget = FALSE);
```  
  
### <a name="parameters"></a>参数  
 `bEnable`  
 指定是打开还是关闭 D2D 支持。  
  
 `bUseDCRenderTarget`  
 指定是否使用设备上下文 (DC) 呈现器目标 CDCRenderTarget。 如果为 FALSE，则使用 CHwndRenderTarget。  
  
##  <a name="enablescrollbar"></a>CWnd::EnableScrollBar  
 启用或禁用滚动条的一个或两个箭头。  
  
```  
BOOL EnableScrollBar(
    int nSBFlags,  
    UINT nArrowFlags = ESB_ENABLE_BOTH);
```  
  
### <a name="parameters"></a>参数  
 *nSBFlags*  
 指定的滚动条类型。 可以具有以下值之一︰  
  
- **SB_BOTH**启用或禁用的箭头的水平和垂直滚动条的窗口相关联。  
  
- **SB_HORZ**启用或禁用的箭头的水平滚动条的窗口相关联。  
  
- **SB_VERT**启用或禁用与窗口关联的垂直滚动条的箭头。  
  
 `nArrowFlags`  
 指定是否启用或禁用滚动条箭头和启用或禁用的箭头。 可以具有以下值之一︰  
  
- **ESB_ENABLE_BOTH**使这两个箭头的滚动条 （默认）。  
  
- **ESB_DISABLE_LTUP**禁用水平滚动条向左的箭头或垂直滚动条的向上箭头。  
  
- **ESB_DISABLE_RTDN**禁用水平滚动条的向右箭头或垂直滚动条的向下箭头。  
  
- **ESB_DISABLE_BOTH**禁用这两个箭头的滚动条。  
  
### <a name="return-value"></a>返回值  
 如果启用或禁用指定箭头，则为非 0。 否则，它是 0，表示箭头已在请求的状态或发生了错误。  
  
##  <a name="enablescrollbarctrl"></a>CWnd::EnableScrollBarCtrl  
 启用或禁用此窗口的滚动条。  
  
```  
void EnableScrollBarCtrl(
    int nBar,  
    BOOL bEnable = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `nBar`  
 滚动条标识符中。  
  
 `bEnable`  
 指定是否要启用或禁用滚动条。  
  
### <a name="remarks"></a>备注  
 如果窗口具有同级滚动条控件，则使用该滚动条;否则使用窗口的滚动条。  
  
##  <a name="enabletooltips"></a>CWnd::EnableToolTips  
 使给定窗口的工具提示。  
  
```  
BOOL EnableToolTips(BOOL bEnable = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `bEnable`  
 指定是启用还是禁用工具提示控件。 **TRUE**使控件;**FALSE**禁用控件。  
  
### <a name="return-value"></a>返回值  
 **TRUE**工具提示是否已启用; 否则为**FALSE**。  
  
### <a name="remarks"></a>备注  
 重写[OnToolHitTest](#ontoolhittest)提供[TOOLINFO](http://msdn.microsoft.com/library/windows/desktop/bb760256)结构或结构窗口。  
  
> [!NOTE]
>  某些窗口中，如[CToolBar](../../mfc/reference/ctoolbar-class.md)，提供的内置实现[OnToolHitTest](#ontoolhittest)。  
  
 请参阅[TOOLINFO](http://msdn.microsoft.com/library/windows/desktop/bb760256)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]有关此结构的详细信息。  
  
 只需调用`EnableToolTips`不足以显示工具提示，对于你的孩子控件除非父窗口派生自`CFrameWnd`。 这是因为`CFrameWnd`提供默认处理程序**TTN_NEEDTEXT**通知。 如果父窗口不派生自`CFrameWnd`，即，如果它是对话框中或窗体视图，为子女除非你提供的处理程序，控件将无法正确显示工具提示**TTN_NEEDTEXT**工具提示通知。 请参阅[工具提示](../../mfc/tool-tips-in-windows-not-derived-from-cframewnd.md)。  
  
 为通过 windows 提供的默认工具提示`EnableToolTips`不具有与之关联的文本。 检索文本的工具提示显示， **TTN_NEEDTEXT**显示工具提示窗口之前，会向工具提示控件的父窗口发送通知。 如果没有此消息将某些值赋给处理程序`pszText`的成员**TOOLTIPTEXT**结构，不将为工具提示显示任何文本。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 91](../../mfc/reference/codesnippet/cpp/cwnd-class_30.cpp)]  
  
 [!code-cpp[NVC_MFCWindowing # 92](../../mfc/reference/codesnippet/cpp/cwnd-class_31.cpp)]  
  
##  <a name="enabletrackingtooltips"></a>CWnd::EnableTrackingToolTips  
 启用或禁用跟踪工具提示。  
  
```  
BOOL EnableTrackingToolTips(BOOL bEnable = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `bEnable`  
 指定是否跟踪的工具提示是启用还是禁用。 如果此参数为**TRUE**，提示将启用的跟踪工具。 如果此参数为**FALSE**，将禁用提示的跟踪工具。  
  
### <a name="return-value"></a>返回值  
 指示之前的状态`EnableWindow`调用成员函数。 返回值不为零，如果窗口之前处于禁用状态。 如果以前启用窗口或出错，则返回值为 0。  
  
### <a name="remarks"></a>备注  
 跟踪工具提示是您可以动态定位在屏幕的工具提示窗口。 通过快速更新位置，工具提示窗口显示平稳，移动或"跟踪"。 此功能很有用，如果你需要遵循指针的位置移动的工具提示文本。  
  
##  <a name="enablewindow"></a>CWnd::EnableWindow  
 启用或禁用鼠标和键盘输入。  
  
```  
BOOL EnableWindow(BOOL bEnable = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `bEnable`  
 指定是否要启用或禁用给定的窗口。 如果此参数为**TRUE**，将启用窗口。 如果此参数为**FALSE**，窗口将被禁用。  
  
### <a name="return-value"></a>返回值  
 指示之前的状态`EnableWindow`调用成员函数。 返回值不为零，如果窗口之前处于禁用状态。 如果以前启用窗口或出错，则返回值为 0。  
  
### <a name="remarks"></a>备注  
 当禁用输入时，输入鼠标单击以及键击将被忽略。 启用输入后，窗口将处理所有的输入。  
  
 如果正在更改的启用的状态， [WM_ENABLE](#onenable)之前此函数将返回发送消息。  
  
 如果禁用，所有子窗口隐式处于禁用都状态，尽管它们不会发送`WM_ENABLE`消息。  
  
 必须启用一个窗口，然后才能激活。 例如，如果应用程序正在显示无模式对话框，并已禁用的主窗口，对话框中被销毁之前必须已启用主窗口。 否则为另一个窗口将获取输入的焦点，激活。 如果禁用了子窗口，那么它将 Windows 将尝试确定哪个窗口应获取鼠标消息时将忽略。  
  
 默认情况下，创建时，启用窗口。 应用程序可以指定**WS_DISABLED**设置中的样式[创建](#create)或[CreateEx](#createex)成员函数以创建最初处于禁用状态的窗口。 创建一个窗口后，应用程序还可以使用`EnableWindow`成员函数以启用或禁用窗口。  
  
 应用程序可以使用此函数以启用或禁用在对话框中的控件。 已禁用的控件不能接收输入的焦点，也可以在用户访问它。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 93](../../mfc/reference/codesnippet/cpp/cwnd-class_32.cpp)]  
  
##  <a name="endmodalloop"></a>CWnd::EndModalLoop  
 终止调用`RunModalLoop`。  
  
```  
virtual void EndModalLoop(int nResult);
```  
  
### <a name="parameters"></a>参数  
 `nResult`  
 包含要返回到调用方的值[RunModalLoop](#runmodalloop)。  
  
### <a name="remarks"></a>备注  
 `nResult`参数传播到中的返回值`RunModalLoop`。  
  
##  <a name="endmodalstate"></a>CWnd::EndModalState  
 调用此成员函数以将框架窗口从有模式更改为无模式。  
  
```  
virtual void EndModalState();
```  
  
##  <a name="endpaint"></a>CWnd::EndPaint  
 将标记在给定窗口中绘制的末尾。  
  
```  
void EndPaint(LPPAINTSTRUCT lpPaint);
```  
  
### <a name="parameters"></a>参数  
 `lpPaint`  
 指向[PAINTSTRUCT](../../mfc/reference/paintstruct-structure.md)结构，其中包含通过检索到的绘制信息[BeginPaint](#beginpaint)成员函数。  
  
### <a name="remarks"></a>备注  
 `EndPaint`成员函数是每次调用所需`BeginPaint`成员函数，但仅绘制完成后。  
  
 如果脱字号隐藏的`BeginPaint`成员函数，`EndPaint`还原插入符号移动到屏幕。  
  
### <a name="example"></a>示例  
  请参阅示例[cwnd:: Beginpaint](#beginpaint)。  
  
##  <a name="executedlginit"></a>CWnd::ExecuteDlgInit  
 启动对话框资源。  
  
```  
BOOL ExecuteDlgInit(LPCTSTR lpszResourceName);  
BOOL ExecuteDlgInit(LPVOID lpResource);
```  
  
### <a name="parameters"></a>参数  
 `lpszResourceName`  
 指向以 null 结尾的字符串，指定资源的名称的指针。  
  
 `lpResource`  
 指向资源的指针。  
  
### <a name="return-value"></a>返回值  
 **TRUE**对话框资源是否执行; 否则为**FALSE**。  
  
### <a name="remarks"></a>备注  
 `ExecuteDlgInit`将使用绑定到正在执行的模块中，资源从其他源。 若要实现此目的，`ExecuteDlgInit`查找的资源句柄通过调用`AfxFindResourceHandle`。 如果你的 MFC 应用程序不使用共享的 DLL (MFCx0 [U] [D]。DLL)， **AfxFindResourceHandle**调用[AfxGetResourceHandle](application-information-and-management.md#afxgetresourcehandle)，它返回的可执行文件的当前资源句柄。 如果您使用 MFC 应用程序 MFCx0 [U] [D]。DLL，`AfxFindResourceHandle`遍历**CDynLinkLibrary**对象列表的共享和扩展 Dll 查找正确的资源的处理。  
  
##  <a name="filtertooltipmessage"></a>CWnd::FilterToolTipMessage  
 由框架调用以显示工具提示消息。  
  
```  
void FilterToolTipMessage(MSG* pMsg);
```  
  
### <a name="parameters"></a>参数  
 `pMsg`  
 工具提示消息指向的指针。  
  
### <a name="remarks"></a>备注  
 大多数 MFC 应用程序中调用此方法由从框架[PreTranslateMessage](#pretranslatemessage)和[EnableToolTips](#enabletooltips)，并且不需要自行调用。  
  
 但是，在某些应用程序，例如某些 ActiveX 控件，这些方法可能不会调用由框架，并且你将需要自行调用 FilterToolTipMessage。 有关详细信息，请参阅[方法的创建工具提示](../../mfc/methods-of-creating-tool-tips.md)。  
  
##  <a name="findwindow"></a>CWnd::FindWindow  
 返回顶级`CWnd`由其窗口类`lpszClassName`并且其窗口名或标题，由其赋予`lpszWindowName`。  
  
```  
static CWnd* PASCAL FindWindow(
    LPCTSTR lpszClassName,  
    LPCTSTR lpszWindowName);
```  
  
### <a name="parameters"></a>参数  
 `lpszClassName`  
 指向以 null 结尾的字符串，指定窗口的类名称 ( **WNDCLASS**结构)。 如果`lpClassName`是**NULL**，所有的类名称匹配。  
  
 `lpszWindowName`  
 指向以 null 结尾的字符串，指定的窗口名称 （窗口的标题）。 如果`lpWindowName`是**NULL**，所有的窗口名称匹配。  
  
### <a name="return-value"></a>返回值  
 标识具有指定的类名称和窗口名称的窗口。 它是**NULL**如果不找到任何此类窗口。  
  
 `CWnd`* 可能是暂时的不应存储起来供以后使用。  
  
### <a name="remarks"></a>备注  
 此函数不会搜索子窗口。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 94](../../mfc/reference/codesnippet/cpp/cwnd-class_33.cpp)]  
  
##  <a name="findwindowex"></a>CWnd::FindWindowEx  
 检索其类名和窗口名称匹配的指定的字符串的窗口对象。  
  
```  
static CWnd* FindWindowEx(
    HWND hwndParent,  
    HWND hwndChildAfter,  
    LPCTSTR lpszClass,  
    LPCTSTR lpszWindow);
```  
  
### <a name="parameters"></a>参数  
 *hwndParent*  
 要搜索的子窗口的父窗口的句柄。  
  
 *hwndChildAfter*  
 子窗口的句柄。 与中的 Z 顺序的下一步子窗口开始执行搜索。 子窗口必须直接子窗口的*hwndParent*，而不仅仅是一个子代窗口。  
  
 `lpszClass`  
 指向一个以 null 结尾的字符串，指定的类名称或创建通过以前调用类 atom [RegisterClass](http://msdn.microsoft.com/library/windows/desktop/ms633586)或[RegisterClassEx](http://msdn.microsoft.com/library/windows/desktop/ms633587)。  
  
 *lpszWindow*  
 指向以 null 结尾的字符串，指定的窗口名称 （窗口的标题）。 如果此参数为**NULL**，所有的窗口名称匹配。  
  
### <a name="return-value"></a>返回值  
 如果函数成功，则返回值是指向具有指定的类和窗口名称的窗口对象的指针。 如果函数失败，返回值是**NULL**。  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[FindWindowEx](http://msdn.microsoft.com/library/windows/desktop/ms633500)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="flashwindow"></a>CWnd::FlashWindow  
 使给定的窗口闪烁一次。  
  
```  
BOOL FlashWindow(BOOL bInvert);
```  
  
### <a name="parameters"></a>参数  
 `bInvert`  
 指定是否`CWnd`是种快闪或返回到其原始状态。 `CWnd`刷新从一个状态为其他如果`bInvert`是**TRUE**。 如果`bInvert`是**FALSE**，窗口返回到其原始状态 （活动或非活动）。  
  
### <a name="return-value"></a>返回值  
 如果窗口处于活动状态对的调用之前的非零`FlashWindow`成员函数; 否则为 0。  
  
### <a name="remarks"></a>备注  
 对于连续闪烁创建系统计时器并重复调用`FlashWindow`。 闪烁的`CWnd`意味着更改其标题栏的外观像`CWnd`更改了从非活动状态为活动状态，反之亦然。 （非活动标题栏将变为活动的标题栏; 一个活动的标题栏将变为非活动标题栏。）  
  
 通常情况下，一个窗口是已刷新，以通知用户，它需要关注，但它不当前具有输入的焦点。  
  
 `bInvert`参数应为**FALSE**仅当窗口获取输入的焦点并不再将闪烁; 它应为**TRUE**上等待获取输入的焦点时的连续调用。  
  
 此函数始终返回非零，最小化窗口。 最小化窗口时，`FlashWindow`窗口的图标;，只需将闪烁`bInvert`对于最小化窗口将被忽略。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 95](../../mfc/reference/codesnippet/cpp/cwnd-class_34.cpp)]  
  
##  <a name="flashwindowex"></a>CWnd::FlashWindowEx  
 给定的窗口的闪烁时间。  
  
```  
BOOL FlashWindowEx(
    DWORD dwFlags,  
    UINT uCount,  
    DWORD dwTimeout);
```  
  
### <a name="parameters"></a>参数  
 `dwFlags`  
 指定的闪存的状态。 值的完整列表，请参阅[FLASHWINFO](http://msdn.microsoft.com/library/windows/desktop/ms679348)结构。  
  
 `uCount`  
 指定的窗口闪烁的次数。  
  
 `dwTimeout`  
 指定速率，单位为毫秒，将从该处刷新窗口。 如果`dwTimeout`为零，该函数使用的默认光标闪烁速率。  
  
### <a name="return-value"></a>返回值  
 返回值指定对的调用之前的窗口的状态`FlashWindowEx`函数。 如果窗口标题绘制为活动的调用之前，返回的值不为零。 否则，返回值为零。  
  
### <a name="remarks"></a>备注  
 此方法模拟该函数的功能[FlashWindowEx](http://msdn.microsoft.com/library/windows/desktop/ms679347)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="fromhandle"></a>Cwnd:: Fromhandle  
 在提供了窗口的句柄时返回指向 `CWnd` 对象的指针。 如果 `CWnd` 对象未附加到该句柄，则会创建并附加一个临时 `CWnd` 对象。  
  
```  
static CWnd* PASCAL FromHandle(HWND hWnd);
```  
  
### <a name="parameters"></a>参数  
 `hWnd`  
 `HWND`的 Windows 窗口。  
  
### <a name="return-value"></a>返回值  
 在提供了窗口的句柄时返回指向 `CWnd` 对象的指针。 如果 `CWnd` 对象未附加到该句柄，则会创建并附加一个临时 `CWnd` 对象。  
  
 该指针可能是暂时的，不应存储起来供将来使用。  
  
##  <a name="fromhandlepermanent"></a>CWnd::FromHandlePermanent  
 在提供了窗口的句柄时返回指向 `CWnd` 对象的指针。  
  
```  
static CWnd* PASCAL FromHandlePermanent(HWND hWnd);
```  
  
### <a name="parameters"></a>参数  
 `hWnd`  
 `HWND`的 Windows 窗口。  
  
### <a name="return-value"></a>返回值  
 指向的指针`CWnd`对象。  
  
### <a name="remarks"></a>备注  
 如果`CWnd`对象未附加到该句柄， **NULL**返回。  
  
 此函数与[FromHandle](#fromhandle)，不会创建临时对象。  
  
##  <a name="get_accchild"></a>CWnd::get_accChild  
 由框架调用以检索指定子级的 `IDispatch` 接口地址。  
  
```  
virtual HRESULT get_accChild(
    VARIANT varChild,  
    IDispatch** ppdispChild);
```  
  
### <a name="parameters"></a>参数  
 `varChild`  
 标识的子级其`IDispatch`接口是要检索。  
  
 *ppdispChild*  
 接收的子对象的地址`IDispatch`接口。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中[IAccessible::get_accChild](http://msdn.microsoft.com/library/windows/desktop/dd318475)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类，如果你有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理）。  
  
 有关详细信息，请参阅[IAccessible::get_accChild](http://msdn.microsoft.com/library/windows/desktop/dd318475)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="get_accchildcount"></a>CWnd::get_accChildCount  
 由框架调用调用以检索属于该对象的子级的个数。  
  
```  
virtual HRESULT get_accChildCount(long* pcountChildren);
```  
  
### <a name="parameters"></a>参数  
 *pcountChildren*  
 接收的子级的个数。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中[IAccessible::get_accChildCount](http://msdn.microsoft.com/library/windows/desktop/dd318476)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类，如果你有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理）。 调用基类版本，然后添加 nonwindowed 子元素。  
  
 有关详细信息，请参阅[IAccessible::get_accChildCount](http://msdn.microsoft.com/library/windows/desktop/dd318476)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="get_accdefaultaction"></a>CWnd::get_accDefaultAction  
 由框架调用以检索描述对象默认操作的字符串。  
  
```  
virtual HRESULT get_accDefaultAction(
    VARIANT varChild,  
    BSTR* pszDefaultAction);
```  
  
### <a name="parameters"></a>参数  
 `varChild`  
 指定是否要检索的默认操作为该对象或对象的子元素之一。 此参数可以为 CHILDID_SELF （若要获取有关对象的信息） 或一个子 ID （以获取有关对象的子元素的信息）。  
  
 *pszDefaultAction*  
 地址`BSTR`接收描述的默认操作为指定的对象，则为 NULL，如果此对象没有默认操作的本地化的字符串。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中[IAccessible::get_accDefaultAction](http://msdn.microsoft.com/library/windows/desktop/dd318477)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类来描述对象的默认操作。  
  
 有关详细信息，请参阅[IAccessible::get_accDefaultAction](http://msdn.microsoft.com/library/windows/desktop/dd318477)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="get_accdescription"></a>CWnd::get_accDescription  
 由框架调用以检索描述指定对象的可视外观的字符串。  
  
```  
virtual HRESULT get_accDescription(
    VARIANT varChild,  
    BSTR* pszDescription);
```  
  
### <a name="parameters"></a>参数  
 `varChild`  
 指定要检索的说明是否的对象或对象的子元素之一。 此参数可以为 CHILDID_SELF （若要获取有关对象的信息） 或一个子 ID （以获取有关对象的子元素的信息）。  
  
 `pszDescription`  
 地址`BSTR`接收本地化的字符串描述所指定的对象，或如果没有任何其他说明是可用于此对象为 NULL。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中[IAccessible::get_accDescription](http://msdn.microsoft.com/library/windows/desktop/dd318478)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类来描述你的对象。 调用基类版本，并添加您的说明。  
  
 有关详细信息，请参阅[IAccessible::get_accDescription](http://msdn.microsoft.com/library/windows/desktop/dd318478)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="get_accfocus"></a>CWnd::get_accFocus  
 由框架调用以检索具有键盘焦点的对象。  
  
```  
virtual HRESULT get_accFocus(VARIANT* pvarChild);
```  
  
### <a name="parameters"></a>参数  
 `pvarChild`  
 接收具有焦点的对象有关的信息。 请参阅*pvarID*中[IAccessible::get_accFocus](http://msdn.microsoft.com/library/windows/desktop/dd318479)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中**IAccessible::get_accFocus**中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类，如果你有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理）。  
  
 有关详细信息，请参阅[IAccessible::get_accFocus](http://msdn.microsoft.com/library/windows/desktop/dd318479)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="get_acchelp"></a>CWnd::get_accHelp  
 由框架用于检索对象的调用**帮助**属性字符串。  
  
```  
virtual HRESULT get_accHelp(
    VARIANT varChild,  
    BSTR* pszHelp);
```  
  
### <a name="parameters"></a>参数  
 `varChild`  
 指定要检索的帮助信息是否的对象或对象的子元素之一。 此参数可以为 CHILDID_SELF （若要获取有关对象的信息） 或一个子 ID （以获取有关对象的子元素的信息）。  
  
 *pszHelp*  
 地址`BSTR`接收包含指定的对象，则为 NULL 的帮助信息，如果没有帮助的信息的本地化的字符串。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中[IAccessible::get_accHelp](http://msdn.microsoft.com/library/windows/desktop/dd318480)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类为你的对象提供帮助文本。  
  
 有关详细信息，请参阅[IAccessible::get_accHelp](http://msdn.microsoft.com/library/windows/desktop/dd318480)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="get_acchelptopic"></a>CWnd::get_accHelpTopic  
 由框架后，若要检索的完整路径调用**WinHelp**与指定的对象和该文件内相应主题的标识符关联的文件。  
  
```  
virtual HRESULT get_accHelpTopic(
    BSTR* pszHelpFile,  
    VARIANT varChild,  
    long* pidTopic);
```  
  
### <a name="parameters"></a>参数  
 `pszHelpFile`  
 地址`BSTR`接收的完整路径`WinHelp`与指定的对象，如果任何关联的文件。  
  
 `varChild`  
 指定要检索的帮助主题是否为对象或对象的子元素之一。 此参数可以为 CHILDID_SELF （以获取帮助主题的对象） 或一个子 ID （以获取一个对象的子元素的帮助主题）。  
  
 `pidTopic`  
 标识与指定对象关联的帮助文件主题。 请参阅`pidTopic`中[IAccessible::get_accHelpTopic](http://msdn.microsoft.com/library/windows/desktop/dd318481)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中**IAccessible::get_accHelpTopic**中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类以提供有关你的对象的帮助信息。  
  
 有关详细信息，请参阅[IAccessible::get_accHelpTopic](http://msdn.microsoft.com/library/windows/desktop/dd318481)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="get_acckeyboardshortcut"></a>CWnd::get_accKeyboardShortcut  
 由框架调用以检索指定对象的快捷键或访问键。  
  
```  
virtual HRESULT get_accKeyboardShortcut(
    VARIANT varChild,  
    BSTR* pszKeyboardShortcut);
```  
  
### <a name="parameters"></a>参数  
 `varChild`  
 指定要检索的键盘快捷方式是否的对象或对象的子元素之一。 此参数可以为 CHILDID_SELF （若要获取有关对象的信息） 或一个子 ID （以获取有关对象的子元素的信息）。  
  
 *pszKeyboardShortcut*  
 地址`BSTR`接收本地化的字符串标识键盘快捷方式，则为 NULL 没有键盘快捷方式是否与指定对象关联。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中[IAccessible::get_accKeyboardShortcut](http://msdn.microsoft.com/library/windows/desktop/dd318482)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类来标识你的对象的键盘快捷方式。  
  
 有关详细信息，请参阅[IAccessible::get_accKeyboardShortcut](http://msdn.microsoft.com/library/windows/desktop/dd318482)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="get_accname"></a>CWnd::get_accName  
 由框架调用以检索指定对象的名称。  
  
```  
virtual HRESULT get_accName(
    VARIANT varChild,  
    BSTR* pszName);
```  
  
### <a name="parameters"></a>参数  
 `varChild`  
 指定要检索的名称是否为对象或对象的子元素之一。 此参数可以为 CHILDID_SELF （若要获取有关对象的信息） 或一个子 ID （以获取有关对象的子元素的信息）。  
  
 `pszName`  
 地址`BSTR`接收包含指定的对象的名称的字符串。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中[IAccessible::get_accName](http://msdn.microsoft.com/library/windows/desktop/dd318483)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类返回的对象名称。  
  
 有关详细信息，请参阅[IAccessible::get_accName](http://msdn.microsoft.com/library/windows/desktop/dd318483)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="get_accparent"></a>CWnd::get_accParent  
 由框架调用以检索对象父级的 `IDispatch` 接口。  
  
```  
virtual HRESULT get_accParent(IDispatch** ppdispParent);
```  
  
### <a name="parameters"></a>参数  
 *ppdispParent*  
 接收的父对象的地址`IDispatch`接口。 如果存在没有父级，或如果子无法访问其父级，则变量设置为 NULL。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中[IAccessible::get_accParent](http://msdn.microsoft.com/library/windows/desktop/dd318484)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 在大多数情况下，你无需重写此函数。  
  
 有关详细信息，请参阅[IAccessible::get_accParent](http://msdn.microsoft.com/library/windows/desktop/dd318484)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="get_accrole"></a>CWnd::get_accRole  
 由框架调用以检索描述指定对象的角色的信息。  
  
```  
virtual HRESULT get_accRole(
    VARIANT varChild,  
    VARIANT* pvarRole);
```  
  
### <a name="parameters"></a>参数  
 `varChild`  
 指定要检索的角色信息是否的对象或对象的子元素之一。 此参数可以为 CHILDID_SELF （若要获取有关对象的信息） 或一个子 ID （以获取有关对象的子元素的信息）。  
  
 `pvarRole`  
 接收角色信息。 请参阅`pvarRole`中[IAccessible::get_accRole](http://msdn.microsoft.com/library/windows/desktop/dd318485)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中**IAccessible::get_accRole**中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类，如果你有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理）。  
  
 有关详细信息，请参阅[IAccessible::get_accRole](http://msdn.microsoft.com/library/windows/desktop/dd318485)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="get_accselection"></a>CWnd::get_accSelection  
 由框架调用以检索该对象的选定子级。  
  
```  
virtual HRESULT get_accSelection(VARIANT* pvarChildren);
```  
  
### <a name="parameters"></a>参数  
 `pvarChildren`  
 接收有关哪些选择子级的信息。 请参阅`pvarChildren`中[IAccessible::get_accSelection](http://msdn.microsoft.com/library/windows/desktop/dd318486)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中**IAccessible::get_accSelection**中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类，如果你有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理）。  
  
 有关详细信息，请参阅[IAccessible::get_accSelection](http://msdn.microsoft.com/library/windows/desktop/dd318486)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="get_accstate"></a>CWnd::get_accState  
 由框架调用以检索指定对象的当前状态。  
  
```  
virtual HRESULT get_accState(
    VARIANT varChild,  
    VARIANT* pvarState);
```  
  
### <a name="parameters"></a>参数  
 `varChild`  
 指定要检索的状态信息是否的对象或对象的子元素之一。 此参数可以为 CHILDID_SELF （若要获取有关对象的信息） 或一个子 ID （以获取有关对象的子元素的信息）。  
  
 `pvarState`  
 接收有关对象的状态的信息。 请参阅`pvarState`中[IAccessible::get_accState](http://msdn.microsoft.com/library/windows/desktop/dd318487)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中**IAccessible::get_accState**中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类，如果你有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理）。  
  
 有关详细信息，请参阅[IAccessible::get_accState](http://msdn.microsoft.com/library/windows/desktop/dd318487)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="get_accvalue"></a>CWnd::get_accValue  
 由框架调用以检索指定对象的值。  
  
```  
virtual HRESULT get_accValue(
    VARIANT varChild,  
    BSTR* pszValue);
```  
  
### <a name="parameters"></a>参数  
 `varChild`  
 指定要检索的值信息是否的对象或对象的子元素之一。 此参数可以为 CHILDID_SELF （若要获取有关对象的信息） 或一个子 ID （以获取有关对象的子元素的信息）。  
  
 `pszValue`  
 地址`BSTR`接收包含该对象的当前值的本地化的字符串。  
  
### <a name="return-value"></a>返回值  
 如果成功，失败 COM 错误代码返回，则为 S_OK。 请参阅**返回值**中[IAccessible::get_accValue](http://msdn.microsoft.com/library/windows/desktop/dd318488)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 此函数是 MFC 的一部分[Active Accessibility](http://msdn.microsoft.com/library/windows/desktop/dd373592)支持。  
  
 重写此函数在中的您`CWnd`-派生类，如果你有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理）。  
  
 有关详细信息，请参阅[IAccessible::get_accValue](http://msdn.microsoft.com/library/windows/desktop/dd318488)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="getactivewindow"></a>CWnd::GetActiveWindow  
 检索指向活动窗口的指针。  
  
```  
static CWnd* PASCAL GetActiveWindow();
```  
  
### <a name="return-value"></a>返回值  
 活动窗口或**NULL**如果没有窗口处于活动状态的时间调用。 该指针可能是暂时的，不应存储起来供将来使用。  
  
### <a name="remarks"></a>备注  
 活动窗口是当前具有输入的焦点的窗口或明确指定为活动的窗口[SetActiveWindow](#setactivewindow)成员函数。  
  
##  <a name="getancestor"></a>CWnd::GetAncestor  
 检索指定窗口的上级先窗口对象。  
  
```  
CWnd* GetAncestor(UINT gaFlags) const;  
```  
  
### <a name="parameters"></a>参数  
 *gaFlags*  
 指定要检索的上级。 有关可能的值的完整列表，请参阅[GetAncestor](http://msdn.microsoft.com/library/windows/desktop/ms633502)。  
  
### <a name="return-value"></a>返回值  
 如果函数成功，则返回值是指向上级先窗口对象的指针。 如果函数失败，返回值是**NULL**。  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[GetAncestor](http://msdn.microsoft.com/library/windows/desktop/ms633502)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="getcapture"></a>CWnd::GetCapture  
 检索具有鼠标捕获的窗口。  
  
```  
static CWnd* PASCAL GetCapture();
```  
  
### <a name="return-value"></a>返回值  
 标识具有鼠标捕获的窗口。 它是**NULL**如果没有窗口具有鼠标捕获。  
  
 返回值可能是暂时，并且不应存储起来供以后使用。  
  
### <a name="remarks"></a>备注  
 只有一个窗口具有鼠标捕获在任何给定时间。 在窗口接收鼠标捕获时[SetCapture](#setcapture)调用成员函数。 指示光标在其边框内，此窗口将接收鼠标输入。  
  
##  <a name="getcaretpos"></a>CWnd::GetCaretPos  
 检索插入符号的当前位置的客户端坐标，并将它们作为返回`CPoint`。  
  
```  
static CPoint PASCAL GetCaretPos();
```  
  
### <a name="return-value"></a>返回值  
 [CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，其中包含脱字号的位置的坐标。  
  
### <a name="remarks"></a>备注  
 中的客户端坐标提供脱字号位置`CWnd`窗口。  
  
##  <a name="getcheckedradiobutton"></a>CWnd::GetCheckedRadioButton  
 检索指定的组中当前选中的单选按钮的 ID。  
  
```  
int GetCheckedRadioButton(
    int nIDFirstButton,  
    int nIDLastButton);
```  
  
### <a name="parameters"></a>参数  
 `nIDFirstButton`  
 指定组中的第一个单选按钮的整数标识符。  
  
 `nIDLastButton`  
 指定组中的最后一个单选按钮的整数标识符。  
  
### <a name="return-value"></a>返回值  
 已选中的单选按钮或如果未选择任何为 0 的 ID。  
  
##  <a name="getclientrect"></a>CWnd::GetClientRect  
 将复制的客户端坐标`CWnd`到结构的客户端区域的指向`lpRect`。  
  
```  
void GetClientRect(LPRECT lpRect) const;  
```  
  
### <a name="parameters"></a>参数  
 `lpRect`  
 指向[RECT 结构](../../mfc/reference/rect-structure1.md)或`CRect`对象以便接收客户端坐标。 **左**和**顶部**成员将为 0。 **右**和**底部**成员将包含的宽度和窗口的高度。  
  
### <a name="remarks"></a>备注  
 客户端坐标指定客户端区域的左上角和右下角。 由于客户端坐标相对于的左上角`CWnd`客户端区域中的左上角的坐标为 (0，0)。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::IsIconic](#isiconic)。  
  
##  <a name="getclipboardowner"></a>CWnd::GetClipboardOwner  
 检索剪贴板当前所有者。  
  
```  
static CWnd* PASCAL GetClipboardOwner();
```  
  
### <a name="return-value"></a>返回值  
 标识拥有剪贴板，如果该函数成功的窗口。 否则，它是**NULL**。  
  
 返回的指针可能是暂时的不应以供稍后使用存储。  
  
### <a name="remarks"></a>备注  
 剪贴板仍然可以包含数据，即使不当前拥有。  
  
##  <a name="getclipboardviewer"></a>CWnd::GetClipboardViewer  
 检索剪贴板查看器链中的第一个窗口。  
  
```  
static CWnd* PASCAL GetClipboardViewer();
```  
  
### <a name="return-value"></a>返回值  
 标识当前负责显示剪贴板如果成功，则窗口否则为**NULL** （例如，如果没有任何查看工具）。  
  
 返回的指针可能是暂时的不应以供稍后使用存储。  
  
##  <a name="getcontrolunknown"></a>CWnd::GetControlUnknown  
 调用此成员函数以检索指向未知的 OLE 控件的指针。  
  
```  
LPUNKNOWN GetControlUnknown();
```  
  
### <a name="return-value"></a>返回值  
 指向的指针[IUnknown](http://msdn.microsoft.com/library/windows/desktop/ms680509)由此 OLE 控件的接口`CWnd`对象。 如果此对象不表示 OLE 控件，则返回值是**NULL**。  
  
### <a name="remarks"></a>备注  
 不应释放这**IUnknown**指针。 通常情况下，你将获取特定接口的控件。  
  
 返回的接口指针**GetControlUnknown**不引用计数。 不要调用[iunknown:: Release](http://msdn.microsoft.com/library/windows/desktop/ms682317)指针上除非以前调用了[iunknown:: Addref](http://msdn.microsoft.com/library/windows/desktop/ms691379)在其上。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 96](../../mfc/reference/codesnippet/cpp/cwnd-class_35.cpp)]  
  
##  <a name="getcurrentmessage"></a>CWnd::GetCurrentMessage  
 返回指向此窗口当前正在处理的消息的指针。 仅应调用时**上***消息*消息处理程序成员函数。  
  
```  
static const MSG* PASCAL GetCurrentMessage();
```  
  
### <a name="return-value"></a>返回值  
 返回一个指向[消息](../../mfc/reference/msg-structure1.md)当前正在处理包含窗口的消息的结构。 仅应调用时**上***消息*处理程序。  
  
### <a name="example"></a>示例  
  请参阅示例[CMDIFrameWnd::MDICascade](../../mfc/reference/cmdiframewnd-class.md#mdicascade)。  
  
##  <a name="getdc"></a>Cwnd:: Getdc  
 检索指向一个常见、 类或专用设备上下文，具体取决于为指定的类样式的客户端区`CWnd`。  
  
```  
CDC* GetDC();
```  
  
### <a name="return-value"></a>返回值  
 标识的设备上下文`CWnd`工作区成功; 否则为返回的值是否**NULL**。 该指针可能是暂时的，不应存储起来供将来使用。  
  
### <a name="remarks"></a>备注  
 对于常见的设备上下文，`GetDC`检索到它每次将默认属性分配给上下文。 类和私有上下文`GetDC`离开以前分配的属性保持不变。 设备上下文可以在后续的图形设备接口 (GDI) 函数中，用于在客户端区域中进行绘制。  
  
 设备上下文所属的窗口类，除非[ReleaseDC](#releasedc)必须调用成员函数来绘制后释放上下文。  
  
 设备上下文属于`CWnd`类由`GetDC`成员函数，如果**CS_CLASSDC**， **CS_OWNDC**，或**CS_PARENTDC**指定为中的样式**WNDCLASS**结构注册类时。  
  
##  <a name="getdcex"></a>CWnd::GetDCEx  
 检索设备上下文的句柄`CWnd`窗口。  
  
```  
CDC* GetDCEx(
    CRgn* prgnClip,  
    DWORD flags);
```  
  
### <a name="parameters"></a>参数  
 `prgnClip`  
 标识可能结合客户端窗口的可见区域的剪辑区域。  
  
 `flags`  
 可以具有以下预设值之一︰  
  
- **DCX_CACHE**从缓存中返回设备上下文而不是**OWNDC**或**CLASSDC**窗口。 重写**CS_OWNDC**和**CS_CLASSDC**。  
  
- **DCX_CLIPCHILDREN**排除下面的所有子窗口的可见区域`CWnd`窗口。  
  
- **DCX_CLIPSIBLINGS**排除所有同级窗口上面的可见区域`CWnd`窗口。  
  
- **DCX_EXCLUDERGN**排除由标识的剪辑区域`prgnClip`从返回的设备上下文的可见区域。  
  
- **DCX_INTERSECTRGN**与由标识该剪辑区域相交`prgnClip`中返回的设备上下文的可见区域。  
  
- **DCX_LOCKWINDOWUPDATE**允许绘图，即使没有`LockWindowUpdate`否则中排除此窗口的有效调用。 此值用于在跟踪期间的绘图。  
  
- **DCX_PARENTCLIP**使用父窗口的可见区域并忽略父窗口的**WS_CLIPCHILDREN**和**WS_PARENTDC**样式位。 此值设置到的左上角的设备上下文的源`CWnd`窗口。  
  
- **DCX_WINDOW**对应设备上下文返回窗口矩形，而不是客户端矩形。  
  
### <a name="return-value"></a>返回值  
 如果该函数成功，则指定的窗口设备上下文否则为**NULL**。  
  
### <a name="remarks"></a>备注  
 设备上下文可以在后续的 GDI 函数中，用于在客户端区域中进行绘制。  
  
 此函数，即扩展到[GetDC](http://msdn.microsoft.com/library/windows/desktop/dd144871)函数中，提供更好地控制是否以及如何将剪切窗口设备上下文的应用程序。  
  
 设备上下文所属的窗口类，除非[ReleaseDC](http://msdn.microsoft.com/library/windows/desktop/dd162920)函数必须调用以绘制后释放上下文。 由于在任何给定时间都可以仅五个常见的设备上下文，无法释放设备上下文可以阻止其他应用程序获得对设备上下文的访问。  
  
 若要获取缓存的设备上下文，应用程序必须指定[DCX_CACHE](http://msdn.microsoft.com/library/windows/desktop/dd144873)。 如果**DCX_CACHE**未指定和窗口既不是**CS_OWNDC**也不[CS_CLASSDC](http://msdn.microsoft.com/library/windows/desktop/ms633576)，此函数将返回**NULL**。  
  
 设备上下文具有特殊特性返回由[GetDCEx](http://msdn.microsoft.com/library/windows/desktop/dd144873)函数如果**CS_CLASSDC**， [CS_OWNDC](http://msdn.microsoft.com/library/windows/desktop/ms633576)，或[CS_PARENTDC](http://msdn.microsoft.com/library/windows/desktop/ms633576)中指定的样式[WNDCLASS](http://msdn.microsoft.com/library/windows/desktop/ms633576)结构注册类时。  
  
 有关这些特征的详细信息，请参阅说明**WNDCLASS**结构[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="getdcrendertarget"></a>CWnd::GetDCRenderTarget  
 检索 `CWnd` 窗口的设备上下文 (DC) 呈现目标。  
  
```  
CDCRenderTarget* GetDCRenderTarget();
```  
  
### <a name="return-value"></a>返回值  
 设备上下文呈现目标指定窗口，如果该函数成功，则否则为**NULL**。  
  
### <a name="remarks"></a>备注  
  
##  <a name="getdescendantwindow"></a>CWnd::GetDescendantWindow  
 调用此成员函数以查找指定由给定 ID 的子代窗口  
  
```  
CWnd* GetDescendantWindow(
    int nID,  
    BOOL bOnlyPerm = FALSE) const;  
```  
  
### <a name="parameters"></a>参数  
 `nID`  
 指定要检索的控件或子窗口的标识符。  
  
 `bOnlyPerm`  
 指定要返回窗口是否可以为临时。 如果**TRUE**，可以返回只有永久窗口; 如果**FALSE，**函数可以返回临时窗口。 临时 windows 上的详细信息请参阅[技术说明 3](../../mfc/tn003-mapping-of-windows-handles-to-objects.md)。  
  
### <a name="return-value"></a>返回值  
 指向的指针`CWnd`对象，或**NULL**如果不找到任何子窗口。  
  
### <a name="remarks"></a>备注  
 此成员函数将搜索子窗口，不仅直属子对象的窗口的整个树。  
  
##  <a name="getdesktopwindow"></a>CWnd::GetDesktopWindow  
 返回在 Windows 桌面窗口。  
  
```  
static CWnd* PASCAL GetDesktopWindow();
```  
  
### <a name="return-value"></a>返回值  
 标识 Windows 桌面窗口。 此指针可能是暂时的不应存储起来供以后使用。  
  
### <a name="remarks"></a>备注  
 在桌面窗口覆盖整个屏幕，并是所有图标和其他 windows 绘制在其之上的区域。  
  
##  <a name="getdlgctrlid"></a>CWnd::GetDlgCtrlID  
 返回窗口或控件的 ID 值的任何子窗口，不仅仅是这些控件在对话框中。  
  
```  
int GetDlgCtrlID() const;  
```  
  
### <a name="return-value"></a>返回值  
 数字标识符`CWnd`子窗口，如果该函数成功; 否则为 0。  
  
### <a name="remarks"></a>备注  
 顶级窗口没有 ID 值，因为此函数的返回值无效如果`CWnd`为顶级窗口。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::OnCtlColor](#onctlcolor)。  
  
##  <a name="getdlgitem"></a>CWnd::GetDlgItem  
 检索对话框中指定的控件或子窗口或其他窗口的指针。  
  
```  
CWnd* GetDlgItem(int nID) const;  
  
void GetDlgItem(
    int nID,  
    HWND* phWnd) const;  
```  
  
### <a name="parameters"></a>参数  
 `nID`  
 指定要检索的控件或子窗口的标识符。  
  
 `phWnd`  
 指向子窗口的指针。  
  
### <a name="return-value"></a>返回值  
 指向给定的控件或子窗口的指针。 如果无法控制与给定的整数 ID`nID`参数存在，则值为**NULL**。  
  
 返回的指针可能是暂时的不应以供稍后使用存储。  
  
### <a name="remarks"></a>备注  
 将指针返回通常被强制转换由标识控件的类型为`nID`。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 97](../../mfc/reference/codesnippet/cpp/cwnd-class_36.cpp)]  
  
##  <a name="getdlgitemint"></a>CWnd::GetDlgItemInt  
 检索标识的控件的文本`nID`。  
  
```  
UINT GetDlgItemInt(
    int nID,  
    BOOL* lpTrans = NULL,  
    BOOL bSigned = TRUE) const;  
```  
  
### <a name="parameters"></a>参数  
 `nID`  
 指定要转换的对话框中控件的整数标识符。  
  
 `lpTrans`  
 指向以将接收的已翻译的标志的布尔变量。  
  
 `bSigned`  
 指定要检索的值是否已签名。  
  
### <a name="return-value"></a>返回值  
 指定对话框中项文本的已翻译的值。 0 是有效的返回值，因为`lpTrans`必须用于检测错误。 如果需要一个有符号的返回值，请将其转换为`int`类型。  
  
 在函数返回 0 已翻译的数是否大于 INT_MAX （对于有符号数字） 或 UINT_MAX （对应于无符号）。  
  
 当发生错误，例如遇到非数字字符和超过了上述最`GetDlgItemInt`将 0 复制到指向的位置`lpTrans`。 如果没有错误，`lpTrans`接收一个非零值。 如果`lpTrans`是**NULL**，`GetDlgItemInt`不会警告有关的错误。  
  
### <a name="remarks"></a>备注  
 它将给定的对话框中指定的控件的文本转换的整数值按最小化的文本开头任何多余的空格和转换十进制数字。 在达到文本的末尾或遇到任何非数字字符时，它会停止转换。  
  
 如果`bSigned`是**TRUE**，`GetDlgItemInt`检查的文本开头减号 （-） 并将文本转换为有符号的数字。 否则，它会创建一个无符号的值。  
  
 它将发送[WM_GETTEXT](http://msdn.microsoft.com/library/windows/desktop/ms632627)到控件的消息。  
  
##  <a name="getdlgitemtext"></a>CWnd::GetDlgItemText  
 调用此成员函数可检索的标题或与在对话框中控件关联的文本。  
  
```  
int GetDlgItemText(
    int nID,  
    LPTSTR lpStr,  
    int nMaxCount) const;  
  
int GetDlgItemText(
    int nID,  
    CString& rString) const;  
```  
  
### <a name="parameters"></a>参数  
 `nID`  
 指定要检索其标题控件的整数标识符。  
  
 `lpStr`  
 指向要接收控件的标题或文本的缓冲区。  
  
 `nMaxCount`  
 指定要复制到的字符串的最大长度 （以字符为单位） `lpStr`。 如果字符串的长度超过`nMaxCount`，则将被截断。  
  
 `rString`  
 对引用[CString](../../atl-mfc-shared/reference/cstringt-class.md)。  
  
### <a name="return-value"></a>返回值  
 指定的实际将复制到缓冲区，不包括终止 null 字符的字符数。 如果没有文本复制，则值为 0。  
  
### <a name="remarks"></a>备注  
 `GetDlgItemText`成员函数将文本复制到位置指向`lpStr`并返回复制的字节数的计数。  
  
##  <a name="getdsccursor"></a>CWnd::GetDSCCursor  
 调用此成员函数以检索指向由数据源控件的数据源、 用户名、 密码和 SQL 属性定义的基础光标的指针。  
  
```  
IUnknown* GetDSCCursor();
```  
  
### <a name="return-value"></a>返回值  
 指向由数据源控件定义的游标的指针。 MFC 负责调用`AddRef`指针。  
  
### <a name="remarks"></a>备注  
 使用返回的指针设置将复杂的数据绑定控件，如数据绑定网格控件的 ICursor 属性。 在第一个绑定的控件请求其光标，数据源控件不处于活动状态。 这种情况可能是通过调用显式`GetDSCCursor`或隐式 MFC 绑定管理器。 在任一情况下，你可以强制使数据源控件可通过调用变为活动状态`GetDSCCursor`，然后再调用**版本**给返回的指针上**IUnknown**。 激活将导致要尝试连接到基础数据源的数据源控件。 可能在以下上下文中使用返回的指针︰  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFC_AxDataBinding # 1](../../mfc/reference/codesnippet/cpp/cwnd-class_6.cpp)]  
[!code-cpp[NVC_MFC_AxDataBinding # 5](../../mfc/reference/codesnippet/cpp/cwnd-class_37.cpp)]  
[!code-cpp[NVC_MFC_AxDataBinding # 3](../../mfc/reference/codesnippet/cpp/cwnd-class_8.cpp)]  
  
##  <a name="getdynamiclayout"></a>Cwnd:: Getdynamiclayout  
 检索指向动态布局管理器对象的指针。  
  
```  
CMFCDynamicLayout* GetDynamicLayout();
```  
  
### <a name="return-value"></a>返回值  
 动态布局管理器对象的指针，如果未启用动态布局，则为 NULL。  
  
### <a name="remarks"></a>备注  
 窗口对象拥有并管理返回的指针的生存期，因此它只应该用于访问对象；不要删除指针或永久存储指针。  
  
##  <a name="getexstyle"></a>CWnd::GetExStyle  
 返回窗口的扩展样式。  
  
```  
DWORD GetExStyle() const;  
```  
  
### <a name="return-value"></a>返回值  
 窗口的扩展样式。 有关在 MFC 中使用的扩展的窗口样式的详细信息，请参阅[扩展窗口样式](../../mfc/reference/extended-window-styles.md)。  
  
##  <a name="getfocus"></a>CWnd::GetFocus  
 检索指向的`CWnd`，当前具有输入的焦点。  
  
```  
static CWnd* PASCAL GetFocus();
```  
  
### <a name="return-value"></a>返回值  
 指向当前具有焦点，窗口的指针或**NULL**如果未焦点窗口。  
  
 该指针可能是暂时的，不应存储起来供将来使用。  
  
##  <a name="getfont"></a>CWnd::GetFont  
 发送`WM_GETFONT`到窗口的消息，以检索当前的字体。  
  
```  
CFont* GetFont() const;  
```  
  
### <a name="return-value"></a>返回值  
 指向[CFont](../../mfc/reference/cfont-class.md)附加到窗口的当前字体的对象。  
  
### <a name="remarks"></a>备注  
 此方法无任何效果，除非窗口处理`WM_GETFONT`消息。 很多 MFC 类派生自`CWnd`处理此消息，因为它们附加到的预定义的窗口类，包括消息处理程序`WM_GETFONT`消息。 若要使用此方法，派生自的类`CWnd`必须定义的方法处理程序`WM_GETFONT`消息。  
  
##  <a name="getforegroundwindow"></a>CWnd::GetForegroundWindow  
 返回指向前台窗口 （用户当前使用的窗口）。  
  
```  
static CWnd* PASCAL GetForegroundWindow();
```  
  
### <a name="return-value"></a>返回值  
 指向前台窗口的指针。 这可能是一个临时`CWnd`对象。  
  
### <a name="remarks"></a>备注  
 前景窗口仅适用于顶级窗口 （框架窗口或对话框）。  
  
##  <a name="geticon"></a>CWnd::GetIcon  
 调用此成员函数可获取是大 (32 x 32) 的句柄或一个小的 (16 x 16) 图标的句柄，由`bBigIcon`。  
  
```  
HICON GetIcon(BOOL bBigIcon) const;  
```  
  
### <a name="parameters"></a>参数  
 `bBigIcon`  
 如果通过 32 像素的图标指定 32 像素**TRUE**; 如果由 16 像素图标指定 16 像素**FALSE**。  
  
### <a name="return-value"></a>返回值  
 图标句柄。 如果不成功，则返回**NULL**。  
  
##  <a name="getlastactivepopup"></a>CWnd::GetLastActivePopup  
 确定最近处于活动状态的由 `CWnd` 拥有的弹出窗口。  
  
```  
CWnd* GetLastActivePopup() const;  
```  
  
### <a name="return-value"></a>返回值  
 标识最近活动的弹出窗口。 如果满足以下任何条件，则返回的值将为窗口本身︰  
  
-   最近的活动窗口本身。  
  
-   窗口不拥有任何弹出窗口。  
  
-   窗口不是顶级窗口，或拥有的另一个窗口。  
  
 该指针可能是暂时的，不应存储起来供将来使用。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::FindWindow](#findwindow)。  
  
##  <a name="getlayeredwindowattributes"></a>CWnd::GetLayeredWindowAttributes  
 检索分层窗口的不透明度和透明度颜色键。  
  
```  
BOOL GetLayeredWindowAttributes(
    COLORREF* pcrKey,  
    BYTE* pbAlpha,  
    DWORD* pdwFlags) const;  
```  
  
### <a name="parameters"></a>参数  
 *pcrKey*  
 指向**COLORREF**接收用于撰写分层的窗口的透明度颜色键的值。 将透明绘制成这种颜色窗口的所有像素。 这可以是**NULL**如果不需要自变量。  
  
 `pbAlpha`  
 指向**字节**接收用于描述分层窗口的不透明度的 Alpha 值。 当变量引用`pbAlpha`为 0，则该窗口是完全透明。 当变量引用`pbAlpha`为 255，窗口是不透明。 这可以是**NULL**如果不需要自变量。  
  
 *pdwFlags*  
 指向`DWORD`接收分层标志。 这可以是**NULL**如果不需要自变量。 有关可能的值的完整列表，请参阅[GetLayeredWindowAttributes](http://msdn.microsoft.com/library/windows/desktop/ms633508)。  
  
### <a name="return-value"></a>返回值  
 如果函数成功，则为非零值；否则为  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[GetLayeredWindowAttributes](http://msdn.microsoft.com/library/windows/desktop/ms633508)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="getmenu"></a>CWnd::GetMenu  
 检索指向此窗口的菜单的指针。  
  
```  
CMenu* GetMenu() const;  
```  
  
### <a name="return-value"></a>返回值  
 标识菜单。 值是**NULL**如果`CWnd`有无菜单。 如果返回值是未定义`CWnd`是子窗口。  
  
 返回的指针可能是暂时的不应以供稍后使用存储。  
  
### <a name="remarks"></a>备注  
 此函数应不使用的子窗口，因为它们不具有一个菜单。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 98](../../mfc/reference/codesnippet/cpp/cwnd-class_38.cpp)]  
  
##  <a name="getmenubarinfo"></a>CWnd::GetMenuBarInfo  
 检索有关指定的菜单栏的信息。  
  
```  
BOOL GetMenuBarInfo(
    LONG idObject,  
    LONG idItem,  
    PMENUBARINFO pmbi) const;  
```  
  
### <a name="parameters"></a>参数  
 `idObject`  
 指定菜单对象。 有关可能的值的列表，请参阅[GetMenuBarInfo](http://msdn.microsoft.com/library/windows/desktop/ms647833)。  
  
 `idItem`  
 指定为其检索信息的项。 如果此参数为零，该函数将检索有关菜单本身的信息。 如果此参数为 1，函数将检索信息的第一项菜单上，依次类推。  
  
 *pmbi*  
 指向[MENUBARINFO](http://msdn.microsoft.com/library/windows/desktop/ms647564)接收信息的结构。  
  
### <a name="return-value"></a>返回值  
 如果函数成功，则为非零值；否则为  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[GetMenuBarInfo](http://msdn.microsoft.com/library/windows/desktop/ms647833)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="getnextdlggroupitem"></a>CWnd::GetNextDlgGroupItem  
 搜索中一组控件在对话框中的上一或下一个控件。  
  
```  
CWnd* GetNextDlgGroupItem(
    CWnd* pWndCtl,  
    BOOL bPrevious = FALSE) const;  
  
COleControlSiteOrWnd* GetNextDlgGroupItem(
    COleControlSiteOrWnd* pCurSiteOrWnd = NULL) const;  
```  
  
### <a name="parameters"></a>参数  
 `pWndCtl`  
 标识要用作搜索的起始点的控件。  
  
 `bPrevious`  
 指定如何在对话框中搜索控件组的函数。 如果**TRUE**，如果该函数的上一个控件组; 中搜索**FALSE**，搜索的组中的下一个控件。  
  
 `pCurSiteOrWnd`  
 标识**COleControlSiteOrWnd**控件。 有关详细信息`COleControlSiteOrWnd`，请参阅**备注**。  
  
### <a name="return-value"></a>返回值  
 指向成员函数是否成功的组中的上一或下一步控件的指针。  
  
 返回的指针可能是暂时的不应以供稍后使用存储。  
  
### <a name="remarks"></a>备注  
 一组控件开始使用已创建的某个控件一起[WS_GROUP](../../mfc/reference/window-styles.md)样式和最后一个控件不是创建与结尾**WS_GROUP**样式。  
  
 默认情况下，`GetNextDlgGroupItem`成员函数返回一个指向组中的下一个控件。 如果`pWndCtl`标识组中的第一个控件和`bPrevious`是**TRUE**，`GetNextDlgGroupItem`将指针返回到组中的最后一个控件。  
  
> [!NOTE]
>  MFC 支持无窗口 ActiveX 控件、 标准 ActiveX 控件和 windows，因为不再引用通过仅 HWND 的控件后缀。 `COleControlSiteOrWnd`对象包括，如下所示为窗口的 ActiveX 控件、 无窗口的 ActiveX 控件或一个窗口，标识对象的信息︰  
  
|控件或窗口类型|标识信息|  
|----------------------------|-----------------------------|  
|窗口的 ActiveX 控件|包含 HWND 并将关联[COleControlSite](../../mfc/reference/colecontrolsite-class.md)与它的对象。 `m_hWnd`的成员`COleControlSiteOrWnd`设置为该控件的 HWND 和**m_pSite**成员将指向控件的`COleControlSite`。|  
|无窗口的 ActiveX 控件|不包含任何`HWND`。 **M_pSite**的成员`COleControlSiteOrWnd`指向控件的`COleControlSite`，和**m_hWnd**成员是**NULL**。|  
|标准窗口|只包含`HWND`。 `m_hWnd`的成员`COleControlSiteOrWnd`设置为`HWND`的窗口中，与**m_pSite**成员是**NULL**。|  
  
##  <a name="getnextdlgtabitem"></a>CWnd::GetNextDlgTabItem  
 检索指向与创建的第一个控件的[WS_TABSTOP](window-styles.md)样式和程序之前或之后指定的控件。  
  
```  
CWnd* GetNextDlgTabItem(
    CWnd* pWndCtl,  
    BOOL bPrevious = FALSE) const;  
  
COleControlSiteOrWnd* GetNextDlgTabItem(
    COleControlSiteOrWnd* pCurSiteOrWnd,  
    BOOL bPrevious) const;  
```  
  
### <a name="parameters"></a>参数  
 `pWndCtl`  
 标识要用作搜索的起始点的控件。  
  
 `pCurSiteOrWnd`  
 标识**COleControlSiteOrWnd**控件。 有关详细信息`COleControlSiteOrWnd`，请参阅[CWnd::GetNextDlgGroupItem](#getnextdlggroupitem)。  
  
 `bPrevious`  
 指定如何函数要搜索对话框。 如果**TRUE**，该函数搜索的上一个控件在对话框中; 如果**FALSE**，搜索下一个控件。  
  
### <a name="return-value"></a>返回值  
 指向具有的上一页或下一页控件**WS_TABSTOP**样式，该成员函数是否成功。  
  
 返回的指针可能是暂时的不应以供稍后使用存储。  
  
 有关详细信息`COleControlSiteOrWnd`，请参阅[CWnd::GetNextDlgGroupItem](#getnextdlggroupitem)。  
  
##  <a name="getnextwindow"></a>CWnd::GetNextWindow  
 窗口管理器的列表中的下一步 （或先前） 窗口搜索。  
  
```  
CWnd* GetNextWindow(UINT nFlag = GW_HWNDNEXT) const;  
```  
  
### <a name="parameters"></a>参数  
 `nFlag`  
 指定是否函数将指针返回到下一步窗口或上一个窗口。 它可以是**GW_HWNDNEXT**，它返回的窗口中遵循`CWnd`窗口管理器的列表上的对象或**GW_HWNDPREV**，它返回上一个窗口的窗口管理器的列表上。  
  
### <a name="return-value"></a>返回值  
 标识下一个 （或先前） 如果该成员函数是成功的窗口管理器的列表中的窗口。  
  
 返回的指针可能是暂时的不应以供稍后使用存储。  
  
### <a name="remarks"></a>备注  
 窗口管理器的列表包含所有顶级窗口、 其关联的子窗口和任何子窗口的子窗口的条目。  
  
 如果`CWnd`为顶级窗口下, 一步 （或先前） 顶级窗口; 该函数搜索，如果`CWnd`是子窗口，功能下一步 （或先前） 的搜索子窗口。  
  
##  <a name="getolecontrolsite"></a>CWnd::GetOleControlSite  
 检索指定 ActiveX 控件的自定义站点。  
  
```  
COleControlSite* GetOleControlSite(UINT idControl) const;  
```  
  
### <a name="parameters"></a>参数  
 `idControl`  
 ActiveX 控件的 ID。  
  
##  <a name="getopenclipboardwindow"></a>CWnd::GetOpenClipboardWindow  
 检索当前已经剪贴板打开窗口的句柄。  
  
```  
static CWnd* PASCAL GetOpenClipboardWindow();
```  
  
### <a name="return-value"></a>返回值  
 如果该函数成功，则当前具有剪贴板打开窗口的句柄否则为**NULL**。  
  
##  <a name="getowner"></a>CWnd::GetOwner  
 检索窗口的所有者的指针。  
  
```  
CWnd* GetOwner() const;  
```  
  
### <a name="return-value"></a>返回值  
 指向的指针`CWnd`对象。  
  
### <a name="remarks"></a>备注  
 如果窗口不具有任何所有者，则默认情况下返回指向父窗口对象的指针。 请注意，所有者和拥有之间的关系不同于在几个重要方面的父-子方面。 例如，与父窗口并局限于其父窗口工作区中。 在桌面上，可以在任何位置绘制拥有的 windows。  
  
 此函数的所有权概念是不同的所有权概念[GetWindow](http://msdn.microsoft.com/library/windows/desktop/ms633515)。  
  
##  <a name="getparent"></a>CWnd::GetParent  
 调用此函数可获取指向子窗口的父窗口 （如果有） 的指针。  
  
```  
CWnd* GetParent() const;  
```  
  
### <a name="return-value"></a>返回值  
 请参阅中的返回值部分[GetParent](http://msdn.microsoft.com/library/windows/desktop/ms633510)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 `GetParent`函数返回一个指向直接父 （如果存在）。 与此相反， [GetParentOwner](#getparentowner)函数返回指向不是子窗口的最直接父或所有者窗口的指针 (没有**WS_CHILD**样式)。 如果在子窗口内具有子窗口`GetParent`和`GetParentOwner`返回不同的结果。  
  
##  <a name="getparentframe"></a>CWnd::GetParentFrame  
 调用此成员函数可检索父框架窗口。  
  
```  
CFrameWnd* GetParentFrame() const;  
```  
  
### <a name="return-value"></a>返回值  
 如果成功，则框架窗口指向的指针否则为**NULL**。  
  
### <a name="remarks"></a>备注  
 成员函数将搜索之前在父一系列向上[CFrameWnd](../../mfc/reference/cframewnd-class.md) （或派生类） 找到对象。  
  
##  <a name="getparentowner"></a>CWnd::GetParentOwner  
 调用此成员函数以获取指向子窗口的父窗口或所有者窗口的指针。  
  
```  
CWnd* GetParentOwner() const;  
```  
  
### <a name="return-value"></a>返回值  
 指向的指针`CWnd`对象。 如果 `CWnd` 对象未附加到该句柄，则会创建并附加一个临时 `CWnd` 对象。 该指针可能是暂时的，不应存储起来供将来使用。  
  
### <a name="remarks"></a>备注  
 `GetParentOwner`将指针返回到不是子窗口的最直接父或所有者窗口 (没有**WS_CHILD**样式)。 可以用来设置当前的所有者窗口[SetOwner](#setowner)。 默认情况下，窗口的父级是其所有者。  
  
 与此相反， [GetParent](#getparent)函数返回一个指向直接父，不论它是否是子窗口。 如果在子窗口内具有子窗口`GetParent`和`GetParentOwner`返回不同的结果。  
  
##  <a name="getproperty"></a>CWnd::GetProperty  
 调用此成员函数可获取指定的 ActiveX 控件属性`dwDispID`。  
  
```  
void GetProperty(
    DISPID dwDispID,  
    VARTYPE vtProp,  
    void* pvProp)const;  
```  
  
### <a name="parameters"></a>参数  
 `dwDispID`  
 标识要检索的属性。  
  
 `vtProp`  
 指定要检索的属性的类型。 有关可能的值，请参阅备注部分[coledispatchdriver:: Invokehelper](../../mfc/reference/coledispatchdriver-class.md#invokehelper)。  
  
 `pvProp`  
 将该变量的地址将接收属性值。 它必须与由指定的类型匹配`vtProp`。  
  
### <a name="remarks"></a>备注  
 **GetProperty**返回的值通过`pvProp`。  
  
> [!NOTE]
>  应仅在调用此函数`CWnd`表示 ActiveX 控件的对象。  
  
 有关此成员函数使用 ActiveX 控件容器的信息的详细信息，请参阅文章[ActiveX 控件容器︰ 将 ActiveX 控件编程 ActiveX 控件容器中的](../../mfc/programming-activex-controls-in-a-activex-control-container.md)。  
  
##  <a name="getrendertarget"></a>CWnd::GetRenderTarget  
 获取与此窗口相关联的呈现目标。  
  
```  
CHwndRenderTarget* GetRenderTarget();
```  
  
### <a name="return-value"></a>返回值  
 指向的呈现器目标或为 NULL 指针。  
  
##  <a name="getsafehwnd"></a>CWnd::GetSafeHwnd  
 返回`m_hWnd`，或**NULL**如果**这**指针**NULL**。  
  
```  
HWND GetSafeHwnd() const;  
```  
  
### <a name="return-value"></a>返回值  
 返回一个窗口的窗口句柄。 返回**NULL**如果`CWnd`未附加到窗口或如果它用于**NULL CWnd**指针。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::SubclassWindow](#subclasswindow)。  
  
##  <a name="getsafeowner"></a>CWnd::GetSafeOwner  
 调用此成员函数可检索应该用于对话框所有者窗口或其他模式窗口。  
  
```  
static CWnd* GetSafeOwner(
    CWnd* pParent = NULL,  
    HWND* pWndTop = NULL);
```  
  
### <a name="parameters"></a>参数  
 `pParent`  
 指向父`CWnd`窗口。 可能是**NULL**。  
  
 *pWndTop*  
 指向当前位于顶部的窗口的指针。 可能是**NULL**。  
  
### <a name="return-value"></a>返回值  
 指向给定窗口的安全所有者的指针。  
  
### <a name="remarks"></a>备注  
 安全所有者是第一个非父子父窗口的`pParent`。 如果`pParent`是**NULL**，线程的主窗口 (通过检索[AfxGetMainWnd](../../mfc/reference/application-information-and-management.md#afxgetmainwnd)) 用于查找一个所有者。  
  
> [!NOTE]
>  框架本身使用此函数来确定在未指定所有者的对话框和属性表的正确地将所有者窗口。  
  
##  <a name="getscrollbarctrl"></a>Cwnd:: Getscrollbarctrl  
 调用此成员函数以获取指向指定的同级滚动条或拆分窗口。  
  
```  
virtual CScrollBar* GetScrollBarCtrl(int nBar) const;  
```  
  
### <a name="parameters"></a>参数  
 `nBar`  
 指定滚动条的类型。 参数可以采用以下值之一︰  
  
- **SB_HORZ**检索水平滚动条的位置。  
  
- **SB_VERT**检索垂直滚动条的位置。  
  
### <a name="return-value"></a>返回值  
 同级滚动条控件，或**NULL**如果是 none。  
  
### <a name="remarks"></a>备注  
 此成员函数不运行时创建的滚动条上**WS_HSCROLL**或**WS_VSCROLL**位将设置窗口的创建过程。 `CWnd`实现此函数只需返回**NULL**。 派生类，如`CView`，实现所述的功能。  
  
##  <a name="getscrollbarinfo"></a>CWnd::GetScrollBarInfo  
 检索有关指定滚动条的信息。  
  
```  
BOOL GetScrollBarInfo(
    LONG idObject,  
    PSCROLLBARINFO psbi) const;  
```  
  
### <a name="parameters"></a>参数  
 `idObject`  
 指定菜单对象。 有关可能的值的列表，请参阅[GetScrollBarInfo](http://msdn.microsoft.com/library/windows/desktop/bb787581)。  
  
 *psbi*  
 指向[SCROLLBARINFO](http://msdn.microsoft.com/library/windows/desktop/bb787535)接收信息的结构。  
  
### <a name="return-value"></a>返回值  
 如果函数成功，则为非零值；否则为  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[GetScrollBarInfo](http://msdn.microsoft.com/library/windows/desktop/bb787581)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="getscrollinfo"></a>CWnd::GetScrollInfo  
 调用此成员函数可检索的信息，`SCROLLINFO`结构维护的有关滚动条。  
  
```  
BOOL GetScrollInfo(
    int nBar,  
    LPSCROLLINFO lpScrollInfo,  
    UINT nMask = SIF_ALL);
```  
  
### <a name="parameters"></a>参数  
 `nBar`  
 指定滚动条的控件或窗口的非工作区的一部分。 如果它是的非工作区中，一部分`nBar`还用于指明是否滚动条位于水平、 垂直或两者。 它必须是以下项之一︰  
  
- **SB_CTL**检索滚动条控件的参数。 `m_hWnd`数据成员必须是滚动条控件的句柄。  
  
- **SB_HORZ**检索窗口的标准的水平滚动条的参数。  
  
- **SB_VERT**检索窗口的标准的垂直滚动条的参数。  
  
 `lpScrollInfo`  
 指向的指针[SCROLLINFO](http://msdn.microsoft.com/library/windows/desktop/bb787537)结构。 请参阅[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]有关此结构的详细信息。  
  
 `nMask`  
 指定要检索的滚动栏参数。 默认值指定的组合**SIF_PAGE**， **SIF_POS**， **SIF_TRACKPOS**，和**SIF_RANGE**。 请参阅`SCROLLINFO`有关详细信息*nMask*值。  
  
### <a name="return-value"></a>返回值  
 如果消息检索到的任何值，返回是**TRUE**。 否则，它是**FALSE**。  
  
### <a name="remarks"></a>备注  
 `GetScrollInfo`使应用程序可以使用 32 位滚动位置。  
  
 [SCROLLINFO](http://msdn.microsoft.com/library/windows/desktop/bb787537)结构包含有关滚动条，包括最小值和最大滚动位置、 页大小和滚动框 （缩略图） 的位置的信息。 请参阅`SCROLLINFO`结构中的主题[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]有关更改结构的默认值的详细信息。  
  
 MFC Windows 消息处理程序指示滚动条位置[CWnd::OnHScroll](#onhscroll)和[CWnd::OnVScroll](#onvscroll)，提供只有 16 位的位置数据。 `GetScrollInfo`和`SetScrollInfo`提供 32 位的滚动条位置数据。 因此，应用程序可以调用`GetScrollInfo`处理任一时`CWnd::OnHScroll`或`CWnd::OnVScroll`获取 32 位滚动条位置数据。  
  
##  <a name="getscrolllimit"></a>CWnd::GetScrollLimit  
 调用此成员函数可检索滚动条的最大滚动位置。  
  
```  
int GetScrollLimit(int nBar);
```  
  
### <a name="parameters"></a>参数  
 `nBar`  
 指定滚动条的类型。 参数可以采用以下值之一︰  
  
- **SB_HORZ**检索水平滚动条的滚动限制。  
  
- **SB_VERT**检索垂直滚动条的滚动限制。  
  
### <a name="return-value"></a>返回值  
 指定如果成功，则滚动条的最大位置否则为 0。  
  
##  <a name="getscrollpos"></a>CWnd::GetScrollPos  
 检索滚动条的滚动框的当前位置。  
  
```  
int GetScrollPos(int nBar) const;  
```  
  
### <a name="parameters"></a>参数  
 `nBar`  
 指定要检查的滚动条。 参数可以采用以下值之一︰  
  
- **SB_HORZ**检索水平滚动条的位置。  
  
- **SB_VERT**检索垂直滚动条的位置。  
  
### <a name="return-value"></a>返回值  
 指定如果成功，则滚动条中滚动框的当前位置否则为 0。  
  
### <a name="remarks"></a>备注  
 当前的位置是一个相对的值，取决于当前滚动区域。 例如，如果滚动的范围是 50 到 100，滚动框为位于条的中间，当前位置为 75。  
  
##  <a name="getscrollrange"></a>CWnd::GetScrollRange  
 将给定的滚动条的当前最小和最大滚动条位置复制到指定的位置`lpMinPos`和`lpMaxPos`。  
  
```  
void GetScrollRange(
    int nBar,  
    LPINT lpMinPos,  
    LPINT lpMaxPos) const;  
```  
  
### <a name="parameters"></a>参数  
 `nBar`  
 指定要检查的滚动条。 参数可以采用以下值之一︰  
  
- **SB_HORZ**检索水平滚动条的位置。  
  
- **SB_VERT**检索垂直滚动条的位置。  
  
 `lpMinPos`  
 指向以将接收的最小位置的整数变量。  
  
 `lpMaxPos`  
 指向以将接收的最大位置的整数变量。  
  
### <a name="remarks"></a>备注  
 如果`CWnd`不具有滚动条，则`GetScrollRange`成员函数将复制到 0`lpMinPos`和`lpMaxPos`。  
  
 标准的滚动条的默认范围为 0 到 100。 滚动条控件的默认范围为空 （这两个值是 0）。  
  
##  <a name="getstyle"></a>CWnd::GetStyle  
 返回当前窗口样式。  
  
```  
DWORD GetStyle() const;  
```  
  
### <a name="return-value"></a>返回值  
 窗口的样式。 有关在 MFC 中使用的窗口样式的详细信息，请参阅[窗口样式](../../mfc/reference/window-styles.md)。  
  
##  <a name="getsystemmenu"></a>CWnd::GetSystemMenu  
 允许应用程序访问控件菜单以进行复制和修改。  
  
```  
CMenu* GetSystemMenu(BOOL bRevert) const;  
```  
  
### <a name="parameters"></a>参数  
 `bRevert`  
 指定要执行的操作。 如果`bRevert`是**FALSE**，`GetSystemMenu`返回一份当前正在使用的控件菜单的句柄。 此副本与控件菜单最初相同，但可以修改。 如果`bRevert`是**TRUE**，`GetSystemMenu`将控件菜单重置回默认状态。 以前，可能已经过修改，如果将控制菜单上，任何，销毁。 在这种情况下，返回值是不确定。  
  
### <a name="return-value"></a>返回值  
 如果标识一份控件菜单`bRevert`是**FALSE**。 如果`bRevert`是**TRUE**，返回值是不确定。  
  
 返回的指针可能是暂时的不应以供稍后使用存储。  
  
### <a name="remarks"></a>备注  
 不使用任何窗口`GetSystemMenu`以使其自己的控件副本菜单接收标准控件菜单。  
  
 返回的指针`GetSystemMenu`成员函数可与[CMenu::AppendMenu](../../mfc/reference/cmenu-class.md#appendmenu)， [CMenu::InsertMenu](../../mfc/reference/cmenu-class.md#insertmenu)，或[CMenu::ModifyMenu](../../mfc/reference/cmenu-class.md#modifymenu)函数来更改控件菜单。  
  
 控件菜单最初包含如标识各种 ID 值的项**SC_CLOSE**， **SC_MOVE**，和**SC_SIZE**。 控件菜单上的项目生成[WM_SYSCOMMAND](#onsyscommand)消息。 所有预定义的控件菜单项都具有大于 0xF000 的 ID 号。 如果应用程序将项添加到控件菜单中，它应使用小于 F000 ID 号。  
  
 Windows 可能会自动使项不可用标准控件菜单上。 `CWnd`可以执行自己所选内容或不可用通过响应[WM_INITMENU](#oninitmenu)之前会显示任何菜单发送的消息。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 99](../../mfc/reference/codesnippet/cpp/cwnd-class_39.cpp)]  
  
##  <a name="gettitlebarinfo"></a>CWnd::GetTitleBarInfo  
 检索有关指定标题栏的信息。  
  
```  
BOOL GetTitleBarInfo(PTITLEBARINFO pti) const;  
```  
  
### <a name="parameters"></a>参数  
 *pti*  
 指向[TITLEBARINFO](http://msdn.microsoft.com/library/windows/desktop/ms632608)接收信息的结构。  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[GetTitleBarInfo](http://msdn.microsoft.com/library/windows/desktop/ms633513)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="gettoplevelframe"></a>CWnd::GetTopLevelFrame  
 调用此成员函数以检索窗口的顶部级别框架窗口中，如果有的话。  
  
```  
CFrameWnd* GetTopLevelFrame() const;  
```  
  
### <a name="return-value"></a>返回值  
 标识窗口的顶级框架窗口。  
  
 返回的指针可能是暂时的不应以供稍后使用存储。  
  
### <a name="remarks"></a>备注  
 如果`CWnd`具有未附加的窗口，或者其顶层的父级不是[CFrameWnd](../../mfc/reference/cframewnd-class.md)-派生对象，此函数将返回**NULL**。  
  
##  <a name="gettoplevelowner"></a>CWnd::GetTopLevelOwner  
 调用此成员函数可检索的顶级窗口。  
  
```  
CWnd* GetTopLevelOwner() const;  
```  
  
### <a name="return-value"></a>返回值  
 标识的顶级窗口。 返回的指针可能是暂时的不应以供稍后使用存储。  
  
### <a name="remarks"></a>备注  
 顶级窗口是桌面的子级的窗口。 如果`CWnd`了任何附加的时段，此函数将返回**NULL**。  
  
##  <a name="gettoplevelparent"></a>CWnd::GetTopLevelParent  
 调用此成员函数以检索窗口的顶级父级。  
  
```  
CWnd* GetTopLevelParent() const;  
```  
  
### <a name="return-value"></a>返回值  
 标识窗口的顶级父窗口。  
  
 返回的指针可能是暂时的不应以供稍后使用存储。  
  
### <a name="remarks"></a>备注  
 `GetTopLevelParent`类似于[GetTopLevelFrame](#gettoplevelframe)和[GetTopLevelOwner](#gettoplevelowner); 但是，它将忽略此值设置为当前的所有者窗口。  
  
##  <a name="gettopwindow"></a>CWnd::GetTopWindow  
 搜索所属的顶级子窗口`CWnd`。  
  
```  
CWnd* GetTopWindow() const;  
```  
  
### <a name="return-value"></a>返回值  
 标识中的顶级子窗口`CWnd`子窗口的链接的列表。 如果不存在任何子窗口，则值是**NULL**。  
  
 返回的指针可能是暂时的不应以供稍后使用存储。  
  
### <a name="remarks"></a>备注  
 如果`CWnd`没有任何子级，此函数将返回**NULL**。  
  
##  <a name="getupdaterect"></a>CWnd::GetUpdateRect  
 检索完全包含的更新区域的最小矩形的坐标。  
  
```  
BOOL GetUpdateRect(
    LPRECT lpRect,  
    BOOL bErase = FALSE);
```  
  
### <a name="parameters"></a>参数  
 `lpRect`  
 指向`CRect`对象或[RECT 结构](../../mfc/reference/rect-structure1.md)，是否要接收的更新，包含更新区域的客户端坐标。  
  
 将此参数设置为**NULL**以确定中是否存在更新区域`CWnd`。 如果`lpRect`是**NULL**、`GetUpdateRect`成员函数返回非零，如果存在更新区域，且 0，如果一个没有。 这使您能够确定是否`WM_PAINT`消息导致从无效的区域。 未设置此参数为**NULL** Windows 3.0 版及早期版本中。  
  
 `bErase`  
 指定是否要消除中更新区域的背景。  
  
### <a name="return-value"></a>返回值  
 指定的更新区域的状态。 值不为零，如果更新区域不为空;否则为 0。  
  
 如果`lpRect`参数设置为**NULL**，则返回值是如果存在更新区域则为非 0; 否则为 0。  
  
### <a name="remarks"></a>备注  
 如果`CWnd`与创建**CS_OWNDC**样式和映射模式不是`MM_TEXT`、`GetUpdateRect`成员函数提供以逻辑坐标表示的矩形。 否则为`GetUpdateRect`提供在客户端的矩形坐标。 如果没有任何更新区域中，`GetUpdateRect`设置为空 （将设置所有坐标为 0) 的矩形。  
  
 `bErase`参数指定是否`GetUpdateRect`应擦除更新区域的背景。 如果`bErase`是**TRUE**和更新区域不为空，则擦除背景。 若要擦除背景，`GetUpdateRect`发送[WM_ERASEBKGND](#onerasebkgnd)消息。  
  
 通过检索更新矩形[BeginPaint](#beginpaint)成员函数等同于检索到的`GetUpdateRect`成员函数。  
  
 `BeginPaint`成员函数自动验证的更新区域中，因此任何调用到`GetUpdateRect`在调用之后立即进行`BeginPaint`检索空更新区域。  
  
##  <a name="getupdatergn"></a>CWnd::GetUpdateRgn  
 检索到由标识的区域的更新区域`pRgn`。  
  
```  
int GetUpdateRgn(
    CRgn* pRgn,  
    BOOL bErase = FALSE);
```  
  
### <a name="parameters"></a>参数  
 `pRgn`  
 标识更新区域。  
  
 `bErase`  
 指定是否将清除后台和将绘制的子窗口的非工作区。 如果值为**FALSE**，不完成任何绘图。  
  
### <a name="return-value"></a>返回值  
 指定一个短整数标志，指示的生成区域的类型。 值可以采用下列之一︰  
  
- **SIMPLEREGION**区域具有不重叠的边框。  
  
- **COMPLEXREGION**区域有重叠的边框。  
  
- **NULLREGION**区域为空。  
  
- **错误**已创建的任何区域。  
  
### <a name="remarks"></a>备注  
 此区域的坐标是相对于窗口左上角 （工作区坐标表示）。  
  
 [BeginPaint](#beginpaint)成员函数自动验证的更新区域中，因此任何调用到`GetUpdateRgn`在调用之后立即进行`BeginPaint`检索空更新区域。  
  
##  <a name="getwindow"></a>CWnd::GetWindow  
 将指针返回到请求，该窗口或**NULL**如果是 none。  
  
```  
CWnd* GetWindow(UINT nCmd) const;  
```  
  
### <a name="parameters"></a>参数  
 `nCmd`  
 指定之间的关系`CWnd`和返回的窗口。 它可以采用以下值之一︰  
  
- **GW_CHILD**标识`CWnd`第一个子窗口。  
  
- **GW_HWNDFIRST**如果`CWnd`是子窗口，则返回第一个同级窗口。 否则，它在列表中返回的第一个顶级窗口。  
  
- **GW_HWNDLAST**如果`CWnd`是子窗口，则返回的最后一个同级窗口。 否则，它在列表中返回的最后一个顶级窗口。  
  
- **GW_HWNDNEXT**窗口管理器的列表上返回下一个窗口。  
  
- **GW_HWNDPREV**窗口管理器的列表上返回上一个窗口。  
  
- **GW_OWNER**标识`CWnd`所有者。  
  
### <a name="return-value"></a>返回值  
 返回的指针可能是暂时的不应以供稍后使用存储。  
  
##  <a name="getwindowcontexthelpid"></a>CWnd::GetWindowContextHelpId  
 如果任何，与窗口关联，请调用此成员函数可检索帮助上下文标识符。  
  
```  
DWORD GetWindowContextHelpId() const;  
```  
  
### <a name="return-value"></a>返回值  
 帮助上下文标识符。 如果窗口都未，返回 0。  
  
##  <a name="getwindowedchildcount"></a>CWnd::GetWindowedChildCount  
 调用此成员函数以检索关联的子窗口的次数。  
  
```  
long GetWindowedChildCount();
```  
  
### <a name="return-value"></a>返回值  
 与相关联的子窗口数`CWnd`对象。  
  
##  <a name="getwindowdc"></a>Cwnd:: Getwindowdc  
 检索整个窗口中，包括标题栏、 菜单和滚动条的显示上下文。  
  
```  
CDC* GetWindowDC();
```  
  
### <a name="return-value"></a>返回值  
 如果该函数成功，则，标识给定窗口的显示上下文否则为**NULL**。  
  
 返回的指针可能是暂时的不应以供稍后使用存储。 [ReleaseDC](#releasedc)应为每个成功调用一次调用`GetWindowDC`。  
  
### <a name="remarks"></a>备注  
 窗口显示上下文允许在任何位置绘制`CWnd`，因为上下文的源是的左上角`CWnd`而不是工作区。  
  
 默认属性分配给显示上下文检索上下文时，它每次。 以前的特性都将丢失。  
  
 `GetWindowDC`旨在用于在内的特殊的绘制效果`CWnd`非工作区。 不建议在任何窗口的非工作区域的绘制。  
  
 [GetSystemMetrics](http://msdn.microsoft.com/library/windows/desktop/ms724385) Windows 函数可以用于检索的非工作区，如标题栏、 菜单和滚动条的各个部分的尺寸。  
  
 完成绘制后[ReleaseDC](#releasedc)必须调用成员函数以释放显示上下文。 无法释放显示上下文会严重影响绘制由由于可以同时打开的设备上下文的数量限制的应用程序请求。  
  
##  <a name="getwindowinfo"></a>CWnd::GetWindowInfo  
 检索有关窗口的信息。  
  
```  
BOOL GetWindowInfo(PWINDOWINFO pwi) const;  
```  
  
### <a name="parameters"></a>参数  
 *pwi*  
 指向的指针[WINDOWINFO](http://msdn.microsoft.com/library/windows/desktop/ms632610)结构。  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[GetWindowInfo](http://msdn.microsoft.com/library/windows/desktop/ms633516)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="getwindowlesschildcount"></a>CWnd::GetWindowlessChildCount  
 检索关联无窗口子窗口的数目。  
  
```  
long GetWindowlessChildCount();
```  
  
### <a name="return-value"></a>返回值  
 与相关联的无窗口子窗口数`CWnd`对象。  
  
##  <a name="getwindowplacement"></a>CWnd::GetWindowPlacement  
 检索窗口的显示状态以及正常（已还原）、最小化和最大化位置。  
  
```  
BOOL GetWindowPlacement(WINDOWPLACEMENT* lpwndpl) const;  
```  
  
### <a name="parameters"></a>参数  
 `lpwndpl`  
 指向`WINDOWPLACEMENT`接收的显示状态和位置信息的结构。  
  
### <a name="return-value"></a>返回值  
 如果该函数成功，则为非 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 **标志**的成员[WINDOWPLACEMENT](../../mfc/reference/windowplacement-structure.md)检索此函数的结构始终是 0。 如果`CWnd`最大化， **showCmd**的成员`WINDOWPLACEMENT`是**SW_SHOWMAXIMIZED**。 最小化窗口时，它是**SW_SHOWMINIMIZED。** 它是**SW_SHOWNORMAL**否则为。  
  
##  <a name="getwindowrect"></a>CWnd::GetWindowRect  
 将复制的绑定矩形的尺寸`CWnd`指向对象的结构`lpRect`。  
  
```  
void GetWindowRect(LPRECT lpRect) const;  
```  
  
### <a name="parameters"></a>参数  
 `lpRect`  
 指向`CRect`对象或[RECT 结构](../../mfc/reference/rect-structure1.md)中将接收的左上角和右下角的屏幕坐标。  
  
### <a name="remarks"></a>备注  
 尺寸的单位在屏幕坐标中相对于显示屏幕的左上角。 如果存在，，将包含的标题、 边框和滚动条的尺寸。  
  
##  <a name="getwindowrgn"></a>CWnd::GetWindowRgn  
 调用此成员函数以获取窗口的窗口区域。  
  
```  
int GetWindowRgn(HRGN hRgn)const;  
```  
  
### <a name="parameters"></a>参数  
 `hRgn`  
 窗口区域句柄。  
  
### <a name="return-value"></a>返回值  
 返回值指定该函数可获取的区域的类型。 它可以是以下值之一︰  
  
- **NULLREGION**区域为空。  
  
- **SIMPLEREGION**区域是单一的矩形区域。  
  
- **COMPLEXREGION**区域是多个矩形。  
  
- **错误**出错; 区域不会受到影响。  
  
### <a name="remarks"></a>备注  
 窗口区域确定操作系统允许其中进行绘画的窗口中的区域。 操作系统不显示窗口位于外部的窗口区域的任何部分。  
  
 窗口的窗口区域的坐标是相对于窗口中，不是窗口的工作区的左上角。  
  
 若要设置的窗口区域的一个窗口，调用[CWnd::SetWindowRgn](#setwindowrgn)。  
  
##  <a name="getwindowtext"></a>CWnd::GetWindowText  
 副本`CWnd`标题标题 （如果有的话） 到指向的缓冲区`lpszStringBuf`或到目标字符串`rString`。  
  
```  
int GetWindowText(
    LPTSTR lpszStringBuf,  
    int nMaxCount) const;  
  
void GetWindowText(
    CString& rString) const;  
```  
  
### <a name="parameters"></a>参数  
 `lpszStringBuf`  
 指向以将接收复制的窗口的标题字符串的缓冲区。  
  
 `nMaxCount`  
 指定字符复制到包括终止 null 字符的缓冲区最大的数目。 如果字符串长于中指定的字符数`nMaxCount`，则将被截断。  
  
 `rString`  
 A [CString](../../atl-mfc-shared/reference/cstringt-class.md)将接收复制的窗口的标题字符串的对象。  
  
### <a name="return-value"></a>返回值  
 以字符为单位，不包括终止 null 字符的复制字符串的指定的长度。 如果则为 0`CWnd`没有标题或标题是否为空。  
  
### <a name="remarks"></a>备注  
 如果`CWnd`对象是一个控件，`GetWindowText`成员函数将复制而不是复制标题控件中的文本。  
  
 此成员函数会导致[WM_GETTEXT](http://msdn.microsoft.com/library/windows/desktop/ms632627)消息发送到`CWnd`对象。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::SetWindowText](#setwindowtext)。  
  
##  <a name="getwindowtextlength"></a>CWnd::GetWindowTextLength  
 返回的长度`CWnd`对象标题标题。  
  
```  
int GetWindowTextLength() const;  
```  
  
### <a name="return-value"></a>返回值  
 以字符为单位，不包括任何 null 终止字符指定文本长度。 如果不存在任何此类文本，则值为 0。  
  
### <a name="remarks"></a>备注  
 如果`CWnd`是一个控件，`GetWindowTextLength`成员函数将返回而不是标题控件中的文本的长度。  
  
 此成员函数会导致[WM_GETTEXTLENGTH](http://msdn.microsoft.com/library/windows/desktop/ms632628)消息发送到`CWnd`对象。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::SetWindowText](#setwindowtext)。  
  
##  <a name="hidecaret"></a>CWnd::HideCaret  
 通过从显示屏幕中移除来隐藏插入符号。  
  
```  
void HideCaret();
```  
  
### <a name="remarks"></a>备注  
 尽管脱字号不再是可见的但它可以显示再次使用[ShowCaret](#showcaret)成员函数。 隐藏插入符号不会销毁其当前的形状。  
  
 隐藏是累积的。 如果`HideCaret`已在行中，调用五次`ShowCaret`成员函数前，必须调用五次将显示插入符号。  
  
##  <a name="hilitemenuitem"></a>CWnd::HiliteMenuItem  
 突出显示，或者从顶级 （菜单栏） 菜单项移除突出显示。  
  
```  
BOOL HiliteMenuItem(
    CMenu* pMenu,  
    UINT nIDHiliteItem,  
    UINT nHilite);
```  
  
### <a name="parameters"></a>参数  
 `pMenu`  
 标识包含要突出显示的项的顶级菜单。  
  
 `nIDHiliteItem`  
 指定要将突出显示，具体取决于的值的菜单项`nHilite`参数。  
  
 `nHilite`  
 指定突出显示菜单项还是删除突出显示。 它可以是的组合**MF_HILITE**或**MF_UNHILITE**与**MF_BYCOMMAND**或**MF_BYPOSITION**。 可以使用按位 OR 运算符组合的值。 这些值的含义如下︰  
  
- **MF_BYCOMMAND** Interprets`nIDHiliteItem`作为菜单项 ID （默认解释）。  
  
- **MF_BYPOSITION** Interprets`nIDHiliteItem`作为菜单项的从零开始的偏移量。  
  
- **MF_HILITE**突出显示的项。 如果未提供此值，将从项移除突出显示。  
  
- **MF_UNHILITE**从项目中删除突出显示。  
  
### <a name="return-value"></a>返回值  
 指定是否已突出显示菜单项。 如果该项已突出显示; 则为非 0否则为 0。  
  
### <a name="remarks"></a>备注  
 **MF_HILITE**和**MF_UNHILITE**标志可仅与此成员函数; 它们不能与使用[CMenu::ModifyMenu](../../mfc/reference/cmenu-class.md#modifymenu)成员函数。  
  
##  <a name="htmlhelp"></a>CWnd::HtmlHelp  
 调用此成员函数来调用 HTMLHelp 应用程序。  
  
```  
virtual void HtmlHelp(
    DWORD_PTR dwData,  
    UINT nCmd = 0x000F);
```  
  
### <a name="parameters"></a>参数  
 `dwData`  
 指定其他数据。 使用的值的值取决于`nCmd`参数。  
  
 `nCmd`  
 指定请求的帮助的类型。 有关的可能的值以及它们如何影响列表`dwData`参数，请参阅`uCommand`HTML 帮助 API 参考中所述的参数[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 请参阅[CWinApp::HtmlHelp](../../mfc/reference/cwinapp-class.md#htmlhelp)有关详细信息。  
  
##  <a name="initdynamiclayout"></a>CWnd::InitDynamicLayout  
 由框架调用以初始化窗口的动态布局。  
  
```  
void InitDynamicLayout();
```  
  
### <a name="remarks"></a>备注  
 请勿直接调用此方法。  
  
##  <a name="invalidate"></a>CWnd::Invalidate  
 失效的整个工作区`CWnd`。  
  
```  
void Invalidate(BOOL bErase = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `bErase`  
 指定是否要消除更新区域内的背景。  
  
### <a name="remarks"></a>备注  
 客户端区域标记为绘制时的下一步[WM_PAINT](#onpaint)消息时发生。 区域还可以验证之前`WM_PAINT`消息的发生是[ValidateRect](#validaterect)或[ValidateRgn](#validatergn)成员函数。  
  
 `bErase`参数指定的更新区域中，后台是否处理更新区域时将被清除。 如果`bErase`是**TRUE**，擦除后台时[BeginPaint](#beginpaint)调用成员函数; 如果`bErase`是**FALSE**，后台保持不变。 如果`bErase`是**TRUE**更新区域的任何部分，清除整个区域，而不仅仅是在给定的部分中中的背景。  
  
 Windows 会将发送[WM_PAINT](#onpaint)每当消息`CWnd`更新区域不为空，并且在该窗口的应用程序队列中没有其他消息。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::UpdateWindow](#updatewindow)。  
  
##  <a name="invalidaterect"></a>CWnd::InvalidateRect  
 通过添加到该矩形，使无效给定矩形内的工作区`CWnd`更新区域。  
  
```  
void InvalidateRect(
    LPCRECT lpRect,  
    BOOL bErase = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `lpRect`  
 指向`CRect`对象或[RECT 结构](../../mfc/reference/rect-structure1.md)包含矩形 （在客户端坐标中） 添加到更新区域。 如果`lpRect`是**NULL**，整个工作区添加到区域。  
  
 `bErase`  
 指定是否要消除更新区域内的背景。  
  
### <a name="remarks"></a>备注  
 无效的矩形，以及所有其他区域中的更新区域中，标记为绘制时的下一步[WM_PAINT](#onpaint)发送消息。 失效的区域聚合的更新区域中，直到处理区域时的下一步`WM_PAINT`发生调用，或直到区域验证通过[ValidateRect](#validaterect)或[ValidateRgn](#validatergn)成员函数。  
  
 `bErase`参数指定的更新区域中，后台是否处理更新区域时将被清除。 如果`bErase`是**TRUE**，擦除后台时[BeginPaint](#beginpaint)调用成员函数; 如果`bErase`是**FALSE**，后台保持不变。 如果`bErase`是**TRUE**更新区域的任何部分中的整个区域的背景清除，而不仅仅是在给定的部分。  
  
 Windows 会将发送[WM_PAINT](#onpaint)每当消息`CWnd`更新区域不为空，并且在该窗口的应用程序队列中没有其他消息。  
  
##  <a name="invalidatergn"></a>CWnd::InvalidateRgn  
 通过将其添加到当前更新区域的失效给定区域内的工作区`CWnd`。  
  
```  
void InvalidateRgn(
    CRgn* pRgn,  
    BOOL bErase = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `pRgn`  
 指向的指针[CRgn](../../mfc/reference/crgn-class.md)对象，它标识要添加到更新区域的区域。 区域被假定具有客户端坐标。 如果此参数为**NULL**，整个工作区添加到更新区域。  
  
 `bErase`  
 指定是否要消除更新区域内的背景。  
  
### <a name="remarks"></a>备注  
 无效的区域，以及所有其他区域中的更新区域中，标记为绘制时[WM_PAINT](#onpaint)下一步发送消息。 失效的区域聚合的更新区域中，直到处理区域时`WM_PAINT`下一步发送消息，或直到区域验证通过[ValidateRect](#validaterect)或[ValidateRgn](#validatergn)成员函数。  
  
 `bErase`参数指定的更新区域中，后台是否处理更新区域时将被清除。 如果`bErase`是**TRUE**，擦除后台时[BeginPaint](#beginpaint)调用成员函数; 如果`bErase`是**FALSE**，后台保持不变。 如果`bErase`是**TRUE**更新区域的任何部分，清除整个区域，而不仅仅是在给定的部分中中的背景。  
  
 Windows 会将发送[WM_PAINT](#onpaint)每当消息`CWnd`更新区域不为空，并且在该窗口的应用程序队列中没有其他消息。  
  
 先前必须已将给定的区域创建由某一个区域函数中。  
  
##  <a name="invokehelper"></a>CWnd::InvokeHelper  
 调用此成员函数以调用 ActiveX 控件方法或属性指定`dwDispID`，通过指定的上下文中`wFlags`。  
  
```  
void AFX_CDECL InvokeHelper(
    DISPID dwDispID,  
    WORD wFlags,  
    VARTYPE vtRet,  
    void* pvRet,  
    const BYTE* pbParamInfo,  
 ...);
```  
  
### <a name="parameters"></a>参数  
 `dwDispID`  
 标识要调用的方法或属性。  
  
 `wFlags`  
 描述 **IDispatch::Invoke**调用的上下文的标志。  
  
 `vtRet`  
 指定返回值的类型。 有关可能的值，请参阅备注部分[coledispatchdriver:: Invokehelper](../../mfc/reference/coledispatchdriver-class.md#invokehelper)。  
  
 `pvRet`  
 将该变量的地址将接收的属性值或返回值。 它必须与 `vtRet`指定的类型匹配。  
  
 `pbParamInfo`  
 指向以 null 结尾的字符串的指针，该字符串由指定 `pbParamInfo`后面的参数类型的字节组成。 有关可能的值，请参阅备注部分`COleDispatchDriver::InvokeHelper`。  
  
 *...*  
 中指定的类型的参数的变量列表`pbParamInfo`。  
  
### <a name="remarks"></a>备注  
 `pbParamInfo` 参数指定传递到方法或属性的参数的类型。 自变量的变量列表由*...*语法声明中。  
  
 此函数将转换的参数**VARIANTARG**值，然后调用**idispatch:: Invoke** ActiveX 控件上的方法。 如果调用**idispatch:: Invoke**失败，此函数将引发异常。 如果`SCODE`（状态代码） 返回**idispatch:: Invoke**是`DISP_E_EXCEPTION`，此函数将引发[COleException](../../mfc/reference/coleexception-class.md)对象中，否则为它将引发[COleDispatchException](../../mfc/reference/coledispatchexception-class.md)。  
  
> [!NOTE]
>  应仅在调用此函数`CWnd`表示 ActiveX 控件的对象。  
  
 有关此成员函数使用 ActiveX 控件容器的信息的详细信息，请参阅文章[ActiveX 控件容器︰ 将 ActiveX 控件编程 ActiveX 控件容器中的](../../mfc/programming-activex-controls-in-a-activex-control-container.md)。  
  
##  <a name="ischild"></a>CWnd::IsChild  
 指示指定窗口`pWnd`为子窗口或其他直接子代`CWnd`。  
  
```  
BOOL IsChild(const CWnd* pWnd) const;  
```  
  
### <a name="parameters"></a>参数  
 `pWnd`  
 标识要测试的窗口。  
  
### <a name="return-value"></a>返回值  
 指定的函数的结果。 值不为零，如果通过标识窗口`pWnd`是子窗口的`CWnd`; 否则为 0。  
  
### <a name="remarks"></a>备注  
 子窗口是直接子代`CWnd`如果`CWnd`对象是从原始的弹出窗口指向子窗口的父窗口的链中。  
  
##  <a name="isd2dsupportenabled"></a>CWnd::IsD2DSupportEnabled  
 确定是否启用 D2D 支持。  
  
```  
BOOL IsD2DSupportEnabled();
```  
  
### <a name="return-value"></a>返回值  
 如果已启用该功能; 则为 TRUE否则为 FALSE。  
  
##  <a name="isdialogmessage"></a>CWnd::IsDialogMessage  
 调用此成员函数，以确定给定的消息是否适用于无模式对话框;如果是，此函数将处理的消息。  
  
```  
BOOL IsDialogMessage(LPMSG lpMsg);
```  
  
### <a name="parameters"></a>参数  
 `lpMsg`  
 指向[消息](../../mfc/reference/msg-structure1.md)结构，它包含要检查的消息。  
  
### <a name="return-value"></a>返回值  
 指定该成员函数是否已处理给定的消息。 它不为零，如果已处理了消息;否则为 0。 如果返回为 0，则调用[cwnd:: Pretranslatemessage](#pretranslatemessage)来处理该消息的基类的成员函数。 中的重写`CWnd::PreTranslateMessage`成员函数的代码看起来像这样︰  
  
 [!code-cpp[NVC_MFCWindowing # 100](../../mfc/reference/codesnippet/cpp/cwnd-class_40.cpp)]  
  
### <a name="remarks"></a>备注  
 当`IsDialogMessage`函数处理消息，它会检查有关键盘消息并将其转换为相应的对话框中选择命令。 例如，TAB 键选择下一个控件或组控件，并向下箭头键选择下一个控件组中。  
  
 你必须通过处理的消息`IsDialogMessage`到[TranslateMessage](http://msdn.microsoft.com/library/windows/desktop/ms644955)或[DispatchMessage](http://msdn.microsoft.com/library/windows/desktop/ms644934) Windows 函数，因为它已处理。  
  
##  <a name="isdlgbuttonchecked"></a>CWnd::IsDlgButtonChecked  
 确定按钮控件是否具有一个它旁边的复选标记。  
  
```  
UINT IsDlgButtonChecked(int nIDButton) const;  
```  
  
### <a name="parameters"></a>参数  
 `nIDButton`  
 指定按钮控件的整数标识符。  
  
### <a name="return-value"></a>返回值  
 如果选中给定的控制，则为非 0 和 0，如果未选中。 仅单选按钮，可以选中复选框。 对于三种状态的按钮，返回值可以为 2，如果按钮是不确定的。 此成员函数返回 0 表示按钮。  
  
### <a name="remarks"></a>备注  
 如果按钮是具有三个状态的控件，该成员函数将确定是否它显示为灰色，选中，或都不。  
  
##  <a name="isdynamiclayoutenabled"></a>Cwnd:: Isdynamiclayoutenabled  
 确定是否在此窗口上启用动态布局。 如果启用动态布局，则子窗口的位置和大小可以在用户调整父窗口大小时进行更改。  
  
```  
BOOL IsDynamicLayoutEnabled() const;  
```  
  
### <a name="return-value"></a>返回值  
 如果启用了动态布局，则为 TRUE；否则为 FALSE。  
  
### <a name="remarks"></a>备注  
  
##  <a name="isiconic"></a>CWnd::IsIconic  
 指定是否`CWnd`已最小化 （图标化）。  
  
```  
BOOL IsIconic() const;  
```  
  
### <a name="return-value"></a>返回值  
 非零如果`CWnd`降至最低; 否则为 0。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 101](../../mfc/reference/codesnippet/cpp/cwnd-class_41.cpp)]  
  
##  <a name="istouchwindow"></a>CWnd::IsTouchWindow  
 指定 `CWnd` 是否具有触摸支持。  
  
```  
BOOL IsTouchWindow() const;  
```  
  
### <a name="return-value"></a>返回值  
 `TRUE`如果`CWnd`具有触摸支持; 否则为`FALSE`。  
  
### <a name="remarks"></a>备注  
  
##  <a name="iswindowenabled"></a>CWnd::IsWindowEnabled  
 指定是否`CWnd`为鼠标和键盘输入启用。  
  
```  
BOOL IsWindowEnabled() const;  
```  
  
### <a name="return-value"></a>返回值  
 非零如果`CWnd`启用; 否则为 0。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 102](../../mfc/reference/codesnippet/cpp/cwnd-class_42.cpp)]  
  
##  <a name="iswindowvisible"></a>CWnd::IsWindowVisible  
 确定给定窗口的可见性状态。  
  
```  
BOOL IsWindowVisible() const;  
```  
  
### <a name="return-value"></a>返回值  
 非零如果`CWnd`可见 (具有[WS_VISIBLE](../../mfc/reference/window-styles.md)设置样式位，并且其父窗口处于可见)。 因为返回的值反映的状态**WS_VISIBLE**样式位，则返回值可能为非零即使`CWnd`完全被其他窗口遮盖。  
  
### <a name="remarks"></a>备注  
 窗口拥有由指示的可见性状态**WS_VISIBLE**样式位。 当通过调用设置此样式位[ShowWindow](#showwindow)成员函数，将显示的窗口和后续绘制到窗口将显示，只要窗口具有位的样式设置。  
  
 该窗口具有到任何绘图**WS_VISIBLE**如果窗口涵盖的其他 windows 或由其父窗口剪辑，将不显示样式。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 103](../../mfc/reference/codesnippet/cpp/cwnd-class_43.cpp)]  
  
##  <a name="iszoomed"></a>CWnd::IsZoomed  
 确定是否`CWnd`已最大化。  
  
```  
BOOL IsZoomed() const;  
```  
  
### <a name="return-value"></a>返回值  
 非零如果`CWnd`最大化; 否则为 0。  
  
##  <a name="killtimer"></a>CWnd::KillTimer  
 将终止由标识的计时器事件`nIDEvent`从以前调用`SetTimer`。  
  
```  
BOOL KillTimer(UINT_PTR nIDEvent);
```  
  
### <a name="parameters"></a>参数  
 `nIDEvent`  
 计时器事件的值传递给[SetTimer](#settimer)。  
  
### <a name="return-value"></a>返回值  
 指定的函数的结果。 值不为零，如果事件已被终止。 如果则为 0`KillTimer`成员函数找不到指定的计时器事件。  
  
### <a name="remarks"></a>备注  
 挂起[WM_TIMER](#ontimer)与计时器关联的消息不会从消息队列。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::SetTimer](#settimer)。  
  
##  <a name="loaddynamiclayoutresource"></a>CWnd::LoadDynamicLayoutResource  
 由框架调用，以从资源文件加载动态布局信息。  
  
```  
BOOL LoadDynamicLayoutResource(LPCTSTR lpszResourceName);
```  
  
### <a name="parameters"></a>参数  
 `lpszResourceName`  
 包含此窗口所需的动态布局信息的资源名称。  
  
### <a name="return-value"></a>返回值  
 如果函数运行成功，则为非零。 如果发生故障，则为 0。  
  
### <a name="remarks"></a>备注  
 请勿直接调用此方法。  
  
##  <a name="lockwindowupdate"></a>CWnd::LockWindowUpdate  
 禁用在给定窗口中绘制。  
  
```  
BOOL LockWindowUpdate();
```  
  
### <a name="return-value"></a>返回值  
 如果函数运行成功，则为非零。 如果发生故障，或如果，则为 0`LockWindowUpdate`函数已用于锁定另一个窗口。  
  
### <a name="remarks"></a>备注  
 不能移锁定的窗口。 只有一个窗口可以锁定一次。 若要解锁锁定的窗口`LockWindowUpdate`，调用[UnlockWindowUpdate](#unlockwindowupdate)。  
  
 如果应用程序具有锁定的窗口 （或任何锁定的子窗口） 调用[GetDC，](http://msdn.microsoft.com/library/windows/desktop/dd144871) [GetDCEx，](http://msdn.microsoft.com/library/windows/desktop/dd144873)或[BeginPaint](http://msdn.microsoft.com/library/windows/desktop/dd183362) Windows 函数调用的函数返回设备上下文的可见区域为空。 这会发生应用程序通过调用解锁窗口之前`UnlockWindowUpdate`成员函数。  
  
 当窗口更新处于锁定状态时，系统将记录的任何与锁定窗口关联的设备上下文的绘制操作的绑定矩形。 当重新启用绘制时，将此边界的矩形失效中锁定的窗口和其子窗口，来强制最终[WM_PAINT](http://msdn.microsoft.com/library/windows/desktop/dd145213)消息更新屏幕。 如果没有绘图发生窗口更新已锁定时，没有区域会失效。  
  
 `LockWindowUpdate`成员函数不会使给定的窗口不可见，并不会清除[WS_VISIBLE](../../mfc/reference/window-styles.md)样式位。  
  
##  <a name="m_hwnd"></a>CWnd::m_hWnd  
 Windows 窗口的句柄附加到此`CWnd`。  
  
```  
HWND m_hWnd;  
```  
  
### <a name="remarks"></a>备注  
 `m_hWnd`数据成员是类型的公共变量`HWND`。  
  
##  <a name="mapwindowpoints"></a>CWnd::MapWindowPoints  
 将一组点从 `CWnd` 的坐标空间转换（映射）到另一个窗口的坐标空间。  
  
```  
void MapWindowPoints(
    CWnd* pwndTo,  
    LPRECT lpRect) const;  
  
void MapWindowPoints(
    CWnd* pwndTo,  
    LPPOINT lpPoint,  
    UINT nCount) const;  
```  
  
### <a name="parameters"></a>参数  
 *pwndTo*  
 标识点转换到的目标窗口。 如果此参数为**NULL**，点转换为屏幕坐标。  
  
 `lpRect`  
 指定其点是要转换的矩形。 仅对于 Windows 3.1 及更高版本，此函数的第一个版本是可用。  
  
 `lpPoint`  
 指向数组的指针[点结构](../../mfc/reference/point-structure1.md)，包含要转换的点集。  
  
 `nCount`  
 指定的数**点**指向数组中的结构`lpPoint`。  
  
##  <a name="messagebox"></a>CWnd::MessageBox  
 创建并显示一个窗口，其中包含应用程序提供的消息和标题，再加上的预定义的图标和中所述的按键组合[消息框样式](../../mfc/reference/message-box-styles.md)列表。  
  
```  
int MessageBox(
    LPCTSTR lpszText,  
    LPCTSTR lpszCaption = NULL,  
    UINT nType = MB_OK);
```  
  
### <a name="parameters"></a>参数  
 `lpszText`  
 指向`CString`对象或包含要显示的消息的以 null 结尾的字符串。  
  
 `lpszCaption`  
 指向`CString`对象或要用于消息框标题的以 null 结尾的字符串。 如果`lpszCaption`是**NULL**，使用"Error"的默认标题。  
  
 `nType`  
 指定的内容和行为的消息框。  
  
### <a name="return-value"></a>返回值  
 此方法使用[MessageBox](http://msdn.microsoft.com/library/windows/desktop/ms645505)函数中定义[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 此方法返回调用此函数的结果。  
  
### <a name="remarks"></a>备注  
 使用全局函数[AfxMessageBox](../../mfc/reference/cstring-formatting-and-message-box-display.md#afxmessagebox)而不是该成员函数以在你的应用程序中实现一个消息框。  
  
 下面演示可以在一个消息框中使用的各种系统图标︰  
  
|||  
|-|-|  
|![停止 (x) 图标](../../mfc/reference/media/vc364f1.gif "vc364f1")|**MB_ICONHAND**， **MB_ICONSTOP**，和**MB_ICONERROR**|  
|![帮助 （） 图标](../../mfc/reference/media/vc364f2.gif "vc364f2")|**MB_ICONQUESTION**|  
|![重要说明 （！） 图标](../../mfc/reference/media/vc364f3.gif "vc364f3")|**MB_ICONEXCLAMATION**和**MB_ICONWARNING**|  
|![信息 (i) 图标](../../mfc/reference/media/vc364f4.gif "vc364f4")|**MB_ICONASTERISK**和**MB_ICONINFORMATION**|  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 104](../../mfc/reference/codesnippet/cpp/cwnd-class_44.cpp)]  
  
##  <a name="modifystyle"></a>CWnd::ModifyStyle  
 调用此成员函数以修改窗口的样式。  
  
```  
BOOL ModifyStyle(
    DWORD dwRemove,  
    DWORD dwAdd,  
    UINT nFlags = 0);
```  
  
### <a name="parameters"></a>参数  
 `dwRemove`  
 指定要删除在样式修改过程的窗口样式。  
  
 `dwAdd`  
 指定要添加在样式修改过程的窗口样式。  
  
 `nFlags`  
 标志传递给[SetWindowPos](#setwindowpos)，或为零`SetWindowPos`不应该调用。 默认值为零。 请参阅预设标志的列表的备注部分。  
  
### <a name="return-value"></a>返回值  
 如果已成功修改样式; 则为非 0否则为为 0。  
  
### <a name="remarks"></a>备注  
 可以通过使用按位 OR 组合样式来添加或删除 (|) 运算符。 请参阅主题[窗口样式](http://msdn.microsoft.com/library/windows/desktop/ms632600)和[CreateWindow](http://msdn.microsoft.com/library/windows/desktop/ms632679)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]有关可用的窗口样式信息。  
  
 如果`nFlags`不为零，`ModifyStyle`调用 Windows API 函数[SetWindowPos](http://msdn.microsoft.com/library/windows/desktop/ms633545)和通过组合重绘的窗口`nFlags`与以下四个预设的标志︰  
  
- `SWP_NOSIZE`保留当前的大小。  
  
- `SWP_NOMOVE`保留当前的位置。  
  
- `SWP_NOZORDER`保留当前的 Z 顺序。  
  
- `SWP_NOACTIVATE`不会激活窗口。  
  
 若要修改窗口的扩展样式，请参阅[ModifyStyleEx](#modifystyleex)。  
  
> [!NOTE]
>  对于某些控件中的某些样式 ( **ES_READONLY**样式在编辑控件中，例如)， **ModifyStyle**可能不正确更改样式因为控件可能需要执行特殊的内部处理。 可在这些情况下，使用相应的消息要更改的样式 ( **EM_SETREADONLY**在示例中所述)。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 105](../../mfc/reference/codesnippet/cpp/cwnd-class_45.cpp)]  
  
##  <a name="modifystyleex"></a>CWnd::ModifyStyleEx  
 调用此成员函数以修改窗口的扩展的样式。  
  
```  
BOOL ModifyStyleEx(
    DWORD dwRemove,  
    DWORD dwAdd,  
    UINT nFlags = 0);
```  
  
### <a name="parameters"></a>参数  
 `dwRemove`  
 指定要删除在样式修改过程的扩展的样式。  
  
 `dwAdd`  
 指定要添加在样式修改过程的扩展的样式。  
  
 `nFlags`  
 标志传递给[SetWindowPos](#setwindowpos)，或为零`SetWindowPos`不应该调用。 默认值为零。 请参阅预设标志的列表的备注部分。  
  
### <a name="return-value"></a>返回值  
 如果已成功修改样式; 则为非 0否则为为 0。  
  
### <a name="remarks"></a>备注  
 可以通过使用按位 OR 组合样式来添加或删除 (|) 运算符。 请参阅主题[扩展窗口样式](../../mfc/reference/extended-window-styles.md)本书中和[CreateWindowEx](http://msdn.microsoft.com/library/windows/desktop/ms632680)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]了解有关可用扩展样式  
  
 如果`nFlags`不为零，`ModifyStyleEx`调用 Windows API 函数[SetWindowPos](http://msdn.microsoft.com/library/windows/desktop/ms633545)和通过组合重绘的窗口`nFlags`与以下四个预设的标志︰  
  
- `SWP_NOSIZE`保留当前的大小。  
  
- `SWP_NOMOVE`保留当前的位置。  
  
- `SWP_NOZORDER`保留当前的 Z 顺序。  
  
- `SWP_NOACTIVATE`不会激活窗口。  
  
 若要修改 windows 中使用正则窗口样式，请参阅[ModifyStyle](#modifystyle)。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 106](../../mfc/reference/codesnippet/cpp/cwnd-class_46.cpp)]  
  
##  <a name="movewindow"></a>CWnd::MoveWindow  
 更改的位置和尺寸。  
  
```  
void MoveWindow(
    int x,  
    int y,  
    int nWidth,  
    int nHeight,  
    BOOL bRepaint = TRUE);

 
void MoveWindow(
    LPCRECT lpRect,
    BOOL bRepaint = TRUE);
```  
  
### <a name="parameters"></a>参数  
 *x*  
 指定的左侧的新位置`CWnd`。  
  
 *y*  
 指定新位置的顶部`CWnd`。  
  
 `nWidth`  
 指定的新宽度`CWnd`。  
  
 `nHeight`  
 指定的新高度`CWnd`。  
  
 `bRepaint`  
 指定是否`CWnd`是进行重新绘制。 如果**TRUE**，`CWnd`接收[WM_PAINT](http://msdn.microsoft.com/library/windows/desktop/dd145213)消息在其[OnPaint](#onpaint)照常消息处理程序。 如果此参数为**FALSE**，任何类型没有重新绘制时发生。 这适用的客户端区域、 （包括标题和滚动条） 的非工作区，和为发现了父窗口的任意部分`CWnd`的移动。 此参数时**FALSE**，应用程序必须显式失效或重绘的任何部分`CWnd`和必须重绘的父窗口。  
  
 `lpRect`  
 [CRect](../../atl-mfc-shared/reference/crect-class.md)对象或[RECT 结构](../../mfc/reference/rect-structure1.md)，指定新的大小和位置。  
  
### <a name="remarks"></a>备注  
 有关顶级`CWnd`对象， *x*和*y*参数是相对于屏幕左上角。 为子`CWnd`对象，它们是相对于父窗口的工作区的左上角。  
  
 `MoveWindow`函数发送[WM_GETMINMAXINFO](#ongetminmaxinfo)消息。 处理此消息提供`CWnd`机会修改最大和最小可能 windows 的默认值。 如果参数为`MoveWindow`成员函数超过这些值，值可以替换为中的最小值或最大值`WM_GETMINMAXINFO`处理程序。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::ClientToScreen](#clienttoscreen)。  
  
##  <a name="notifywinevent"></a>CWnd::NotifyWinEvent  
 向系统发出信号，指出发生了预定义事件。 如果任何客户端应用程序中注册该事件的挂钩函数，则系统会调用客户端的挂钩函数。  
  
```  
void NotifyWinEvent(
    DWORD event,  
    LONG idObjectType,  
    LONG idObject);
```  
  
### <a name="parameters"></a>参数  
 `event`  
 指定发生的事件。 此值必须是之一[事件常量](http://msdn.microsoft.com/library/windows/desktop/dd318066)。  
  
 *idObjectType*  
 标识生成事件的对象的种类。 此值是预定义之一[对象标识符](http://msdn.microsoft.com/library/windows/desktop/dd373606)或自定义对象的 ID 值。  
  
 `idObject`  
 标识是否生成事件的对象或者该对象的子元素。 如果此值为**CHILDID_SELF**，对象本身生成事件。 否则，此值是生成该事件的元素的子 ID。  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[NotifyWinEvent](http://msdn.microsoft.com/library/windows/desktop/dd373603)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="onactivate"></a>CWnd::OnActivate  
 框架调用此成员函数时`CWnd`对象正在激活或停用。  
  
```  
afx_msg void OnActivate(
    UINT nState,  
    CWnd* pWndOther,  
    BOOL bMinimized);
```  
  
### <a name="parameters"></a>参数  
 `nState`  
 指定是否`CWnd`正在激活或停用。 它可以是以下值之一︰  
  
- **WA_INACTIVE**窗口正在停用。  
  
- **WA_ACTIVE**窗口正在激活通过某些方法是之外 （例如，通过使用要选择的窗口的键盘接口），鼠标单击。  
  
- **WA_CLICKACTIVE**鼠标单击激活窗口。  
  
 *pWndOther*  
 指向`CWnd`正在激活或停用。 指针可能为**NULL**，它可能是临时。  
  
 *bMinimized*  
 指定的最小化的状态`CWnd`正在激活或停用。 值为**TRUE**指示窗口最小化。  
  
 如果**TRUE**、`CWnd`正在激活; 否则停用。  
  
### <a name="remarks"></a>备注  
 如果`CWnd`用鼠标单击激活对象，它也会收到[OnMouseActivate](#onmouseactivate)成员函数调用。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onactivateapp"></a>Cwnd:: Onactivateapp  
 到所有顶级窗口正在激活的任务和正在停用任务的所有顶级窗口，框架调用此成员函数。  
  
```  
afx_msg void OnActivateApp(
    BOOL bActive,  
    DWORD dwThreadID);
```  
  
### <a name="parameters"></a>参数  
 `bActive`  
 指定是否`CWnd`正在激活或停用。 **TRUE**意味着`CWnd`正在激活。 **FALSE**意味着`CWnd`正在停用。  
  
 *dwThreadID*  
 指定的值的线程 id。 如果`bActive`是**TRUE**， *dwThreadID*标识拥有的线程`CWnd`正在停用。 如果`bActive`是**FALSE**， *dwThreadID*标识拥有的线程`CWnd`正在激活。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onambientproperty"></a>CWnd::OnAmbientProperty  
 框架调用此成员函数以从包含 OLE 控件的窗口中获取环境属性值。  
  
```  
virtual BOOL OnAmbientProperty(
    COleControlSite* pSite,  
    DISPID dispid,  
    VARIANT* pvar);
```  
  
### <a name="parameters"></a>参数  
 `pSite`  
 指向请求的环境属性的控件的站点。  
  
 `dispid`  
 请求的环境属性的调度 ID。  
  
 `pvar`  
 调用方分配的指向`VARIANT`结构通过环境属性的值将返回。  
  
### <a name="return-value"></a>返回值  
 **TRUE**才支持该环境的属性; 如果**FALSE**如果不是。  
  
### <a name="remarks"></a>备注  
 重写此函数用于更改环境的属性值返回到其控件的 OLE 控件容器的默认值。 应将由重写函数不处理任何环境属性请求转发到基类实现。  
  
##  <a name="onappcommand"></a>CWnd::OnAppCommand  
 当用户生成应用程序命令事件时，框架将调用此成员函数。 当用户单击应用程序命令按钮或类型的应用程序命令键，则会发生这种情况下。  
  
```  
afx_msg void OnAppCommand(
    CWnd* pWnd,  
    UINT nCmd,  
    UINT nDevice,  
    UINT nKey);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `pWnd`|指向`CWnd`表示的窗口，其中用户单击的命令按钮或按下命令键的对象。 此窗口可以是子窗口的接收消息窗口。|  
|[in] `nCmd`|指示应用程序命令。 有关可能的值的列表，请参阅下面的命令*cmd*部分`lParam`参数[WM_APPCOMMAND](http://msdn.microsoft.com/library/windows/desktop/ms646275)。|  
|[in] `nDevice`|输入生成的设备的输入的事件。 有关可能的值的列表，请参阅下的设备*uDevice*部分`lParam`参数[WM_APPCOMMAND](http://msdn.microsoft.com/library/windows/desktop/ms646275)。|  
|[in] `nKey`|指示都已关闭，如 CTRL 键或鼠标左键任何虚拟键。 有关可能的值的列表，请参阅下的密钥*dwKeys*部分`lParam`参数[WM_APPCOMMAND](http://msdn.microsoft.com/library/windows/desktop/ms646275)。 有关详细信息，请参阅中的"消息参数"副标题[有关鼠标输入](http://msdn.microsoft.com/library/windows/desktop/ms645601)。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_APPCOMMAND](http://msdn.microsoft.com/library/windows/desktop/ms646275)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onaskcbformatname"></a>CWnd::OnAskCbFormatName  
 框架在剪贴板中包含的数据句柄时调用此成员函数`CF_OWNERDISPLAY`格式 （即，当剪贴板所有者显示剪贴板内容）。  
  
```  
afx_msg void OnAskCbFormatName(
    UINT nMaxCount,  
    LPTSTR lpszString);
```  
  
### <a name="parameters"></a>参数  
 `nMaxCount`  
 指定要复制字节的最大的数量。  
  
 `lpszString`  
 指向以的格式名副本其中是要存储的缓冲区。  
  
### <a name="remarks"></a>备注  
 剪贴板所有者应提供有关其格式的名称。  
  
 重写该成员函数和复制的名称`CF_OWNERDISPLAY`到指定的缓冲区，不超过最大指定的字节数的格式。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="oncancelmode"></a>CWnd::OnCancelMode  
 框架调用此成员函数以通知`CWnd`取消任何内部模式。  
  
```  
afx_msg void OnCancelMode();
```  
  
### <a name="remarks"></a>备注  
 如果`CWnd`对象具有焦点，其`OnCancelMode`显示对话框或消息框时调用成员函数。 这使`CWnd`取消等鼠标捕获模式的机会。  
  
 通过调用来响应的默认实现[ReleaseCapture](http://msdn.microsoft.com/library/windows/desktop/ms646261) Windows 函数。 重写此成员函数在处理其他模式在派生类中。  
  
##  <a name="oncapturechanged"></a>CWnd::OnCaptureChanged  
 框架调用此成员函数以通知失去鼠标捕获的窗口。  
  
```  
afx_msg void OnCaptureChanged(CWnd* pWnd);
```  
  
### <a name="parameters"></a>参数  
 `pWnd`  
 指向要获得鼠标捕获的窗口的指针  
  
### <a name="remarks"></a>备注  
 窗口收到此消息，即使它调用[ReleaseCapture](http://msdn.microsoft.com/library/windows/desktop/ms646261)本身。 应用程序不应尝试在响应此消息中设置鼠标捕获。 当它收到此消息时，一个窗口应重绘自己，如有必要，以反映新的鼠标捕获状态。  
  
 请参阅[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]有关的信息`ReleaseCapture`Windows 函数。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onchangecbchain"></a>CWnd::OnChangeCbChain  
 对剪贴板查看器链来向其通知正在从链中删除一个窗口中的每个窗口，框架调用此成员函数。  
  
```  
afx_msg void OnChangeCbChain(
    HWND hWndRemove,  
    HWND hWndAfter);
```  
  
### <a name="parameters"></a>参数  
 `hWndRemove`  
 指定正在从剪贴板查看器链中删除的窗口句柄。  
  
 `hWndAfter`  
 指定遵循正在从剪贴板查看器链中删除的窗口的窗口句柄。  
  
### <a name="remarks"></a>备注  
 每个`CWnd`接收对象`OnChangeCbChain`调用应使用[SendMessage](http://msdn.microsoft.com/library/windows/desktop/ms644950) Windows 函数发送[WM_CHANGECBCHAIN](http://msdn.microsoft.com/library/windows/desktop/ms649019)到剪贴板查看器链中的下一步窗口的消息 (返回的句柄`SetClipboardViewer`)。 如果`hWndRemove`是链，通过指定的窗口中的下一步窗口`hWndAfter`将为下一个窗口，并且剪贴板消息传递给它。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onchangeuistate"></a>CWnd::OnChangeUIState  
 在应更改用户界面 (UI) 状态时调用。  
  
```  
afx_msg void OnChangeUIState(
    UINT nAction,  
    UINT nUIElement);
```  
  
### <a name="parameters"></a>参数  
 `nAction`  
 指定要执行的操作。 可以是以下值之一：  
  
- **UIS_CLEAR**的 UI 状态元素 (通过指定`nUIElement`) 应被隐藏。  
  
- **UIS_INITIALIZE**的 UI 状态元素 (通过指定`nUIElement`) 应根据输入的最后一个事件来更改。 有关详细信息，请参阅**备注**部分[WM_CHANGEUISTATE](http://msdn.microsoft.com/library/windows/desktop/ms646342)。  
  
- **UIS_SET**的 UI 状态元素 (通过指定`nUIElement`) 应是可见的。  
  
 `nUIElement`  
 指定将影响哪些 UI 状态元素或控件的样式。 可以是以下值之一：  
  
- **UISF_HIDEACCEL**键盘快捷键。  
  
- **UISF_HIDEFOCUS**专注指示器。  
  
- **UISF_ACTIVE Windows XP:**应放用于活动控件的样式绘制控件。  
  
### <a name="remarks"></a>备注  
 此成员函数模拟的功能[WM_CHANGEUISTATE](http://msdn.microsoft.com/library/windows/desktop/ms646342)消息中所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="onchar"></a>CWnd::OnChar  
 当击键转换为非系统字符时，框架将调用此成员函数。  
  
```  
afx_msg void OnChar(
    UINT nChar,  
    UINT nRepCnt,  
    UINT nFlags);
```  
  
### <a name="parameters"></a>参数  
 `nChar`  
 包含密钥的字符代码值。  
  
 `nRepCnt`  
 包含重复计数，当用户按住键重复击键次数。  
  
 `nFlags`  
 包含扫描代码、 密钥转换代码、 以前的密钥状态和上下文代码，如下面的列表中所示︰  
  
|值|含义|  
|-----------|-------------|  
|0-15|指定的重复计数。 值是因为用户按住键重复击键次数。|  
|16-23|指定的扫描代码。 值取决于原始设备制造商 (OEM)|  
|24|指定密钥是否是扩展的密钥，如在增强的 101 或 102 键键盘显示的右侧 ALT 和 CTRL 键。 如果它是扩展的密钥; 值为 1否则，则为 0。|  
|25-28|由 Windows 内部使用。|  
|29|指定的上下文代码。 如果当按下键; ALT 键并按住，则值为 1否则，值为 0。|  
|30|指定上一项的状态。 如果密钥已关闭，然后发送消息，或如果注册该键，则为 0，则值为 1。|  
|31|指定的转换状态。 如果正在释放键，或如果按下了键，则为 0，则值为 1。|  
  
### <a name="remarks"></a>备注  
 此函数调用前[OnKeyUp](#onkeyup)成员函数和后[OnKeyDown](#onkeydown)调用成员函数。 `OnChar`包含正在按下或释放键盘键的值。  
  
 因为存在不一定是一对一的对应关系之间按下的键和`OnChar`生成的调用中的信息`nFlags`但通常不到应用程序很有用。 中的信息`nFlags`仅适用于最新调用`OnKeyUp`成员函数或`OnKeyDown`之前调用的成员函数`OnChar`。  
  
 对于 IBM 增强 101 和 102 键键盘、 增强的键是右 ALT 和键盘; 的主要部分上的右 CTRL 键单元、 DEL、 主页、 结束、 PAGE UP、 PAGE down 键和向左数字小键盘; 的群集中的箭头键斜杠 （/） 和数字键盘中的 ENTER 键。 一些其他键盘可能支持中的扩展密钥位`nFlags`。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onchartoitem"></a>CWnd::OnCharToItem  
 当在列表框中时，调用[LBS_WANTKEYBOARDINPUT](../../mfc/reference/list-box-styles.md)样式将发送其所有者[WM_CHARTOITEM](http://msdn.microsoft.com/library/windows/desktop/bb761358)消息以响应[WM_CHAR](#onchar)消息。  
  
```  
afx_msg int OnCharToItem(
    UINT nChar,  
    CListBox* pListBox,  
    UINT nIndex);
```  
  
### <a name="parameters"></a>参数  
 `nChar`  
 指定用户按下的键的值。  
  
 `pListBox`  
 指定指向列表框中的指针。 它可能是暂时的。  
  
 `nIndex`  
 指定当前插入符号位置。  
  
### <a name="return-value"></a>返回值  
 框架调用此成员函数以指定应用程序执行以响应调用的操作。 返回值为-2 表示应用程序处理的选择项的所有方面，希望列表框中的任何进一步的操作。 返回值-1 指示列表框在击键响应中应执行默认操作。 返回值 0 或更高版本的列表框中指定项的从零开始的索引，并指明列表框中，应在给定的项键击执行默认操作。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onchildactivate"></a>CWnd::OnChildActivate  
 如果`CWnd`对象是多文档界面 (MDI) 子窗口，`OnChildActivate`是由框架调用，当用户单击窗口的标题栏或在窗口已激活，移动或大小。  
  
```  
afx_msg void OnChildActivate();
```  
  
##  <a name="onchildnotify"></a>CWnd::OnChildNotify  
 在收到适用于此窗口的通知消息时，将通过此窗口的父窗口调用此成员函数。  
  
```  
virtual BOOL OnChildNotify(
    UINT message,  
    WPARAM wParam,  
    LPARAM lParam,  
    LRESULT* pResult);
```  
  
### <a name="parameters"></a>参数  
 `message`  
 Windows 消息数字发送到父窗口。  
  
 `wParam`  
 **Wparam**与消息关联。  
  
 `lParam`  
 **Lparam**与消息关联。  
  
 `pLResult`  
 指向要从父级的窗口过程中返回一个值的指针。 此指针将**NULL**如果预期会有没有返回值。  
  
### <a name="return-value"></a>返回值  
 如果此窗口负责处理到其父; 发送的消息则不为否则为 0。  
  
### <a name="remarks"></a>备注  
 永远不会直接调用此成员函数。  
  
 此成员函数的默认实现返回 0，这意味着父应处理消息。  
  
 重写该成员函数以扩展控件通知消息的响应的方式。  
  
##  <a name="onclipboardupdate"></a>CWnd::OnClipboardUpdate  
 当剪贴板内容发生更改时，框架将调用此成员函数。  
  
```  
afx_msg void OnClipboardUpdate();
```  
  
##  <a name="onclose"></a>CWnd::OnClose  
 框架调用此成员函数作为的信号，`CWnd`线程或应用程序即将终止。  
  
```  
afx_msg void OnClose();
```  
  
### <a name="remarks"></a>备注  
 默认实现调用`DestroyWindow`。  
  
##  <a name="oncolorizationcolorchanged"></a>CWnd::OnColorizationColorChanged  
 在非工作区的呈现策略已更改时，框架会调用此成员。  
  
```  
afx_msg void OnColorizationColorChanged(
    DWORD dwColorizationColor,   
    BOOL bOpacity);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `dwColorizationColor`|指定新的着色颜色。<br /><br /> 颜色格式，则十六进制数的窗体 0xAARRGGBB，其中每个四个组件的范围从 0x00 通过 0xFF。 AA 组件是 alpha 值、 RR 是红色的颜色、 GG 为绿色，和 BB 为蓝色。|  
|[in] `bOpacity`|`true`如果新的颜色不透明度，则与混合`false`如果它不是。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_DWMNCRENDERINGCHANGED](http://msdn.microsoft.com/library/windows/desktop/dd388198)中所述的通知消息[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="oncommand"></a>CWnd::OnCommand  
 当用户从菜单中，选择一个项，子控件将发送一条通知消息，或转换快捷键击键时，框架将调用此成员函数。  
  
```  
virtual BOOL OnCommand(
    WPARAM wParam,  
    LPARAM lParam);
```  
  
### <a name="parameters"></a>参数  
 `wParam`  
 低序位字`wParam`标识菜单项、 控件或快捷键的命令 ID。 高序位字`wParam`指定的通知消息，如果消息已从另一控件。 如果消息已从加速器，高序位字为 1。 如果消息已从菜单中，高序位字为 0。  
  
 `lParam`  
 标识发送消息，如果消息已从控件的控件。 否则为`lParam`为 0。  
  
### <a name="return-value"></a>返回值  
 应用程序返回非零，如果它可以处理此消息;否则为 0。  
  
### <a name="remarks"></a>备注  
 `OnCommand`处理控件通知的消息映射和`ON_COMMAND`条目，并调用适当的成员函数。  
  
 此成员函数在处理你在派生类中的重写[WM_COMMAND](http://msdn.microsoft.com/library/windows/desktop/ms647591)消息。 重写将不会处理的消息映射，除非基类`OnCommand`调用。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="oncompacting"></a>CWnd::OnCompacting  
 框架调用此成员函数针对所有顶级窗口，当 Windows 检测到，多个 12.5%的系统时间段 30 到 60 秒间隔内花费了压缩内存。  
  
```  
afx_msg void OnCompacting(UINT nCpuTime);
```  
  
### <a name="parameters"></a>参数  
 *nCpuTime*  
 指定当前所用的时间为 CPU 时间的压缩内存所用执行其他操作的 Windows 的 CPU 时间的比率。 例如，8000 h 表示 50%的 CPU 所花费的时间压缩内存。  
  
### <a name="remarks"></a>备注  
 这表明系统内存不足。  
  
 当`CWnd`对象接收此调用时，它应尽可能情况下，考虑到的应用程序和在 Windows 中运行的应用程序的总数量的活动的当前级别中释放尽可能多的内存。 应用程序可以调用 Windows 函数以确定在运行应用程序数。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="oncompareitem"></a>CWnd::OnCompareItem  
 框架调用此成员函数以在排序的子所有者描述组合或列表框中指定新项的相对位置。  
  
```  
afx_msg int OnCompareItem(
    int nIDCtl,  
    LPCOMPAREITEMSTRUCT lpCompareItemStruct);
```  
  
### <a name="parameters"></a>参数  
 `nIDCtl`  
 发送的控件的标识符`WM_COMPAREITEM`消息。  
  
 `lpCompareItemStruct`  
 包含的长指针[COMPAREITEMSTRUCT](../../mfc/reference/compareitemstruct-structure.md)数据结构，其中包含的标识符和应用程序提供对组合或列表框中的两个项的数据。  
  
### <a name="return-value"></a>返回值  
 指示两个项的相对位置。 它可能是以下值之一︰  
  
|值|含义|  
|-----------|-------------|  
|-1|项 2 之前进行排序的第 1 项。|  
|0|项 1 和 2 的项进行排序相同。|  
|1|项 2 后进行排序的第 1 项。|  
  
### <a name="remarks"></a>备注  
 如果使用组合或列表框中创建了[CBS_SORT](../../mfc/reference/combo-box-styles.md)或[LBS_SORT](../../mfc/reference/list-box-styles.md)样式，Windows 会将发送的组合框或列表框的所有者`WM_COMPAREITEM`消息每当应用程序中添加新项。  
  
 组合或列表框中的两个项修订后的中`COMPAREITEMSTRUCT`指向结构`lpCompareItemStruct`。 `OnCompareItem`应返回一个值，指示哪个项应出现在其他之前。 通常情况下，Windows 将使此调用多次直到它确定新项的确切位置。  
  
 如果**hwndItem**的成员`COMPAREITEMSTRUCT`结构属于[CListBox](../../mfc/reference/clistbox-class.md)或[CComboBox](../../mfc/reference/ccombobox-class.md)对象，则`CompareItem`调用虚函数的适当的类。 重写`CComboBox::CompareItem`或`CListBox::CompareItem`中你派生`CListBox`或`CComboBox`类来执行此项比较。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="oncompositionchanged"></a>CWnd::OnCompositionChanged  
 桌面窗口管理器 (DWM) 组合已启用或禁用时，框架针对所有顶级窗口调用此成员函数。  
  
```  
afx_msg void OnCompositionChanged();
```  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_DWMCOMPOSITIONCHANGED](http://msdn.microsoft.com/library/windows/desktop/dd388199)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="oncontextmenu"></a>CWnd::OnContextMenu  
 当用户单击窗口中的鼠标右键按钮 （右键单击） 时，由框架调用。  
  
```  
afx_msg void OnContextMenu(
    CWnd* pWnd,  
    CPoint pos);
```  
  
### <a name="parameters"></a>参数  
 `pWnd`  
 在其中用户右键单击鼠标窗口的句柄。 这可以是子窗口的接收消息窗口。 有关处理此消息的详细信息，请参阅备注部分。  
  
 `pos`  
 位置的光标，在屏幕坐标，时的鼠标单击。  
  
### <a name="remarks"></a>备注  
 你可以处理此消息的显示上下文菜单使用[TrackPopupMenu](../../mfc/reference/cmenu-class.md#trackpopupmenu)。  
  
 如果不显示上下文菜单应传递到此消息[DefWindowProc](#defwindowproc)函数。 如果你的窗口是子窗口，`DefWindowProc`将消息发送给父级。 否则为`DefWindowProc`窗口的标题中指定的位置是否显示默认上下文菜单。  
  
##  <a name="oncopydata"></a>CWnd::OnCopyData  
 由框架将数据复制到另一个应用程序中调用此成员函数。  
  
```  
afx_msg BOOL OnCopyData(
    CWnd* pWnd,  
    COPYDATASTRUCT* pCopyDataStruct);
```  
  
### <a name="parameters"></a>参数  
 `pWnd`  
 指向的指针`CWnd`发送数据的对象。  
  
 `pCopyDataStruct`  
 指向的指针[COPYDATASTRUCT](http://msdn.microsoft.com/library/windows/desktop/ms649010)结构，其中包含所发送的数据。  
  
### <a name="return-value"></a>返回值  
 返回**TRUE**如果接收应用程序已成功接受的数据。 否则，返回**FALSE**。  
  
### <a name="remarks"></a>备注  
 指针或对接收数据的应用程序无法访问的对象的其他引用不能包含正传递的数据。  
  
 虽然复制数据后，它必须不能由另一个线程发送过程的更改。  
  
 只读的则接收应用程序应考虑数据。 由参数指向的结构`pCopyDataStruct`无效的数据; 在传输期间只但是，接收应用程序不应释放与结构相关联的内存。  
  
 如果接收应用程序需要访问数据，此函数返回之后，它必须复制到本地缓冲区接收的数据。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="oncreate"></a>CWnd::OnCreate  
 框架调用此成员函数，当应用程序请求，Windows 窗口调用会创建[创建](#create)或[CreateEx](#createex)成员函数。  
  
```  
afx_msg int OnCreate(LPCREATESTRUCT lpCreateStruct);
```  
  
### <a name="parameters"></a>参数  
 `lpCreateStruct`  
 指向[CREATESTRUCT](../../mfc/reference/createstruct-structure.md)结构包含以下信息`CWnd`对象创建。  
  
### <a name="return-value"></a>返回值  
 `OnCreate`必须返回 0，若要继续创建`CWnd`对象。 如果应用程序返回-1，将销毁窗口。  
  
### <a name="remarks"></a>备注  
 `CWnd`对象接收此调用创建窗口之后，但之前它将显示出来。 `OnCreate`之前调用**创建**或`CreateEx`成员函数返回。  
  
 重写该成员函数以执行派生任何的类所需的初始化。  
  
 `CREATESTRUCT`结构包含用于创建窗口的参数的副本。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onctlcolor"></a>CWnd::OnCtlColor  
 要绘制子控件时，框架将调用此成员函数。  
  
```  
afx_msg HBRUSH OnCtlColor(
    CDC* pDC,  
    CWnd* pWnd,  
    UINT nCtlColor);
```  
  
### <a name="parameters"></a>参数  
 `pDC`  
 包含子窗口的显示上下文的指针。 可能是暂时的。  
  
 `pWnd`  
 包含指向要求的颜色的控件的指针。 可能是暂时的。  
  
 `nCtlColor`  
 包含指定的控件类型的以下值之一︰  
  
- **CTLCOLOR_BTN**按钮控件  
  
- **CTLCOLOR_DLG**对话框  
  
- **CTLCOLOR_EDIT** Edit 控件  
  
- **CTLCOLOR_LISTBOX**列表框控件  
  
- **CTLCOLOR_MSGBOX**消息框  
  
- **CTLCOLOR_SCROLLBAR**滚动条控件  
  
- **CTLCOLOR_STATIC**静态控件  
  
### <a name="return-value"></a>返回值  
 `OnCtlColor`必须返回到要用于绘制控件背景的画笔的句柄。  
  
### <a name="remarks"></a>备注  
 大多数控件将此消息发送到其父 （通常为对话框） 准备`pDC`描述控件使用正确的颜色。  
  
 若要更改的文本颜色，请调用`SetTextColor`具有所需的红色、 绿色和蓝色 (RGB) 值的成员函数。  
  
 若要更改的单行编辑控件的背景色，请将画笔句柄设置中同时**CTLCOLOR_EDIT**和**CTLCOLOR_MSGBOX**消息代码，并调用[CDC::SetBkColor](../../mfc/reference/cdc-class.md#setbkcolor)函数以响应**CTLCOLOR_EDIT**代码。  
  
 `OnCtlColor`不会调用下拉组合框的列表框因为下拉列表框将被实际组合框的子级并且不窗口的子级。 若要更改下拉列表框的颜色，创建`CComboBox`使用的替代`OnCtlColor`，用于检查**CTLCOLOR_LISTBOX**中`nCtlColor`参数。 在此处理程序，`SetBkColor`成员函数必须用于设置文本的背景色。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。 若要将以下方法添加到对话框类，请使用 Visual Studio 属性窗格添加 WM_CTLCOLOR 消息处理程序。 或者，可以手动将 ON_WM_CTLCOLOR() 条目添加到消息映射。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 107](../../mfc/reference/codesnippet/cpp/cwnd-class_47.cpp)]  
  
##  <a name="ondeadchar"></a>CWnd::OnDeadChar  
 框架调用此成员函数时[OnKeyUp](#onkeyup)成员函数和[OnKeyDown](#onkeydown)成员函数的调用。  
  
```  
afx_msg void OnDeadChar(
    UINT nChar,  
    UINT nRepCnt,  
    UINT nFlags);
```  
  
### <a name="parameters"></a>参数  
 `nChar`  
 指定死密钥字符值。  
  
 `nRepCnt`  
 指定的重复计数。  
  
 `nFlags`  
 下面的列表中所示来指定扫描代码、 密钥转换代码、 以前的密钥状态和上下文代码︰  
  
|值|说明|  
|-----------|-----------------|  
|0-7|扫描代码 （依赖于 OEM 的值）。 高序位字的低字节。|  
|8|扩展的密钥，如功能键或 （如果它是扩展的密钥为 1; 否则为 0） 数字键盘上的某个键。|  
|9-10|未使用。|  
|11-12|由 Windows 内部使用。|  
|13|上下文代码 （如果时按下键按下 ALT 键为 1; 否则为 0）。|  
|14|以前的密钥状态 (如果在调用，0，如果密钥已启动之前已关闭的密钥，则为 1)。|  
|15|过渡状态 （如果正在释放键为 1，0，如果按下了键）。|  
  
### <a name="remarks"></a>备注  
 此成员函数可以用于指定死键的字符值。 成为死键是一个键，例如变音符 （双点） 字符，结合以形成复合字符的其他字符。 例如，元音变音符-O 字符包含死键、 元音变音符和 O 键。  
  
 应用程序通常使用`OnDeadChar`以提供有关按每个键用户反馈。 例如，应用程序可以显示重音符号中的当前字符位置而不移动插入符号。  
  
 由于存在不一定存在一对一的对应关系之间按下的键和`OnDeadChar`调用，信息`nFlags`但通常不到应用程序很有用。 中的信息`nFlags`仅适用于最新调用[OnKeyUp](#onkeyup)成员函数或[OnKeyDown](#onkeydown)之前的成员函数`OnDeadChar`调用。  
  
 对于 IBM 增强 101 和 102 键键盘、 增强的键是右 ALT 和键盘; 的主要部分上的右 CTRL 键单元、 DEL、 主页、 结束、 PAGE UP、 PAGE down 键和向左数字小键盘; 的群集中的箭头键斜杠 （/） 和数字键盘中的 ENTER 键。 一些其他键盘可能支持中的扩展密钥位`nFlags`。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="ondeleteitem"></a>CWnd::OnDeleteItem  
 框架调用此成员函数以通知的所有者描述列表框或组合框的所有者被销毁列表框或组合框或项目均已删除通过[CComboBox::DeleteString](../../mfc/reference/ccombobox-class.md#deletestring)， [CListBox::DeleteString](../../mfc/reference/clistbox-class.md#deletestring)， [CComboBox::ResetContent](../../mfc/reference/ccombobox-class.md#resetcontent)，或[CListBox::ResetContent](../../mfc/reference/clistbox-class.md#resetcontent)。  
  
```  
afx_msg void OnDeleteItem(
    int nIDCtl,  
    LPDELETEITEMSTRUCT lpDeleteItemStruct);
```  
  
### <a name="parameters"></a>参数  
 `nIDCtl`  
 发送的控件的标识符`WM_DELETEITEM`消息。  
  
 `lpDeleteItemStruct`  
 指定指向的长指针[DELETEITEMSTRUCT](../../mfc/reference/deleteitemstruct-structure.md)包含已删除的列表框项的相关信息的数据结构。  
  
### <a name="remarks"></a>备注  
 如果**hwndItem**的成员`DELETEITEMSTRUCT`结构所属的组合框或列表框中，则`DeleteItem`调用虚函数的适当的类。 重写`DeleteItem`的要删除特定项的数据的相应控件的类成员函数。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="ondestroy"></a>CWnd::OnDestroy  
 框架调用此成员函数以通知`CWnd`对象被销毁。  
  
```  
afx_msg void OnDestroy();
```  
  
### <a name="remarks"></a>备注  
 `OnDestroy`之后，调用`CWnd`从屏幕中删除对象。  
  
 `OnDestroy`将为第一次调用`CWnd`被销毁，然后为的子窗口`CWnd`如销毁它们。 可以假定所有子窗口，仍然都存在时`OnDestroy`运行。  
  
 如果`CWnd`对象被销毁是剪贴板查看器链的一部分 (通过调用设置[SetClipboardViewer](#setclipboardviewer)成员函数)，则`CWnd`必须将其自身移除从剪贴板查看器链通过调用[ChangeClipboardChain](#changeclipboardchain)从返回之前的成员函数`OnDestroy`函数。  
  
##  <a name="ondestroyclipboard"></a>CWnd::OnDestroyClipboard  
 框架在通过调用清空剪贴板时，针对剪贴板所有者调用此成员函数[EmptyClipboard](http://msdn.microsoft.com/library/windows/desktop/ms649037) Windows 函数。  
  
```  
afx_msg void OnDestroyClipboard();
```  
  
##  <a name="ondevicechange"></a>CWnd::OnDeviceChange  
 框架调用此成员函数以通知应用程序或设备驱动程序的设备或计算机的硬件配置的更改。  
  
```  
afx_msg BOOL OnDeviceChange(
    UINT nEventType,  
    DWORD_PTR dwData);
```  
  
### <a name="parameters"></a>参数  
 *nEventType*  
 事件类型。 请参阅备注部分有关可用值的说明  
  
 `dwData`  
 包含特定于事件的数据的结构的地址。 其含义取决于给定的事件。  
  
### <a name="remarks"></a>备注  
 提供软件控制的功能，如弹出和锁定、 的设备的操作系统通常情况下发送**DBT_DEVICEREMOVEPENDING**消息为了让应用程序和设备驱动程序正常结束他们的设备使用。  
  
 如果操作系统强制中删除的设备，它可能不会发送**DBT_DEVICEQUERYREMOVE**之前执行此操作的消息。  
  
 *N 事件*参数可以为以下值之一︰  
  
- [DBT_DEVICEARRIVAL](http://msdn.microsoft.com/library/windows/desktop/aa363205)设备已插入，并且现已可用。  
  
- [DBT_DEVICEQUERYREMOVE](http://msdn.microsoft.com/library/windows/desktop/aa363206)请求权限来删除设备。 任何应用程序可以拒绝此请求，并取消的删除。  
  
- [DBT_DEVICEQUERYREMOVEFAILED](http://msdn.microsoft.com/library/windows/desktop/aa363207)已取消请求，若要删除设备。  
  
- [DBT_DEVICEREMOVEPENDING](http://msdn.microsoft.com/library/windows/desktop/aa363209)设备即将被删除。 不能被拒绝。  
  
- [DBT_DEVICEREMOVECOMPLETE](http://msdn.microsoft.com/library/windows/desktop/aa363208)设备已被删除。  
  
- [DBT_DEVICETYPESPECIFIC](http://msdn.microsoft.com/library/windows/desktop/aa363210)特定于设备的事件。  
  
- [DBT_CONFIGCHANGED](http://msdn.microsoft.com/library/windows/desktop/aa363203)当前配置已更改。  
  
- **DBT_DEVNODES_CHANGED**设备节点已更改。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="ondevmodechange"></a>CWnd::OnDevModeChange  
 框架调用此成员函数以使用所有顶级`CWnd`对象时用户更改设备模式设置。  
  
```  
afx_msg void OnDevModeChange(LPTSTR lpDeviceName);
```  
  
### <a name="parameters"></a>参数  
 *lpDeviceName*  
 指向以指定在 Windows 初始化文件中，WIN 的设备名称。INI。  
  
### <a name="remarks"></a>备注  
 应用程序处理`WM_DEVMODECHANGE`消息可能会重新初始化其设备模式设置。 使用 Windows 的应用程序**ExtDeviceMode**函数来保存和还原设备设置通常不会处理此函数。  
  
 在用户从控制面板中更改默认打印机时，将不会调用此函数。 在这种情况下，`OnWinIniChange`调用函数。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="ondrawclipboard"></a>CWnd::OnDrawClipboard  
 剪贴板的内容发生更改时，框架对剪贴板查看器链中每个窗口调用此成员函数。  
  
```  
afx_msg void OnDrawClipboard();
```  
  
### <a name="remarks"></a>备注  
 仅应用程序已通过调用加入剪贴板查看器链[SetClipboardViewer](#setclipboardviewer)成员函数需要接听此呼叫。  
  
 接收每个窗口`OnDrawClipboard`的调用应调用[SendMessage](http://msdn.microsoft.com/library/windows/desktop/ms644950) Windows 函数传递[WM_DRAWCLIPBOARD](http://msdn.microsoft.com/library/windows/desktop/ms649025)到剪贴板查看器链中的下一个窗口的消息。 下一步的窗口的句柄由[SetClipboardViewer](#setclipboardviewer)成员函数; 它可能会在响应中修改[OnChangeCbChain](#onchangecbchain)成员函数调用。  
  
##  <a name="ondrawiconicthumbnailorlivepreview"></a>CWnd::OnDrawIconicThumbnailOrLivePreview  
 由框架在需要获取要在 Windows 7 选项卡缩略图上或客户端上（进行应用程序速览）显示的位图时进行调用。  
  
```  
virtual void OnDrawIconicThumbnailOrLivePreview(
    CDC& dc,  
    CRect rect,  
    CSize szRequiredThumbnailSize,  
    BOOL bIsThumbnail,  
    BOOL& bAlphaChannelSet);
```  
  
### <a name="parameters"></a>参数  
 `dc`  
 指定的设备上下文。  
  
 `rect`  
 指定要呈现的区域的边框。  
  
 `szRequiredThumbnailSize`  
 指定目标缩略图的大小。 如果应忽略`bIsThumbnail`是`FALSE`。  
  
 `bIsThumbnail`  
 指定是否为图标缩略图或实时预览 （扫视） 调用此方法。  
  
 `bAlphaChannelSet`  
 [out]将其设置为`TRUE`如果你实现初始化在中选择的位图的 alpha 通道`dc`。  
  
### <a name="remarks"></a>备注  
 重写此方法在派生类中的和在指定的设备上下文上绘制以便自定义缩略图和查看。 如果`bThumbnail`是`TRUE`，`szRequiredThumbnailSize`可以忽略。 在这种情况下应注意绘制完整大小的位图 （即，涵盖整个工作区的位图）。 设备上下文 ( `dc`) 附带了所选的 32 位位图。 默认实现将 WM_PRINT 发送到 PRF_CLIENT、 PRF_CHILDREN 和 PRF_NONCLIENT 标志与此窗口。  
  
##  <a name="ondrawitem"></a>CWnd::OnDrawItem  
 框架调用此成员函数为所有者描述按钮控件、 组合框控件或菜单时控件的可视方位列表框控件的所有者或菜单已更改。  
  
```  
afx_msg void OnDrawItem(
    int nIDCtl,  
    LPDRAWITEMSTRUCT lpDrawItemStruct);
```  
  
### <a name="parameters"></a>参数  
 `nIDCtl`  
 包含发送的控件的标识符`WM_DRAWITEM`消息。 如果菜单发送消息，`nIDCtl`包含 0。  
  
 `lpDrawItemStruct`  
 指定指向的长指针`DRAWITEMSTRUCT`数据结构，其中包含有关要绘制的项和绘图所需的类型信息。  
  
### <a name="remarks"></a>备注  
 **ItemAction**的成员[DRAWITEMSTRUCT](../../mfc/reference/drawitemstruct-structure.md)结构定义要执行的绘制操作。 此成员中的数据允许控件的所有者，以确定什么绘制操作要求。  
  
 在之前返回从处理此消息，应用程序应确保由标识的设备上下文`hDC`的成员`DRAWITEMSTRUCT`结构还原为默认状态。  
  
 如果**hwndItem**成员属于[CButton](../../mfc/reference/cbutton-class.md)， [CMenu](../../mfc/reference/cmenu-class.md)， [CListBox](../../mfc/reference/clistbox-class.md)，或[CComboBox](../../mfc/reference/ccombobox-class.md)对象，则`DrawItem`调用虚函数的适当的类。 重写`DrawItem`用于绘制项的相应控件的类的成员函数。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="ondropfiles"></a>CWnd::OnDropFiles  
 当用户已将自己注册为拖放文件接收者的窗口上方释放鼠标左键时，框架将调用此成员函数。  
  
```  
afx_msg void OnDropFiles(HDROP hDropInfo);
```  
  
### <a name="parameters"></a>参数  
 *hDropInfo*  
 指向描述拖放的文件内部数据结构的指针。 使用此句柄**DragFinish**， **DragQueryFile**，和**DragQueryPoint** Windows 函数检索拖放文件有关的信息。  
  
### <a name="remarks"></a>备注  
 通常情况下，派生的类将用于支持拖放的文件和它将在窗口构造过程中注册自身。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onenable"></a>CWnd::OnEnable  
 应用程序更改的启用的状态时，框架会调用此成员函数`CWnd`对象。  
  
```  
afx_msg void OnEnable(BOOL bEnable);
```  
  
### <a name="parameters"></a>参数  
 `bEnable`  
 指定是否`CWnd`对象已启用或已禁用。 此参数是**TRUE**如果`CWnd`已启用; 它是**FALSE**如果`CWnd`已禁用。  
  
### <a name="remarks"></a>备注  
 `OnEnable`之前调用[EnableWindow](#enablewindow)成员函数返回，但在启用的窗口状态之后 ( [WS_DISABLED](../../mfc/reference/window-styles.md)样式位) 已更改。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onendsession"></a>CWnd::OnEndSession  
 框架调用此成员函数后的`CWnd`对象已返回非零值从[OnQueryEndSession](#onqueryendsession)成员函数调用。  
  
```  
afx_msg void OnEndSession(BOOL bEnding);
```  
  
### <a name="parameters"></a>参数  
 `bEnding`  
 指定在正在结束会话。 它是**TRUE**如果会话正在结束; 否则为**FALSE**。  
  
### <a name="remarks"></a>备注  
 `OnEndSession`调用通知`CWnd`对象是否实际结束会话。  
  
 如果`bEnding`是**TRUE**，Windows 仍可终止后从处理此调用返回了所有应用程序的任何时间。 因此，具有应用程序执行中的终止所需的所有任务`OnEndSession`。  
  
 不需要调用[DestroyWindow](#destroywindow)成员函数或[PostQuitMessage](http://msdn.microsoft.com/library/windows/desktop/ms644945)在会话结束时，Windows 正常工作。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onenteridle"></a>CWnd::OnEnterIdle  
 框架调用此成员函数以向应用程序的主窗口过程通知模式对话框或菜单正在进入空闲状态。  
  
```  
afx_msg void OnEnterIdle(
    UINT nWhy,  
    CWnd* pWho);
```  
  
### <a name="parameters"></a>参数  
 `nWhy`  
 指定消息是一个对话框或菜单显示的结果。 此参数可以是以下值之一︰  
  
- **MSGF_DIALOGBOX**系统处于空闲状态，因为正在显示一个对话框。  
  
- **MSGF_MENU**系统处于空闲状态，因为在显示的菜单。  
  
 *pWho*  
 指定到对话框中的指针 (如果`nWhy`是**MSGF_DIALOGBOX**)，或包含显示的菜单中的窗口 (如果`nWhy`是**MSGF_MENU**)。 此指针可能是暂时的不应存储起来供以后使用。  
  
### <a name="remarks"></a>备注  
 为模式对话框或菜单进入空闲状态时没有邮件正在等待其队列中之后它已处理一个或多个前面的消息。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onentermenuloop"></a>CWnd::OnEnterMenuLoop  
 当进入了菜单模式循环时，框架将调用此成员函数。  
  
```  
afx_msg void OnEnterMenuLoop(BOOL bIsTrackPopupMenu);
```  
  
### <a name="parameters"></a>参数  
 `bIsTrackPopupMenu`  
 指定所涉及的菜单是否弹出菜单。 如果该函数成功，则，具有一个非零值否则为 0。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onentersizemove"></a>CWnd::OnEnterSizeMove  
 框架调用此成员函数一次后受影响的窗口进入移动或大小调整模式循环。  
  
```  
afx_msg void OnEnterSizeMove();
```  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_ENTERSIZEMOVE](http://msdn.microsoft.com/library/windows/desktop/ms632622)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
 窗口进入移动或大小调整模式循环，当用户单击窗口的标题栏或大小调整边框或者窗口将传递[WM_SYSCOMMAND](http://msdn.microsoft.com/library/windows/desktop/ms646360)消息[CWnd::DefWindowProc](#defwindowproc)函数和`wParam`该消息的参数指定`SC_MOVE`或`SC_SIZE`。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onerasebkgnd"></a>CWnd::OnEraseBkgnd  
 框架调用此成员函数时`CWnd`对象背景需要擦除 （例如，在调整大小时）。  
  
```  
afx_msg BOOL OnEraseBkgnd(CDC* pDC);
```  
  
### <a name="parameters"></a>参数  
 `pDC`  
 指定的设备上下文对象。  
  
### <a name="return-value"></a>返回值  
 如果它将擦除背景，则为非零否则为 0。  
  
### <a name="remarks"></a>备注  
 它称为准备失效的区域的绘制。  
  
 默认实现清除后台使用指定的窗口类背景画笔**hbrBackground**窗口类结构的成员。  
  
 如果**hbrBackground**成员是**NULL**，你的重写的版本`OnEraseBkgnd`应擦除的背景色。 你的版本还应保持一致的预期画笔的原点`CWnd`坐标通过首先调用[UnrealizeObject](http://msdn.microsoft.com/library/windows/desktop/dd145164)画笔，，然后选择画笔。  
  
 被重写`OnEraseBkgnd`应返回非零值以响应`WM_ERASEBKGND`如果它处理消息并清除后台; 这表明，不会再清除不需要。 如果它返回 0 时，窗口将保持被标记为无需擦除。 (通常情况下，这意味着， **fErase**的成员`PAINTSTRUCT`结构将**TRUE**。)  
  
 Windows 假定后台计算有`MM_TEXT`映射模式。 如果设备上下文使用任何其他映射模式下，清除的区域可能不是在客户端区域的可见部分。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onexitmenuloop"></a>CWnd::OnExitMenuLoop  
 已退出了菜单模式循环时，框架将调用此成员函数。  
  
```  
afx_msg void OnExitMenuLoop(BOOL bIsTrackPopupMenu);
```  
  
### <a name="parameters"></a>参数  
 `bIsTrackPopupMenu`  
 指定所涉及的菜单是否是一个弹出菜单。 如果该函数成功，则，具有一个非零值否则为 0。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onexitsizemove"></a>CWnd::OnExitSizeMove  
 框架调用此成员函数受影响的窗口退出移动或大小调整模式循环后的一次。  
  
```  
afx_msg void OnExitSizeMove();
```  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_EXITSIZEMOVE](http://msdn.microsoft.com/library/windows/desktop/ms632623)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
 窗口进入移动或大小调整模式循环，当用户单击窗口的标题栏或大小调整边框或者窗口将传递[WM_SYSCOMMAND](http://msdn.microsoft.com/library/windows/desktop/ms646360)消息[CWnd::DefWindowProc](#defwindowproc)函数和`wParam`该消息的参数指定`SC_MOVE`或`SC_SIZE`。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onfontchange"></a>CWnd::OnFontChange  
 在系统中的所有顶级窗口接收`OnFontChange`后应用程序更改字体资源池从框架调用。  
  
```  
afx_msg void OnFontChange();
```  
  
### <a name="remarks"></a>备注  
 添加或删除从系统中的字体的应用程序 (例如，通过[AddFontResource](http://msdn.microsoft.com/library/windows/desktop/dd183326)或[RemoveFontResource](http://msdn.microsoft.com/library/windows/desktop/dd162922) Windows 函数) 应发送[WM_FONTCHANGE](http://msdn.microsoft.com/library/windows/desktop/dd145211)向所有顶级窗口的消息。  
  
 若要发送此邮件，使用[SendMessage](http://msdn.microsoft.com/library/windows/desktop/ms644950) Windows 起作用`hWnd`参数设置为**HWND_BROADCAST**。  
  
##  <a name="ongetdlgcode"></a>CWnd::OnGetDlgCode  
 针对控件进行调用，以便控件可以自己处理箭头键和 TAB 键输入。  
  
```  
afx_msg UINT OnGetDlgCode();
```  
  
### <a name="return-value"></a>返回值  
 一个或多个以下的值，该值指示哪种类型的输入应用程序进程︰  
  
- **DLGC_BUTTON**按钮 （泛型）。  
  
- **DLGC_DEFPUSHBUTTON**默认按钮。  
  
- **DLGC_HASSETSEL EM_SETSEL**消息。  
  
- **DLGC_UNDEFPUSHBUTTON**没有默认按键处理。 (应用程序可以使用此标志**DLGC_BUTTON**表明它处理按钮的输入，但依赖于默认按键处理的系统。)  
  
- **DLGC_RADIOBUTTON**单选按钮。  
  
- **DLGC_STATIC**静态控件。  
  
- **DLGC_WANTALLKEYS**所有键盘输入。  
  
- **DLGC_WANTARROWS**箭头键。  
  
- **DLGC_WANTCHARS** `WM_CHAR`消息。  
  
- **DLGC_WANTMESSAGE**所有键盘输入。 应用程序将传递到该控件的此消息。  
  
- **DLGC_WANTTAB** TAB 键。  
  
### <a name="remarks"></a>备注  
 通常情况下，Windows 处理所有箭头键和 TAB 键输入到`CWnd`控制。 通过重写`OnGetDlgCode`、`CWnd`控件可以选择特定类型的输入流程自身。  
  
 默认值`OnGetDlgCode`函数的预定义的控件类返回代码适用于每个类。  
  
##  <a name="ongetminmaxinfo"></a>CWnd::OnGetMinMaxInfo  
 每当 Windows 需要知道最大化的位置或维度，或最小值或最大跟踪大小，框架将调用此成员函数。  
  
```  
afx_msg void OnGetMinMaxInfo(MINMAXINFO* lpMMI);
```  
  
### <a name="parameters"></a>参数  
 *lpMMI*  
 指向`MINMAXINFO`大小、 位置和其最小和最大跟踪大小，包含有关窗口的信息的结构的最大化。 有关此结构的详细信息，请参阅[MINMAXINFO](../../mfc/reference/minmaxinfo-structure.md)结构。  
  
### <a name="remarks"></a>备注  
 最大化的大小时其边框进行了完全扩展窗口的大小。 跟踪窗口的大小最大为可以通过使用边框来调整窗口的大小最大窗口大小。 最小跟踪窗口的大小是最小的窗口大小，可以通过使用边框来调整窗口的大小。  
  
 Windows 将默认为指定值的各种位置和维度的点数组填充。 应用程序可能会更改这些值`OnGetMinMaxInfo`。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onhelp"></a>CWnd::OnHelp  
 处理应用程序中的 F1 帮助（使用当前上下文）。  
  
```  
afx_msg void OnHelp();
```  
  
### <a name="remarks"></a>备注  
 请参阅[CWinApp::OnHelp](../../mfc/reference/cwinapp-class.md#onhelp)有关详细信息。  
  
##  <a name="onhelpfinder"></a>CWnd::OnHelpFinder  
 处理**ID_HELP_FINDER**和**ID_DEFAULT_HELP**命令。  
  
```  
afx_msg void OnHelpFinder();
```  
  
### <a name="remarks"></a>备注  
 请参阅[CWinApp::OnHelpFinder](../../mfc/reference/cwinapp-class.md#onhelpfinder)有关详细信息。  
  
##  <a name="onhelpindex"></a>CWnd::OnHelpIndex  
 处理**ID_HELP_INDEX**命令，并提供默认帮助主题。  
  
```  
afx_msg void OnHelpIndex();
```  
  
### <a name="remarks"></a>备注  
 请参阅[CWinApp::OnHelpIndex](../../mfc/reference/cwinapp-class.md#onhelpindex)有关详细信息。  
  
##  <a name="onhelpinfo"></a>CWnd::OnHelpInfo  
 当用户按 F1 键时，由框架调用。  
  
```  
afx_msg BOOL OnHelpInfo(HELPINFO* lpHelpInfo);
```  
  
### <a name="parameters"></a>参数  
 *lpHelpInfo*  
 指向[HELPINFO](http://msdn.microsoft.com/library/windows/desktop/bb773313)结构，它包含有关菜单项、 控件、 对话框中或为其请求帮助的窗口的信息。  
  
### <a name="return-value"></a>返回值  
 如果窗口具有键盘焦点或菜单处于活动状态的时间段内才返回 TRUE。 如果没有窗口具有键盘焦点，则返回 FALSE。  
  
### <a name="remarks"></a>备注  
 如果菜单处于活动状态时按 F1 时， **WM_HELP**发送到关联的菜单的窗口; 否则为**WM_HELP**发送到具有键盘焦点的窗口。 如果没有窗口具有键盘焦点， **WM_HELP**发送到当前处于活动状态的窗口。  
  
##  <a name="onhelpusing"></a>CWnd::OnHelpUsing  
 处理**ID_HELP_USING**命令。  
  
```  
afx_msg void OnHelpUsing();
```  
  
### <a name="remarks"></a>备注  
 请参阅[CWinApp::OnHelpUsing](../../mfc/reference/cwinapp-class.md#onhelpusing)有关详细信息。  
  
##  <a name="onhotkey"></a>CWnd::OnHotKey  
 在用户按系统范围热键时，框架将调用此成员函数。  
  
```  
afx_msg void OnHotKey(
    UINT nHotKeyId,   
    UINT nKey1,   
    UINT nKey2);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nHotKeyId`|热键生成消息标识符。 如果消息由系统定义的热键生成的此参数将为以下值之一︰<br /><br /> - `IDHOT_SNAPDESKTOP`的曾按下管理单元的桌面热键。<br />- `IDHOT_SNAPWINDOW`的曾按下管理单元窗口热键。|  
|[in] `nKey1`|指示已按下组合在具有由指定键的键的标志的按位组合 (OR)`nKey2`参数。 可能的值为：<br /><br /> - `MOD_ALT`的已按下任一 ALT 键。<br />- `MOD_CONTROL`的已按下任一 CTRL 键。<br />- `MOD_SHIFT`的已按下任一 SHIFT 键。<br />- `MOD_WIN`-这两个 WINDOWS 密钥已按下。 这些密钥标记为 Microsoft Windows 徽标。|  
|[in] `nKey2`|热键虚拟键代码。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_HOTKEY](http://msdn.microsoft.com/library/windows/desktop/ms646279)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 此消息会放在与注册热键的线程关联的消息队列的顶部。 使用[RegisterHotKey](http://msdn.microsoft.com/library/windows/desktop/ms646309)函数注册系统范围热键。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onhscroll"></a>CWnd::OnHScroll  
 当用户单击窗口的水平滚动条，框架将调用此成员函数。  
  
```  
afx_msg void OnHScroll(
    UINT nSBCode,  
    UINT nPos,  
    CScrollBar* pScrollBar);
```  
  
### <a name="parameters"></a>参数  
 `nSBCode`  
 指定指示的用户的滚动条代码的滚动请求。 此参数可以是以下项之一︰  
  
- **SB_LEFT**滚动到最左侧。  
  
- **SB_ENDSCROLL**结束滚动。  
  
- **SB_LINELEFT**滚动保留。  
  
- **SB_LINERIGHT**向右滚动。  
  
- **SB_PAGELEFT**滚动一页左。  
  
- **SB_PAGERIGHT**右侧的滚动一页。  
  
- **SB_RIGHT**滚动到右侧。  
  
- **SB_THUMBPOSITION**滚动到绝对位置。 当前的位置由指定`nPos`参数。  
  
- **SB_THUMBTRACK**拖到指定位置的滚动框。 当前的位置由指定`nPos`参数。  
  
 `nPos`  
 如果滚动条的代码是指定的滚动框位置**SB_THUMBPOSITION**或**SB_THUMBTRACK**; 否则为未使用。 具体取决于初始滚动范围，`nPos`可以是负数，并且应强制转换为`int`如有必要。  
  
 `pScrollBar`  
 如果滚动消息所来自的滚动条控件，包含控件的指针。 如果用户单击窗口的滚动条，此参数是**NULL**。 该指针可能是暂时的，不应存储起来供将来使用。  
  
### <a name="remarks"></a>备注  
 **SB_THUMBTRACK**滚动条通常将使用代码进行拖动滚动框时，提供一些反馈的应用程序。  
  
 如果应用程序将由滚动条控制的内容滚动，它必须还将重置具有的滚动框的位置[SetScrollPos](#setscrollpos)成员函数。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 108](../../mfc/reference/codesnippet/cpp/cwnd-class_48.cpp)]  
  
##  <a name="onhscrollclipboard"></a>CWnd::OnHScrollClipboard  
 剪贴板所有者`OnHScrollClipboard`成员函数调用由剪贴板查看器，当剪贴板数据具有`CF_OWNERDISPLAY`格式，并且剪贴板查看器的水平滚动条中没有一个事件。  
  
```  
afx_msg void OnHScrollClipboard(
    CWnd* pClipAppWnd,  
    UINT nSBCode,  
    UINT nPos);
```  
  
### <a name="parameters"></a>参数  
 `pClipAppWnd`  
 指定指向剪贴板查看器窗口的指针。 该指针可能是暂时的，不应存储起来供将来使用。  
  
 `nSBCode`  
 在低序位字中指定以下的滚动条代码之一︰  
  
- **SB_BOTTOM**到右下角滚动。  
  
- **SB_ENDSCROLL**结束滚动。  
  
- **SB_LINEDOWN**向下滚动一行。  
  
- **SB_LINEUP**向上滚动一行。  
  
- **SB_PAGEDOWN**向下滚动一页。  
  
- **SB_PAGEUP**向上滚动一页。  
  
- **SB_THUMBPOSITION**滚动到的绝对位置。 中提供当前位置`nPos`。  
  
- **SB_TOP**滚动到左上方。  
  
 `nPos`  
 如果滚动条代码包含的滚动框位置**SB_THUMBPOSITION**; 否则为未使用。  
  
### <a name="remarks"></a>备注  
 所有者应滚动剪贴板图像、 使相应部分失效以及更新滚动条值。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="oniconerasebkgnd"></a>CWnd::OnIconEraseBkgnd  
 框架调用此成员函数以使用最小化 （图标化）`CWnd`对象必须在绘制图标之前填充图标背景时。  
  
```  
afx_msg void OnIconEraseBkgnd(CDC* pDC);
```  
  
### <a name="parameters"></a>参数  
 `pDC`  
 指定的图标的设备上下文对象。 可能是暂时的不应存储起来供以后使用。  
  
### <a name="remarks"></a>备注  
 `CWnd`接收此调用，仅当为窗口默认实现; 定义的类图标否则为[OnEraseBkgnd](#onerasebkgnd)调用。  
  
 [DefWindowProc](#defwindowproc)成员函数填充图标背景与父窗口的背景画笔。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="oninitmenu"></a>CWnd::OnInitMenu  
 当菜单要成为活动状态时，框架将调用此成员函数。  
  
```  
afx_msg void OnInitMenu(CMenu* pMenu);
```  
  
### <a name="parameters"></a>参数  
 `pMenu`  
 指定要初始化的菜单。 可能是暂时的不应存储起来供以后使用。  
  
### <a name="remarks"></a>备注  
 `OnInitMenu`用户单击菜单栏上的项，或按菜单键时调用。 重写该成员函数以它在显示之前修改菜单。  
  
 `OnInitMenu`只能调用一次，（例如，当用户单击菜单栏上的项） 首次访问一个菜单。 此方法不提供有关菜单项的信息。 当用户移动到菜单中项 （例如，通过跨多个菜单项将鼠标） 将不会再次调用函数。 一旦用户从菜单退出 （例如，通过单击应用程序工作区） 和更高版本单击菜单栏上的项，将再次调用该函数。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="oninitmenupopup"></a>CWnd::OnInitMenuPopup  
 当弹出菜单要成为活动状态时，框架将调用此成员函数。  
  
```  
afx_msg void OnInitMenuPopup(
    CMenu* pPopupMenu,  
    UINT nIndex,  
    BOOL bSysMenu);
```  
  
### <a name="parameters"></a>参数  
 *pPopupMenu*  
 指定弹出菜单的菜单对象。 可能是暂时的不应存储起来供以后使用。  
  
 `nIndex`  
 指定在主菜单的弹出菜单的索引。  
  
 *bSysMenu*  
 **TRUE**弹出菜单是否控件菜单中; 否则为**FALSE**。  
  
### <a name="remarks"></a>备注  
 这允许应用程序而无需更改的整个菜单显示之前修改的弹出菜单。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="oninputdevicechange"></a>CWnd::OnInputDeviceChange  
 添加或从系统中删除的 I/O 设备时，框架将调用此成员函数。  
  
```  
afx_msg void OnInputDeviceChange(unsigned short uFlag);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `uFlag`|此标志可以包含以下值︰<br /><br /> - `GIDC_ARRIVAL`-新设备具有已添加到系统。<br />- `GIDC_REMOVAL`-A 设备已从系统中删除。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_INPUT_DEVICE_CHANGE](http://msdn.microsoft.com/library/windows/desktop/ms645591)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 是泛型的输入的设备消息。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="oninputlangchange"></a>CWnd::OnInputLangChange  
 框架调用此成员的最顶端的受影响窗口后应用程序的输入的语言已更改。  
  
```  
afx_msg void OnInputLangChange(
    UINT nCharSet,   
    UINT nLocaleId);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nCharSet`|新的区域设置的字符集。 有关详细信息，请参阅`lfCharSet`参数[LOGFONT](http://msdn.microsoft.com/library/windows/desktop/dd145037)结构。|  
|[in] `nLocaleId`|输入区域设置标识符。 有关详细信息，请参阅[语言标识符常量和字符串](http://msdn.microsoft.com/library/windows/desktop/dd318693)。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_INPUTLANGCHANGE](http://msdn.microsoft.com/library/windows/desktop/ms632629)中所述的通知消息[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="oninputlangchangerequest"></a>CWnd::OnInputLangChangeRequest  
 框架调用此成员具有焦点的窗口，当用户选择新的输入的语言。  
  
```  
afx_msg void OnInputLangChangeRequest(
    UINT nFlags,   
    UINT nLocaleId);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nFlags`|指示从上一页或下一页区域设置的区域设置中，安装列表中选择新的区域设置或新的输入区域设置的键盘布局可与系统字符集的标志的按位 (OR) 组合。<br /><br /> 可能的值为`INPUTLANGCHANGE_BACKWARD`， `INPUTLANGCHANGE_FORWARD`，和`INPUTLANGCHANGE_SYSCHARSET`。|  
|[in] `nLocaleId`|输入区域设置标识符。 有关详细信息，请参阅[语言标识符常量和字符串](http://msdn.microsoft.com/library/windows/desktop/dd318693)。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_INPUTLANGCHANGEREQUEST](http://msdn.microsoft.com/library/windows/desktop/ms632630)中所述的通知消息[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 当用户选择新的输入的语言与任一热键在键盘控件面板应用程序，或从系统任务栏上的指示器指定发布此消息。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onkeydown"></a>CWnd::OnKeyDown  
 按下非系统键时，框架将调用此成员函数。  
  
```  
afx_msg void OnKeyDown(
    UINT nChar,  
    UINT nRepCnt,  
    UINT nFlags);
```  
  
### <a name="parameters"></a>参数  
 `nChar`  
 指定给定键的虚拟键代码。 有关标准虚拟键代码的列表，请参见 Winuser.h  
  
 `nRepCnt`  
 重复计数 （因为用户按住键重复击键次数的数量）。  
  
 `nFlags`  
 下面的列表中所示来指定扫描代码、 密钥转换代码、 以前的密钥状态和上下文代码︰  
  
|值|描述|  
|-----------|-----------------|  
|0-7|扫描代码 （依赖于 OEM 的值）。|  
|8|扩展的密钥，如函数密钥或数字键盘 (如果它是扩展的密钥，则为 1) 上的某个键。|  
|9-10|未使用。|  
|11-12|由 Windows 内部使用。|  
|13|上下文代码 （如果时按下键按下 ALT 键为 1; 否则为 0）。|  
|14|以前的密钥状态 (如果在调用，0，如果密钥已启动之前已关闭的密钥，则为 1)。|  
|15|过渡状态 （如果正在释放键为 1，0，如果按下了键）。|  
  
 有关`WM_KEYDOWN`消息密钥转换位 （位 15） 为 0 和上下文代码位 （位 13） 为 0。  
  
### <a name="remarks"></a>备注  
 非系统键是未按下 ALT 键时按下键盘键还是时按下键盘键`CWnd`具有输入的焦点。  
  
 由于自动重复，多个`OnKeyDown`调用可能会出现之前[OnKeyUp](#onkeyup)进行成员函数调用。 指示上一项状态的位可以用于确定是否`OnKeyDown`调用是第一个向下转换或向下重复的转换。  
  
 对于 IBM 增强 101 和 102 键键盘、 增强的键是右 ALT 和键盘; 的主要部分上的右 CTRL 键单元、 DEL、 主页、 结束、 PAGE UP、 PAGE down 键和向左数字小键盘; 的群集中的箭头键斜杠 （/） 和数字键盘中的 ENTER 键。 一些其他键盘可能支持中的扩展密钥位`nFlags`。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onkeyup"></a>CWnd::OnKeyUp  
 释放非系统键时，框架将调用此成员函数。  
  
```  
afx_msg void OnKeyUp(
    UINT nChar,  
    UINT nRepCnt,  
    UINT nFlags);
```  
  
### <a name="parameters"></a>参数  
 `nChar`  
 指定给定键的虚拟键代码。 有关标准虚拟键代码的列表，请参见 Winuser.h  
  
 `nRepCnt`  
 重复计数 （因为用户按住键重复击键次数的数量）。  
  
 `nFlags`  
 下面的列表中所示来指定扫描代码、 密钥转换代码、 以前的密钥状态和上下文代码︰  
  
|值|说明|  
|-----------|-----------------|  
|0-7|扫描代码 （依赖于 OEM 的值）。 高序位字的低字节。|  
|8|扩展的密钥，如功能键或 （如果它是扩展的密钥为 1; 否则为 0） 数字键盘上的某个键。|  
|9-10|未使用。|  
|11-12|由 Windows 内部使用。|  
|13|上下文代码 （如果时按下键按下 ALT 键为 1; 否则为 0）。|  
|14|以前的密钥状态 (如果在调用，0，如果密钥已启动之前已关闭的密钥，则为 1)。|  
|15|过渡状态 （如果正在释放键为 1，0，如果按下了键）。|  
  
 有关`WM_KEYUP`消息 （位 15） 中的密钥转换位是 1 和上下文代码位 （位 13） 为 0。  
  
### <a name="remarks"></a>备注  
 非系统键是未按下 ALT 键时按下键盘键还是时按下键盘键`CWnd`具有输入的焦点。  
  
 对于 IBM 增强 101 和 102 键键盘、 增强的键是右 ALT 和键盘; 的主要部分上的右 CTRL 键单元、 DEL、 主页、 结束、 PAGE UP、 PAGE down 键和向左数字小键盘; 的群集中的箭头键斜杠 （/） 和数字键盘中的 ENTER 键。 一些其他键盘可能支持中的扩展密钥位`nFlags`。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onkillfocus"></a>CWnd::OnKillFocus  
 框架失去输入的焦点之前调用此成员函数。  
  
```  
afx_msg void OnKillFocus(CWnd* pNewWnd);
```  
  
### <a name="parameters"></a>参数  
 *pNewWnd*  
 指定指向接收到输入的焦点的窗口的指针 (可能是**NULL**或可能是暂时)。  
  
### <a name="remarks"></a>备注  
 如果`CWnd`对象显示插入符号，应在此时销毁脱字号。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onlbuttondblclk"></a>CWnd::OnLButtonDblClk  
 当用户双击鼠标左键，框架将调用此成员函数。  
  
```  
afx_msg void OnLButtonDblClk(
    UINT nFlags,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nFlags`  
 指示是否各种虚拟键都已关闭。 此参数可以是以下值中的任意组合︰  
  
- **MK_CONTROL**如果按下 CTRL 键设置。  
  
- **MK_LBUTTON**如果按下鼠标左键设置。  
  
- **MK_MBUTTON**如果鼠标中键按下设置。  
  
- **MK_RBUTTON**如果鼠标右键按钮按下设置。  
  
- **MK_SHIFT**如果按下 SHIFT 键设置。  
  
 `point`  
 指定光标 x 和 y 坐标。 这些坐标始终是相对于窗口的左上角。  
  
### <a name="remarks"></a>备注  
 只有具有的 windows **CS_DBLCLKS** [WNDCLASS](http://msdn.microsoft.com/library/windows/desktop/ms633576)样式将收到`OnLButtonDblClk`调用。 这是适用于 Microsoft 基础类 windows 默认值。 Windows 调用`OnLButtonDblClk`当用户按下，释放，然后按下鼠标左键再次在系统的双击时间限制。 双击鼠标左键实际生成四个事件︰ [WM_LBUTTONDOWN](#onlbuttondown)， [WM_LBUTTONUP](#onlbuttonup)消息，`WM_LBUTTONDBLCLK`调用时，并另一个`WM_LBUTTONUP`消息时释放按钮。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onlbuttondown"></a>CWnd::OnLButtonDown  
 当用户按下鼠标左键时，框架将调用此成员函数。  
  
```  
afx_msg void OnLButtonDown(
    UINT nFlags,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nFlags`  
 指示是否各种虚拟键都已关闭。 此参数可以是以下值中的任意组合︰  
  
- **MK_CONTROL**如果按下 CTRL 键设置。  
  
- **MK_LBUTTON**如果按下鼠标左键设置。  
  
- **MK_MBUTTON**如果鼠标中键按下设置。  
  
- **MK_RBUTTON**如果鼠标右键按钮按下设置。  
  
- **MK_SHIFT**如果按下 SHIFT 键设置。  
  
 `point`  
 指定光标 x 和 y 坐标。 这些坐标始终是相对于窗口的左上角。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onlbuttonup"></a>CWnd::OnLButtonUp  
 当用户释放鼠标左键时，框架将调用此成员函数。  
  
```  
afx_msg void OnLButtonUp(
    UINT nFlags,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nFlags`  
 指示是否各种虚拟键都已关闭。 此参数可以是以下值中的任意组合︰  
  
- **MK_CONTROL**如果按下 CTRL 键设置。  
  
- **MK_MBUTTON**如果鼠标中键按下设置。  
  
- **MK_RBUTTON**如果鼠标右键按钮按下设置。  
  
- **MK_SHIFT**如果按下 SHIFT 键设置。  
  
 `point`  
 指定光标 x 和 y 坐标。 这些坐标始终是相对于窗口的左上角。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmbuttondblclk"></a>CWnd::OnMButtonDblClk  
 当用户双击鼠标中键时，框架将调用此成员函数。  
  
```  
afx_msg void OnMButtonDblClk(
    UINT nFlags,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nFlags`  
 指示是否各种虚拟键都已关闭。 此参数可以是以下值中的任意组合︰  
  
- **MK_CONTROL**如果按下 CTRL 键设置。  
  
- **MK_LBUTTON**如果按下鼠标左键设置。  
  
- **MK_MBUTTON**如果鼠标中键按下设置。  
  
- **MK_RBUTTON**如果鼠标右键按钮按下设置。  
  
- **MK_SHIFT**如果按下 SHIFT 键设置。  
  
 `point`  
 指定光标 x 和 y 坐标。 这些坐标始终是相对于窗口的左上角。  
  
### <a name="remarks"></a>备注  
 只有具有的 windows **CS_DBLCLKS** [WNDCLASS](http://msdn.microsoft.com/library/windows/desktop/ms633576)样式将收到`OnMButtonDblClk`调用。 这是所有 Microsoft 基础类窗口的默认值。 Windows 生成`OnMButtonDblClk`在用户按可实现的版本中，然后按下鼠标按钮再次在系统的双击时间限制时调用。 双击鼠标中键实际生成四个事件︰ [WM_MBUTTONDOWN](#onmbuttondown)和[WM_MBUTTONUP](#onmbuttonup)消息，`WM_MBUTTONDBLCLK`调用时，并另一个`WM_MBUTTONUP`消息。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmbuttondown"></a>CWnd::OnMButtonDown  
 当用户按下鼠标中键时，框架将调用此成员函数。  
  
```  
afx_msg void OnMButtonDown(
    UINT nFlags,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nFlags`  
 指示是否各种虚拟键都已关闭。 此参数可以是以下值中的任意组合︰  
  
- **MK_CONTROL**如果按下 CTRL 键设置。  
  
- **MK_LBUTTON**如果按下鼠标左键设置。  
  
- **MK_MBUTTON**如果鼠标中键按下设置。  
  
- **MK_RBUTTON**如果鼠标右键按钮按下设置。  
  
- **MK_SHIFT**如果按下 SHIFT 键设置。  
  
 `point`  
 指定光标 x 和 y 坐标。 这些坐标始终是相对于窗口的左上角。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmbuttonup"></a>CWnd::OnMButtonUp  
 当用户释放鼠标中键时，框架将调用此成员函数。  
  
```  
afx_msg void OnMButtonUp(
    UINT nFlags,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nFlags`  
 指示是否各种虚拟键都已关闭。 此参数可以是以下值中的任意组合︰  
  
- **MK_CONTROL**如果按下 CTRL 键设置。  
  
- **MK_LBUTTON**如果按下鼠标左键设置。  
  
- **MK_RBUTTON**如果鼠标右键按钮按下设置。  
  
- **MK_SHIFT**如果按下 SHIFT 键设置。  
  
 `point`  
 指定光标 x 和 y 坐标。 这些坐标始终是相对于窗口的左上角。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmdiactivate"></a>CWnd::OnMDIActivate  
 正在停用的子窗口和子窗口被激活，框架调用此成员函数。  
  
```  
afx_msg void OnMDIActivate(
    BOOL bActivate,  
    CWnd* pActivateWnd,  
    CWnd* pDeactivateWnd);
```  
  
### <a name="parameters"></a>参数  
 `bActivate`  
 **TRUE**如果正在激活子和**FALSE**如果正在停用。  
  
 `pActivateWnd`  
 包含要激活的 MDI 子窗口的指针。 当 MDI 子窗口，收到`pActivateWnd`包含要激活的子窗口的指针。 此指针可能是暂时的不应存储起来供以后使用。  
  
 *pDeactivateWnd*  
 包含正在停用 MDI 子窗口的指针。 此指针可能是暂时的不应存储起来供以后使用。  
  
### <a name="remarks"></a>备注  
 MDI 子窗口激活独立于 MDI 框架窗口中。 当帧变为活动状态、 上次激活所用的子窗口`OnMDIActivate`调用接收[WM_NCACTIVATE](#onncactivate)消息来绘制活动窗口框架和标题栏中，但它不会收到另一个`OnMDIActivate`调用。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmeasureitem"></a>CWnd::OnMeasureItem  
 框架调用此成员函数由框架所有者描述按钮、 组合框、 列表框中或菜单项的所有者为创建控件时。  
  
```  
afx_msg void OnMeasureItem(
    int nIDCtl, LPMEASUREITEMSTRUCT lpMeasureItemStruct);
```  
  
### <a name="parameters"></a>参数  
 `nIDCtl`  
 控件的 ID。  
  
 `lpMeasureItemStruct`  
 指向[MEASUREITEMSTRUCT](../../mfc/reference/measureitemstruct-structure.md)包含所有者描述控件的维度的数据结构。  
  
### <a name="remarks"></a>备注  
 重写该成员函数，并填写`MEASUREITEMSTRUCT`指向数据结构`lpMeasureItemStruct`和返回; 这通知 Windows 控件的尺寸，并允许 Windows 正确地处理用户与控件交互。  
  
 如果使用列表框或组合框创建了[LBS_OWNERDRAWVARIABLE](../../mfc/reference/list-box-styles.md)或[CBS_OWNERDRAWVARIABLE](../../mfc/reference/combo-box-styles.md)样式，框架会调用此函数为每个控件中项的所有者; 否则一次调用此函数。  
  
 Windows 会启动到调用`OnMeasureItem`组合框和列表框的所有者创建与**OWNERDRAWFIXED**样式在发送之前[WM_INITDIALOG](http://msdn.microsoft.com/library/windows/desktop/ms645428)消息。 因此，当所有者会收到此调用，Windows 尚未确定的高度和宽度的控件; 中使用的字体函数调用和计算需要这些值应该出现在应用程序或库的主要功能。  
  
 如果当前测量的项是`CMenu`，`CListBox`或`CComboBox`对象，则`MeasureItem`调用虚函数的适当的类。 重写`MeasureItem`成员函数的相应控件的类，用于计算和设置的每个项的大小。  
  
 `OnMeasureItem`仅当在运行时，创建控件的类或使用创建的它将调用**LBS_OWNERDRAWVARIABLE**或**CBS_OWNERDRAWVARIABLE**样式。 如果控件由对话框编辑器中，创建`OnMeasureItem`将不会调用。 这是因为[WM_MEASUREITEM](http://msdn.microsoft.com/library/windows/desktop/bb775925)尽早在控件的创建过程中发送消息。 如果通过使用子类`DDX_Control`， `SubclassDlgItem`，或`SubclassWindow`，子类化创建过程完成后，通常会出现。 因此，没有方法来处理[WM_MEASUREITEM](http://msdn.microsoft.com/library/windows/desktop/bb775925)中控件的消息`OnChildNotify`函数，它是 MFC 使用来实现的机制**ON_WM_MEASUREITEM_REFLECT**。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmenuchar"></a>CWnd::OnMenuChar  
 当用户按下不与任何当前菜单中的预定义助记键匹配的菜单助记键字符时，框架将调用此成员函数。  
  
```  
afx_msg LRESULT OnMenuChar(
    UINT nChar,  
    UINT nFlags,  
    CMenu* pMenu);
```  
  
### <a name="parameters"></a>参数  
 `nChar`  
 具体取决于生成设置中，指定用户按下的 ANSI 或 Unicode 字符。  
  
 `nFlags`  
 包含**MF_POPUP**标志如果菜单是一个弹出菜单。 它包含**MF_SYSMENU**标志如果菜单是控件。  
  
 `pMenu`  
 包含所选的指针`CMenu`。 指针可能是暂时并不会存储。  
  
### <a name="return-value"></a>返回值  
 返回值的高序位字应包含以下命令代码之一︰  
  
|值|描述|  
|-----------|-----------------|  
|0|指示 Windows 丢弃用户按下和在系统扬声器上创建短播放提示音的字符。|  
|1|指示 Windows 关闭当前的菜单。|  
|2|向 Windows 通知返回值的低序位字包含特定项的项编号。 由 Windows 选择此项目。|  
  
 如果高序位字包含 0 或 1，则忽略低序位字。 使用快捷键 （快捷方式） 来选择菜单中放置的位图时，应用程序应处理此消息。  
  
### <a name="remarks"></a>备注  
 发送到`CWnd`拥有菜单。 `OnMenuChar`也称为当用户按 ALT 和任何其他密钥，即使密钥并不对应于助记键字符。 在这种情况下，`pMenu`指向拥有的菜单`CWnd`，和`nFlags`为 0。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmenudrag"></a>CWnd::OnMenuDrag  
 当用户开始拖动菜单项时，框架将调用当前的拖放菜单此成员函数。  
  
```  
afx_msg UINT OnMenuDrag(
    UINT nPos,   
    CMenu* pMenu);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nPos`|在拖动操作开始时的菜单项的索引的位置。|  
|[in] `pMenu`|指向[CMenu](../../mfc/reference/cmenu-class.md)包含菜单项的对象。|  
  
### <a name="return-value"></a>返回值  
  
|返回值|含义|  
|------------------|-------------|  
|`MND_CONTINUE`|菜单应保持活动状态。 如果鼠标已发布，应忽略它。|  
|`MND_ENDMENU`|应结束菜单。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_MENUDRAG](http://msdn.microsoft.com/library/windows/desktop/ms647606)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmenugetobject"></a>CWnd::OnMenuGetObject  
 鼠标光标进入菜单项或将其从该项目的中心移动到顶部或底部的项时，框架将调用当前的拖放菜单此成员函数。  
  
```  
afx_msg UINT OnMenuGetObject(MENUGETOBJECTINFO* pMenuGetObjectInfo);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `pMenu`|指向[MENUGETOBJECTINFO](http://msdn.microsoft.com/library/windows/desktop/ms647572)结构，它包含有关拖放菜单鼠标光标的信息位于。|  
  
### <a name="return-value"></a>返回值  
  
|返回值|含义|  
|------------------|-------------|  
|`MNGO_NOERROR`|在中返回支持放拖动操作的接口指针`pvObj`的成员[MENUGETOBJECTINFO](http://msdn.microsoft.com/library/windows/desktop/ms647572)结构。 目前，仅[IDropTarget](http://msdn.microsoft.com/library/windows/desktop/ms679679)支持界面。|  
|`MNGO_NOINTERFACE`|不支持任何放拖界面。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_MENUGETOBJECT](http://msdn.microsoft.com/library/windows/desktop/ms647607)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmenurbuttonup"></a>CWnd::OnMenuRButtonUp  
 当用户释放鼠标右键按钮，光标位于菜单项上时，框架将调用此成员函数。  
  
```  
afx_msg void OnMenuRButtonUp(
    UINT nPos,  
    CMenu* pMenu);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nPos`|当已松开了鼠标右键按钮的菜单项的索引的位置。|  
|[in] `pMenu`|指向[CMenu](../../mfc/reference/cmenu-class.md)包含菜单项的对象。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_MENURBUTTONUP](http://msdn.microsoft.com/library/windows/desktop/ms647610)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 [WM_MENURBUTTONUP](http://msdn.microsoft.com/library/windows/desktop/ms647610)消息可让应用程序项指定消息中的菜单提供上下文相关菜单。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmenuselect"></a>CWnd::OnMenuSelect  
 如果`CWnd`对象都与一个菜单，关联`OnMenuSelect`当用户选择菜单项时，由框架调用。  
  
```  
afx_msg void OnMenuSelect(
    UINT nItemID,  
    UINT nFlags,  
    HMENU hSysMenu);
```  
  
### <a name="parameters"></a>参数  
 `nItemID`  
 标识选择的项。 如果所选的项目属于一个菜单项，`nItemID`包含菜单项 id。 如果所选的项目包含一个弹出菜单，`nItemID`包含弹出菜单索引和*hSysMenu*包含主 (单击 on) 菜单的句柄。  
  
 `nFlags`  
 包含以下菜单标志的组合︰  
  
- **MF_BITMAP**项是一个位图。  
  
- **MF_CHECKED**选中项。  
  
- **MF_DISABLED**项被禁用。  
  
- **MF_GRAYED**项将呈灰色。  
  
- **MF_MOUSESELECT**用鼠标选择任何项目。  
  
- `MF_OWNERDRAW`项是否为所有者描述项。  
  
- **MF_POPUP**项包含一个弹出菜单。  
  
- **MF_SEPARATOR**项是一个菜单项分隔符。  
  
- **MF_SYSMENU**项包含在控件菜单。  
  
 `hSysMenu`  
 如果`nFlags`包含**MF_SYSMENU**，标识与消息关联的菜单。 如果`nFlags`包含**MF_POPUP**，标识主菜单的句柄。 如果`nFlags`包含既不**MF_SYSMENU**也不**MF_POPUP**，它是未使用。  
  
### <a name="remarks"></a>备注  
 如果`nFlags`包含 0xFFFF 和`hSysMenu`包含 0，因为用户按下 ESC 键或单击的菜单之外，已关闭菜单窗口。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmouseactivate"></a>CWnd::OnMouseActivate  
 在光标处于非活动窗口，用户按下鼠标按钮时，框架将调用此成员函数。  
  
```  
afx_msg int OnMouseActivate(
    CWnd* pDesktopWnd,  
    UINT nHitTest,  
    UINT message);
```  
  
### <a name="parameters"></a>参数  
 *pDesktopWnd*  
 指定指向要激活的窗口的顶级父窗口的指针。 指针可能是暂时并不会存储。  
  
 `nHitTest`  
 指定[命中测试](#onnchittest)区域代码。 命中的测试是确定光标的位置的测试。  
  
 `message`  
 指定鼠标消息号。  
  
### <a name="return-value"></a>返回值  
 指定是否激活`CWnd`以及是否要放弃鼠标事件。 它必须是以下值之一︰  
  
- **MA_ACTIVATE**激活`CWnd`对象。  
  
- **MA_NOACTIVATE**不要激活`CWnd`对象。  
  
- **MA_ACTIVATEANDEAT**激活`CWnd`对象，并放弃所做的鼠标事件。  
  
- **MA_NOACTIVATEANDEAT**不要激活`CWnd`对象，并放弃所做的鼠标事件。  
  
### <a name="remarks"></a>备注  
 默认实现将此消息传递到父窗口之前进行任何处理。 如果父窗口返回**TRUE**，处理将暂停。  
  
 单个的命中测试区域代码的说明，请参阅[OnNcHitTest](#onnchittest)成员函数  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCAxCtl # 9](../../mfc/reference/codesnippet/cpp/cwnd-class_49.cpp)]  
  
##  <a name="onmousehover"></a>CWnd::OnMouseHover  
 框架调用此成员函数，当光标悬停在窗口的工作区中调用指定的时间段内[TrackMouseEvent](http://msdn.microsoft.com/library/windows/desktop/ms646265)。  
  
```  
afx_msg void OnMouseHover(
    UINT nFlags,   
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nFlags`|指示哪个修改键被按下标志的按位组合 (OR)。 例如，`MK_CONTROL`标志指示按下 CTRL 键。|  
|[in] `point`|A [CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*和*y*光标相对于客户端区域的左上角的坐标。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_MOUSEHOVER](http://msdn.microsoft.com/library/windows/desktop/ms645613)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
 `nFlags`参数可以为下表中列出的修改键的组合。 有关详细信息，请参阅[有关鼠标输入](http://msdn.microsoft.com/library/windows/desktop/ms645601)。  
  
|修改键|描述|  
|------------------|-----------------|  
|MK_CONTROL|按下 CTRL 键。|  
|MK_LBUTTON|按下鼠标左键。|  
|MK_MBUTTON|按下鼠标按钮。|  
|MK_RBUTTON|按下鼠标右键按钮。|  
|MK_SHIFT|按下 SHIFT 键。|  
|MK_XBUTTON1|按下 Microsoft 智能鼠标的 XBUTTON1 鼠标按钮。|  
|MK_XBUTTON2|按下的 Microsoft 智能鼠标 XBUTTON2 鼠标按钮。|  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmousehwheel"></a>CWnd::OnMouseHWheel  
 在当前窗口由构成由桌面窗口管理器 (DWM) 中，并最大化该窗口时，框架会调用此成员。  
  
```  
afx_msg void OnMouseHWheel(
    UINT nFlags,   
    short zDelta,   
    CPoint pt);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nFlags`|指示哪个修改键被按下标志的按位组合 (OR)。 例如，`MK_CONTROL`标志指示按下 CTRL 键。<br /><br /> 标志的列表，请参阅中的"消息参数"副标题[有关鼠标输入](http://msdn.microsoft.com/library/windows/desktop/ms645601)。|  
|[in] `zDelta`|指示滚轮转动，倍数或色阶的分格表述的距离`WHEEL_DELTA`，这是 120。 正值指示轮已转动向右;负值指示轮已转动的左侧。|  
|[in] `pt`|A [CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*和*y*光标相对于客户端区域的左上角的坐标。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_MOUSEHWHEEL](http://msdn.microsoft.com/library/windows/desktop/ms645614)中所述的通知消息[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 此消息发送到倾斜或旋转鼠标的水平滚动轮时具有焦点的窗口。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmouseleave"></a>CWnd::OnMouseLeave  
 框架调用此成员函数，当光标离开调用中指定的窗口的工作区[TrackMouseEvent](http://msdn.microsoft.com/library/windows/desktop/ms646265)。  
  
```  
afx_msg void OnMouseLeave();
```  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_MOUSELEAVE](http://msdn.microsoft.com/library/windows/desktop/ms645615)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmousemove"></a>CWnd::OnMouseMove  
 当鼠标光标移动时，框架将调用此成员函数。  
  
```  
afx_msg void OnMouseMove(
    UINT nFlags,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nFlags`  
 指示是否各种虚拟键都已关闭。 此参数可以是以下值中的任意组合︰  
  
- **MK_CONTROL**如果按下 CTRL 键设置。  
  
- **MK_LBUTTON**如果按下鼠标左键设置。  
  
- **MK_MBUTTON**如果鼠标中键按下设置。  
  
- **MK_RBUTTON**如果鼠标右键按钮按下设置。  
  
- **MK_SHIFT**如果按下 SHIFT 键设置。  
  
 `point`  
 指定光标 x 和 y 坐标。 这些坐标始终是相对于窗口的左上角。  
  
### <a name="remarks"></a>备注  
 如果没有捕获鼠标，`WM_MOUSEMOVE`接收到消息`CWnd`鼠标光标; 下的对象; 否则，将消息链接转到已捕获鼠标的窗口。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmousewheel"></a>CWnd::OnMouseWheel  
 用户旋转鼠标滚轮以及遇到轮的下一步陷波，框架将调用此成员函数。  
  
```  
afx_msg BOOL OnMouseWheel(
    UINT nFlags,  
    short zDelta,  
    CPoint pt);
```  
  
### <a name="parameters"></a>参数  
 `nFlags`  
 指示是否各种虚拟键都已关闭。 此参数可以是以下值中的任意组合︰  
  
- **MK_CONTROL**如果按下 CTRL 键设置。  
  
- **MK_LBUTTON**如果按下鼠标左键设置。  
  
- **MK_MBUTTON**如果鼠标中键按下设置。  
  
- **MK_RBUTTON**如果鼠标右键按钮按下设置。  
  
- **MK_SHIFT**如果按下 SHIFT 键设置。  
  
 `zDelta`  
 指示距离旋转。 `zDelta`值表示在倍数或色阶的分格**WHEEL_DELTA**，这是 120。 小于零的值指示旋转后 （向用户） 时大于零表示转发轮换 （远离用户） 的值。 用户可以通过更改鼠标软件中的滚轮设置反转此响应。 请参阅有关此参数的详细信息的备注部分。  
  
 `pt`  
 指定光标 x 和 y 坐标。 这些坐标始终是相对于屏幕左上角。  
  
### <a name="return-value"></a>返回值  
 如果启用了鼠标滚轮滚动; 则为非 0否则为 0。  
  
### <a name="remarks"></a>备注  
 重写，除非`OnMouseWheel`调用的默认[WM_MOUSEWHEEL](http://msdn.microsoft.com/library/windows/desktop/ms645617)。 Windows 自动将消息路由到具有焦点的控件或子窗口。 Win32 函数[DefWindowProc](http://msdn.microsoft.com/library/windows/desktop/ms633572)传播向上父链对其进行处理的窗口消息。  
  
 `zDelta`参数是的倍数**WHEEL_DELTA**，其设置为 120。 此值是要执行的操作的阈值和一个此类操作 （例如，滚动向前一个陷波） 应发生的每个增量。  
  
 **WHEEL_DELTA**设置为 120 以便更好地解析轮，如与任何凹口轮的自由地旋转。 更好地解析轮的鼠标将发送更多的消息，每次旋转，但每个消息具有较小的增量值。 若要使用此类轮的鼠标，请添加传入`zDelta`值直到**WHEEL_DELTA**为止 （以便为给定的增量旋转收到相同的响应），或向下滚动到更频繁的消息的响应中的部分行。 此外可以选择滚动粒度，并累积之前的增量可以保持**WHEEL_DELTA**为止。  
  
 重写该成员函数以提供您自己鼠标滚轮滚动行为。  
  
> [!NOTE]
> `OnMouseWheel`为 Windows NT 4.0 及更高版本中处理消息。 对于 Windows 95/98 或 Windows NT 3.51 消息处理功能，使用[OnRegisteredMouseWheel](#onregisteredmousewheel)。  
  
##  <a name="onmove"></a>CWnd::OnMove  
 框架调用此成员函数后的`CWnd`对象已移动。  
  
```  
afx_msg void OnMove(
    int x,  
    int y);
```  
  
### <a name="parameters"></a>参数  
 *x*  
 指定新的客户端区域的左上角的 x 坐标位置。 这个新位置提供在屏幕坐标中用于重叠和弹出窗口，并且父工作区坐标的子窗口。  
  
 *y*  
 指定新的客户端区域的左上角的 y 坐标位置。 这个新位置提供在屏幕坐标中用于重叠和弹出窗口，并且父工作区坐标的子窗口。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onmoving"></a>CWnd::OnMoving  
 框架调用此成员函数时用户正在移动`CWnd`对象。  
  
```  
afx_msg void OnMoving(
    UINT nSide,  
    LPRECT lpRect);
```  
  
### <a name="parameters"></a>参数  
 `nSide`  
 要移动的窗口边缘。  
  
 `lpRect`  
 地址[CRect](../../atl-mfc-shared/reference/crect-class.md)或[RECT 结构](../../mfc/reference/rect-structure1.md)将包含该项的坐标。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncactivate"></a>CWnd::OnNcActivate  
 在非工作区需要更改以指示活动或非活动状态时，框架将调用此成员函数。  
  
```  
afx_msg BOOL OnNcActivate(BOOL bActive);
```  
  
### <a name="parameters"></a>参数  
 `bActive`  
 指定当标题栏或图标需要更改以指示活动或非活动状态。 `bActive`参数是**TRUE**如果某个活动标题或图标就是要绘制。 它是**FALSE**非活动标题或图标。  
  
### <a name="return-value"></a>返回值  
 如果 Windows 应继续默认处理; 则为非 00，将阻止从正在停用的标题栏或图标。  
  
### <a name="remarks"></a>备注  
 默认实现绘制的标题栏和标题栏以其活动的颜色的文本如果`bActive`是**TRUE**和以其处于非活动状态的颜色如果`bActive`是**FALSE**。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onnccalcsize"></a>CWnd::OnNcCalcSize  
 当需要计算的大小和客户端区域的位置时，框架将调用此成员函数。  
  
```  
afx_msg void OnNcCalcSize(
    BOOL bCalcValidRects,  
    NCCALCSIZE_PARAMS* lpncsp);
```  
  
### <a name="parameters"></a>参数  
 `bCalcValidRects`  
 指定应用程序应指定客户端区域的哪个部分包含有效信息。 Windows 会将有效的信息复制到新的客户端区域中，指定的区域。 如果此参数为**TRUE**，应用程序应指定哪些客户端区域的一部分无效。  
  
 `lpncsp`  
 指向[NCCALCSIZE_PARAMS](../../mfc/reference/nccalcsize-params-structure.md)数据结构，其中包含应用程序可用于计算新的大小和位置信息`CWnd`矩形 （包括客户端区域、 边框、 标题、 滚动条和等等）。  
  
### <a name="remarks"></a>备注  
 通过处理此消息，应用程序可以控制窗口的客户端区域的内容时的大小或窗口的位置发生更改。  
  
 无论的值如何`bCalcValidRects`，在指定的数组的第一个矩形**rgrc**的结构成员`NCCALCSIZE_PARAMS`结构包含窗口的坐标。 子窗口的坐标为相对于父窗口的工作区。 针对顶级窗口的坐标为屏幕坐标。 应用程序应修改**rgrc [0]**矩形才能反映的大小和客户端区域的位置。  
  
 **Rgrc [1]**和**rgrc [2]**矩形是有效才`bCalcValidRects`是**TRUE**。 在这种情况下， **rgrc [1]**矩形包含之前它已移动或调整大小的窗口的坐标。 **Rgrc [2]**矩形包含之前窗口已移动的窗口的工作区的坐标。 所有坐标都是相对于父窗口或屏幕。  
  
 默认实现计算的基于窗口特征 （显示状态的滚动条、 菜单和等等） 的客户端区域的大小，并将在结果放置于`lpncsp`。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onnccreate"></a>CWnd::OnNcCreate  
 框架调用此成员函数之前[WM_CREATE](#oncreate)时消息`CWnd`首次创建对象。  
  
```  
afx_msg BOOL OnNcCreate(LPCREATESTRUCT lpCreateStruct);
```  
  
### <a name="parameters"></a>参数  
 `lpCreateStruct`  
 指向[CREATESTRUCT](../../mfc/reference/createstruct-structure.md)数据结构`CWnd`。  
  
### <a name="return-value"></a>返回值  
 如果创建的非工作区，则为非 0。 如果发生错误; 则为 0**创建**函数将返回**失败**在这种情况下。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncdestroy"></a>Cwnd::  
 当正在销毁的非工作区，并且销毁 Windows 窗口时最后一个成员函数调用时，由框架调用。  
  
```  
afx_msg void OnNcDestroy();
```  
  
### <a name="remarks"></a>备注  
 默认实现将执行一些清理，然后调用虚成员函数[PostNcDestroy](#postncdestroy)。  
  
 重写`PostNcDestroy`如果你想要执行你自己的清理，如**删除此**操作。 如果你重写`OnNcDestroy`，必须调用`OnNcDestroy`基类以确保为释放窗口内部分配任何内存中。  
  
##  <a name="onnchittest"></a>CWnd::OnNcHitTest  
 框架调用此成员函数以使用`CWnd`包含光标的对象 (或`CWnd`对象使用[SetCapture](#setcapture)成员函数以捕获鼠标输入) 每次移动鼠标时。  
  
```  
afx_msg LRESULT OnNcHitTest(CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `point`  
 包含光标 x 和 y 坐标。 这些坐标始终是屏幕坐标。  
  
### <a name="return-value"></a>返回值  
 其中一项鼠标命中测试枚举下面列出的值。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onnclbuttondblclk"></a>CWnd::OnNcLButtonDblClk  
 框架调用此成员函数，当用户双击鼠标左键时在光标处于非工作区的`CWnd`。  
  
```  
afx_msg void OnNcLButtonDblClk(
    UINT nHitTest,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nHitTest`  
 指定[命中测试代码](#onnchittest)。 命中的测试是确定光标的位置的测试。  
  
 `point`  
 指定`CPoint`对象，其中包含 x 和 y 屏幕坐标表示的光标位置。 这些坐标始终是相对于屏幕左上角。  
  
### <a name="remarks"></a>备注  
 如果适当， [WM_SYSCOMMAND](#onsyscommand)发送消息。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onnclbuttondown"></a>CWnd::OnNcLButtonDown  
 框架调用此成员函数，当用户按下鼠标左键，而在光标处于非工作区的`CWnd`对象。  
  
```  
afx_msg void OnNcLButtonDown(
    UINT nHitTest,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nHitTest`  
 指定[命中测试代码](#onnchittest)。 命中的测试是确定光标的位置的测试。  
  
 `point`  
 指定`CPoint`对象，其中包含 x 和 y 屏幕坐标表示的光标位置。 这些坐标始终是相对于屏幕左上角。  
  
### <a name="remarks"></a>备注  
 如果适当， [WM_SYSCOMMAND](#onsyscommand)发送。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映已接收消息时，框架接收到的参数。如果调用此函数的基类实现，该实现将使用最初使用消息和不你提供的参数传递给函数的参数。  
  
##  <a name="onnclbuttonup"></a>CWnd::OnNcLButtonUp  
 当用户释放鼠标左键在光标处于非工作区时，框架将调用此成员函数。  
  
```  
afx_msg void OnNcLButtonUp(
    UINT nHitTest,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nHitTest`  
 指定[命中测试代码](#onnchittest)。 命中的测试是确定光标的位置的测试。  
  
 `point`  
 指定`CPoint`对象，其中包含 x 和 y 屏幕坐标表示的光标位置。 这些坐标始终是相对于屏幕左上角。  
  
### <a name="remarks"></a>备注  
 如果适当， [WM_SYSCOMMAND](#onsyscommand)发送。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncmbuttondblclk"></a>CWnd::OnNcMButtonDblClk  
 当用户双击鼠标中键时在光标处于非工作区，框架将调用此成员函数。  
  
```  
afx_msg void OnNcMButtonDblClk(
    UINT nHitTest,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nHitTest`  
 指定[命中测试代码](#onnchittest)。 命中的测试是确定光标的位置的测试。  
  
 `point`  
 指定`CPoint`对象，其中包含 x 和 y 屏幕坐标表示的光标位置。 这些坐标始终是相对于屏幕左上角。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncmbuttondown"></a>CWnd::OnNcMButtonDown  
 当用户按下鼠标中键，而在光标处于非工作区，框架将调用此成员函数。  
  
```  
afx_msg void OnNcMButtonDown(
    UINT nHitTest,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nHitTest`  
 指定[命中测试代码](#onnchittest)。 命中的测试是确定光标的位置的测试。  
  
 `point`  
 指定`CPoint`对象，其中包含 x 和 y 屏幕坐标表示的光标位置。 这些坐标始终是相对于屏幕左上角。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncmbuttonup"></a>CWnd::OnNcMButtonUp  
 当用户释放鼠标中键时在光标处于非工作区时，框架将调用此成员函数。  
  
```  
afx_msg void OnNcMButtonUp(
    UINT nHitTest,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nHitTest`  
 指定[命中测试代码](#onnchittest)。 命中的测试是确定光标的位置的测试。  
  
 `point`  
 指定`CPoint`对象，其中包含 x 和 y 屏幕坐标表示的光标位置。 这些坐标始终是相对于屏幕左上角。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncmousehover"></a>CWnd::OnNcMouseHover  
 框架调用此成员函数，当光标悬停在窗口的非工作区中调用指定的时间段内[TrackMouseEvent](http://msdn.microsoft.com/library/windows/desktop/ms646265)。  
  
```  
afx_msg void OnNcMouseHover(
    UINT nHitTest,   
    CPoint point);  
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nHitTest`|返回的命中测试值[CWnd::DefWindowProc](#defwindowproc)函数作为处理结果[WM_NCHITTEST](http://msdn.microsoft.com/library/windows/desktop/ms645618)消息。|  
|[in] `point`|A [CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*和*y*光标相对于屏幕左上角的坐标。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_NCMOUSEHOVER](http://msdn.microsoft.com/library/windows/desktop/ms645625)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncmouseleave"></a>CWnd::OnNcMouseLeave  
 框架调用此成员函数，当光标离开调用中指定的窗口的非工作区[TrackMouseEvent](http://msdn.microsoft.com/library/windows/desktop/ms646265)。  
  
```  
afx_msg void OnNcMouseLeave();
```  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_NCMOUSELEAVE](http://msdn.microsoft.com/library/windows/desktop/ms645626)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncmousemove"></a>CWnd::OnNcMouseMove  
 在非工作区中移动光标时，框架将调用此成员函数。  
  
```  
afx_msg void OnNcMouseMove(
    UINT nHitTest,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nHitTest`  
 指定[命中测试代码](#onnchittest)。 命中的测试是确定光标的位置的测试。  
  
 `point`  
 指定`CPoint`对象，其中包含 x 和 y 屏幕坐标表示的光标位置。 这些坐标始终是相对于屏幕左上角。  
  
### <a name="remarks"></a>备注  
 如果适当， [WM_SYSCOMMAND](#onsyscommand)发送消息。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncpaint"></a>CWnd::OnNcPaint  
 当需要绘制非工作区时，框架将调用此成员函数。  
  
```  
afx_msg void OnNcPaint();
```  
  
### <a name="remarks"></a>备注  
 默认实现绘制窗口框架。  
  
 应用程序可以重写此调用，并绘制其自己的自定义窗口框架。 即使更改框架的形状，是始终矩形的剪辑区域。  
  
##  <a name="onncrbuttondblclk"></a>CWnd::OnNcRButtonDblClk  
 框架调用此成员函数，当用户双击鼠标右键时在光标处于非工作区的`CWnd`。  
  
```  
afx_msg void OnNcRButtonDblClk(
    UINT nHitTest,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nHitTest`  
 指定[命中测试代码](#onnchittest)。 命中的测试是确定光标的位置的测试。  
  
 `point`  
 指定`CPoint`对象，其中包含 x 和 y 屏幕坐标表示的光标位置。 这些坐标始终是相对于屏幕左上角。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncrbuttondown"></a>CWnd::OnNcRButtonDown  
 当用户按下鼠标右键按钮，而在光标处于非工作区，框架将调用此成员函数。  
  
```  
afx_msg void OnNcRButtonDown(
    UINT nHitTest,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nHitTest`  
 指定[命中测试代码](#onnchittest)。 命中的测试是确定光标的位置的测试。  
  
 `point`  
 指定`CPoint`对象，其中包含 x 和 y 屏幕坐标表示的光标位置。 这些坐标始终是相对于屏幕左上角。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncrbuttonup"></a>CWnd::OnNcRButtonUp  
 当用户释放鼠标右键按钮在光标处于非工作区时，框架将调用此成员函数。  
  
```  
afx_msg void OnNcRButtonUp(
    UINT nHitTest,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nHitTest`  
 指定[命中测试代码](#onnchittest)。 命中的测试是确定光标的位置的测试。  
  
 `point`  
 指定`CPoint`对象，其中包含 x 和 y 屏幕坐标表示的光标位置。 这些坐标始终是相对于屏幕左上角。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncrenderingchanged"></a>CWnd::OnNcRenderingChanged  
 在非工作区的呈现策略已更改时，框架会调用此成员。  
  
```  
afx_msg void OnNcRenderingChanged(BOOL bIsRendering);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `bIsRendering`|`true`如果窗口; 的非工作区启用了桌面窗口管理器 (DWM) 呈现`false`如果呈现处于禁用状态。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_DWMNCRENDERINGCHANGED](http://msdn.microsoft.com/library/windows/desktop/dd388200)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncxbuttondblclk"></a>CWnd::OnNcXButtonDblClk  
 当用户双击 XBUTTON1 或 XBUTTON2 时光标位于窗口非工作区中，框架将调用此成员函数。  
  
```  
void OnNcXButtonDblClk(
    short nHitTest,   
    UINT nButton,   
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nHitTest`|返回的命中测试值[CWnd::DefWindowProc](#defwindowproc)函数作为处理结果[WM_NCHITTEST](http://msdn.microsoft.com/library/windows/desktop/ms645618)消息。|  
|[in] `nButton`|值为`XBUTTON1`双击，第一个 Microsoft 缩放 X 按钮是否或`XBUTTON2`如果第二个 X 按钮是双击。|  
|[in] `point`|A [CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*和*y*光标相对于客户端区域的左上角的坐标。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_XBUTTONDBLCLK](http://msdn.microsoft.com/library/windows/desktop/ms646244)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 此消息发布到包含光标的窗口中。 如果窗口已捕获鼠标，将不会发布此消息。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncxbuttondown"></a>CWnd::OnNcXButtonDown  
 当用户按下鼠标的 XBUTTON1 或 XBUTTON2 光标位于窗口非工作区中，框架将调用此成员函数。  
  
```  
afx_msg void OnNcXButtonDown(
    short nHitTest,   
    UINT nButton,   
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nHitTest`|返回的命中测试值[CWnd::DefWindowProc](#defwindowproc)函数作为处理结果[WM_NCHITTEST](http://msdn.microsoft.com/library/windows/desktop/ms645618)消息。|  
|[in] `nButton`|值为`XBUTTON1`如果按第一个鼠标的 X 按钮，或`XBUTTON2`如果第二个 X 按钮按下。|  
|[in] `point`|A [CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*和*y*光标相对于屏幕左上角的坐标。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_NCXBUTTONDOWN](http://msdn.microsoft.com/library/windows/desktop/ms645632)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 此消息发布到包含光标的窗口中。 如果窗口已捕获鼠标，将不会发布此消息。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onncxbuttonup"></a>CWnd::OnNcXButtonUp  
 当用户释放鼠标的 XBUTTON1 或 XBUTTON2 光标位于窗口非工作区中，框架将调用此成员函数。  
  
```  
afx_msg void OnNcXButtonUp(
    short nHitTest,   
    UINT nButton,   
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nHitTest`|返回的命中测试值[CWnd::DefWindowProc](#defwindowproc)函数作为处理结果[WM_NCHITTEST](http://msdn.microsoft.com/library/windows/desktop/ms645618)消息。|  
|[in] `nButton`|值为`XBUTTON1`如果第一个鼠标的 X 按钮已发布，或`XBUTTON2`如果第二个发布 X 按钮。|  
|[in] `point`|A [CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*和*y*光标相对于屏幕左上角的坐标。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_NCXBUTTONUP](http://msdn.microsoft.com/library/windows/desktop/ms646240)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 此消息发布到包含光标的窗口中。 如果窗口已捕获鼠标，将不会发布此消息。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onnextmenu"></a>CWnd::OnNextMenu  
 框架调用此成员函数时右或向左箭头键用于时的菜单栏和系统菜单之间切换。  
  
```  
afx_msg void OnNextMenu(
    UINT nKey,  
    LPMDINEXTMENU lpMdiNextMenu);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nKey`|指示哪个修改键被按下标志的按位组合 (OR)。 例如，`MK_CONTROL`标志指示按下 CTRL 键。<br /><br /> 标志的列表，请参阅中的"消息参数"副标题[有关鼠标输入](http://msdn.microsoft.com/library/windows/desktop/ms645601)。|  
|[in] `lpMdiNextMenu`|指向[MDINEXTMENU](http://msdn.microsoft.com/library/windows/desktop/ms647561)包含菜单将激活有关的信息的结构。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_UNINITMENUPOPUP](http://msdn.microsoft.com/library/windows/desktop/ms647614)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 响应此消息，在你的应用程序可以设置`hmenuNext`的成员[MDINEXTMENU](http://msdn.microsoft.com/library/windows/desktop/ms647561)结构，以指定要切换到的菜单和`hwndNext`成员以指定窗口，以接收菜单通知消息。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onnotify"></a>Cwnd:: Onnotify  
 框架调用此成员函数以在控件中已发生事件或该控件要求某种类型的信息将会通知控件的父窗口。  
  
```  
virtual BOOL OnNotify(
    WPARAM wParam,  
    LPARAM lParam,  
    LRESULT* pResult);
```  
  
### <a name="parameters"></a>参数  
 `wParam`  
 标识发送消息，如果消息已从控件的控件。 否则为`wParam`为 0。  
  
 `lParam`  
 指针，指向通知消息 ( **NMHDR**) 包含通知代码以及其他信息的结构。 对于某些通知消息，此参数指向具有较大结构**NMHDR**结构用作其第一个成员。  
  
 `pResult`  
 指向**LRESULT**变量要在其中存储结果代码，如果消息处理。  
  
### <a name="return-value"></a>返回值  
 应用程序返回非零，如果它可以处理此消息;否则为 0。  
  
### <a name="remarks"></a>备注  
 `OnNotify`处理控件通知的消息映射。  
  
 此成员函数在处理你在派生类中的重写**WM_NOTIFY**消息。 重写将不会处理的消息映射，除非基类`OnNotify`调用。  
  
 WM_NOTIFY 消息的详细信息，请参阅技术说明 61 (TN061) [ON_NOTIFY 和 WM_NOTIFY 消息](../../mfc/tn061-on-notify-and-wm-notify-messages.md)。 您可能还需要学习相关的主题中所述[控制主题](../../mfc/controls-mfc.md)，和 TN062， [Windows 控件的消息反射](../../mfc/tn062-message-reflection-for-windows-controls.md)。  
  
##  <a name="onnotifyformat"></a>CWnd::OnNotifyFormat  
 框架调用此成员函数以确定当前窗口是否接受 WM_NOTIFY 通知消息中的 ANSI 或 Unicode 结构。  
  
```  
afx_msg UINT OnNotifyFormat(
    CWnd* pWnd,   
    UINT nCommand);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `pWnd`|指向的指针`CWnd`对象，表示窗口发送[WM_NOTIFY](http://msdn.microsoft.com/library/windows/desktop/bb775583)消息。<br /><br /> 此参数是一个指针指向控件如果`nCommand`参数是`NF_QUERY`，或指向控件的父窗口的指针如果`nCommand`是`NF_REQUERY`。|  
|[in] `nCommand`|一个命令的值，专用化**WM_NOTIFY**消息。 可能的值为：<br /><br /> - `NF_QUERY` -<br />     消息是一个查询来确定是否应在使用 ANSI 或 Unicode 结构**WM_NOTIFY**消息。 此消息将发送从控件到其父窗口的控件，并在响应中的创建过程`NF_REQUERY`此消息的窗体。<br />- `NF_REQUERY` -<br />     消息是一个控件，用于发送请求`NF_QUERY`此消息发送到其父窗口的形式。 此请求是否来自父窗口中，并询问控件有关的类型的结构的父要在中使用的类型重新查询**WM_NOTIFY**消息。 如果`nCommand`参数是`NF_REQUERY`，返回值是重新查询操作的结果。|  
  
### <a name="return-value"></a>返回值  
  
|返回值|含义|  
|------------------|-------------|  
|`NFR_ANSI`|应在中使用 ANSI 结构**WM_NOTIFY**由控件发送的消息。|  
|`NFR_UNICODE`|应在中使用 Unicode 结构**WM_NOTIFY**由控件发送的消息。|  
|0|出现了错误。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_NOTIFYFORMAT](http://msdn.microsoft.com/library/windows/desktop/bb775584)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 **WM_NOTIFY**消息都将发送到其父窗口，公共控件从父窗口到公共控件。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onpaint"></a>CWnd::OnPaint  
 在 Windows 或应用程序发出请求重绘窗体应用程序的窗口的一部分时，框架将调用此成员函数。  
  
```  
afx_msg void OnPaint();
```  
  
### <a name="remarks"></a>备注  
 [WM_PAINT](http://msdn.microsoft.com/library/windows/desktop/dd145137)消息发送时[UpdateWindow](#updatewindow)或[RedrawWindow](#redrawwindow)调用成员函数。  
  
 窗口可能会收到调用结果的内部的绘制消息`RedrawWindow`成员函数时**RDW_INTERNALPAINT**标志设置。 在这种情况下，窗口可能没有更新区域。 应用程序应调用[GetUpdateRect](#getupdaterect)成员函数来确定窗口是否具有更新区域。 如果`GetUpdateRect`返回 0 时，应用程序不应调用[BeginPaint](#beginpaint)和[EndPaint](#endpaint)成员函数。  
  
 若要检查是否有任何必要的内部重新绘制或通过查看其内部数据结构为每个更新的应用程序的负责`WM_PAINT`消息，因为`WM_PAINT`消息可能由无效的区域和调用引起`RedrawWindow`成员函数时**RDW_INTERNALPAINT**标志设置。  
  
 内部`WM_PAINT`Windows 仅一次发送消息。 之后内部`WM_PAINT`消息发送到通过窗口`UpdateWindow`成员函数，没有任何进一步`WM_PAINT`将发送消息，或将其发布直到失效窗口，或者直到`RedrawWindow`使用再次调用成员函数**RDW_INTERNALPAINT**标志设置。  
  
 有关呈现文档/视图应用程序中的映像的信息，请参阅[类库](../../mfc/reference/cview-class.md#ondraw)。  
  
 有关使用**WM_Paint**，请参阅中的以下主题[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]:  
  
- [WM_PAINT 消息](http://msdn.microsoft.com/library/windows/desktop/dd145137)  
  
- [使用 WM_PAINT 消息](http://msdn.microsoft.com/library/windows/desktop/dd145193)  
  
##  <a name="onpaintclipboard"></a>CWnd::OnPaintClipboard  
 当剪贴板所有者已将数据以 `OnPaintClipboard` 格式放置在剪贴板上，并且剪贴板查看器的工作区需要重新绘制时，剪贴板查看器将调用剪贴板所有者的 `CF_OWNERDISPLAY` 成员函数。  
  
```  
afx_msg void OnPaintClipboard(
    CWnd* pClipAppWnd,  
    HGLOBAL hPaintStruct);
```  
  
### <a name="parameters"></a>参数  
 `pClipAppWnd`  
 指定指向剪贴板应用程序窗口的指针。 该指针可能是暂时的，不应存储起来供将来使用。  
  
 *hPaintStruct*  
 标识[PAINTSTRUCT](../../mfc/reference/paintstruct-structure.md)数据结构，它定义要绘制的客户端区域的哪个部分。  
  
### <a name="remarks"></a>备注  
 若要确定整个工作区或它的一部分是否需要重新绘制，剪贴板所有者必须进行比较的中给定的绘图区域尺寸**rcpaint**的成员`PAINTSTRUCT`结构中最新给定的尺寸[OnSizeClipboard](#onsizeclipboard)成员函数调用。  
  
 `OnPaintClipboard`应使用[GlobalLock](http://msdn.microsoft.com/library/windows/desktop/aa366584) Windows 函数来锁定包含的内存`PAINTSTRUCT`数据结构和解锁该内存， [GlobalUnlock](http://msdn.microsoft.com/library/windows/desktop/aa366595) Windows 函数之前退出函数。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onpalettechanged"></a>CWnd::OnPaletteChanged  
 框架调用此成员函数针对所有顶级窗口后输入焦点的窗口已实现其逻辑调色板，从而更改系统调色板。  
  
```  
afx_msg void OnPaletteChanged(CWnd* pFocusWnd);
```  
  
### <a name="parameters"></a>参数  
 `pFocusWnd`  
 指定指向导致要更改的系统调色板的窗口的指针。 指针可能是暂时并不会存储。  
  
### <a name="remarks"></a>备注  
 此调用允许但不将使用调色板实现其逻辑调色板并更新其工作区输入焦点的窗口。  
  
 `OnPaletteChanged`对所有顶级和重叠窗口，包括更改系统调色板和导致调用成员函数`WM_PALETTECHANGED`要发送消息。 如果任何子窗口使用的调色板，此消息必须传递到它。  
  
 若要避免无限循环，该窗口不应实现其调色板除非它认为`pFocusWnd`不包含对自身的指针。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onpaletteischanging"></a>CWnd::OnPaletteIsChanging  
 框架调用此成员函数以通知应用程序应用程序要实现其逻辑调色板。  
  
```  
afx_msg void OnPaletteIsChanging(CWnd* pRealizeWnd);
```  
  
### <a name="parameters"></a>参数  
 *pRealizeWnd*  
 指定将要实现其逻辑调色板的窗口。  
  
### <a name="remarks"></a>备注  
 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onparentnotify"></a>CWnd::OnParentNotify  
 父`OnParentNotify`其子窗口在创建或销毁，或当用户单击鼠标按钮，在光标位于子窗口上方时，由框架调用成员函数。  
  
```  
afx_msg void OnParentNotify(
    UINT message,  
    LPARAM lParam);
```  
  
### <a name="parameters"></a>参数  
 `message`  
 指定的事件的正在向父和子窗口的标识符。 事件是低序位字`message`。 如果事件是`WM_CREATE`或`WM_DESTROY`的高序位字`message`是标识符的子窗口; 否则，高序位字是不确定。 事件 (低序位字`message`) 可以是任何这些值︰  
  
- `WM_CREATE`正在创建的子窗口。  
  
- `WM_DESTROY`当销毁子窗口。  
  
- `WM_LBUTTONDOWN`用户鼠标光标停放子窗口上方，并单击鼠标左键。  
  
- `WM_MBUTTONDOWN`用户鼠标光标停放子窗口上方，并单击鼠标按钮。  
  
- `WM_RBUTTONDOWN`用户鼠标光标停放子窗口上方，并单击鼠标右键按钮。  
  
 `lParam`  
 如果事件 （低序位字） 的`message`是`WM_CREATE`或`WM_DESTROY`，`lParam`指定的子窗口的窗口句柄; 否则为`lParam`包含 x 和 y 坐标的光标。 X 坐标位于低序位字并且的 y 坐标是在高序位字。  
  
### <a name="remarks"></a>备注  
 创建子窗口时，系统在调用`OnParentNotify`之前[创建](#create)创建窗口的成员函数返回。 正在销毁子窗口时时，系统调用`OnParentNotify`任何处理发生销毁窗口之前。  
  
 `OnParentNotify`是针对包括顶级窗口的子窗口的所有祖先窗口进行调用。  
  
 所有子窗口都除具有[WS_EX_NOPARENTNOTIFY](../../mfc/reference/extended-window-styles.md)样式将此消息发送到其父窗口。 默认情况下，在对话框中的子窗口具有**WS_EX_NOPARENTNOTIFY**样式除非子窗口已通过调用创建如果不使用此样式[CreateEx](#createex)成员函数。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onpowerbroadcast"></a>CWnd::OnPowerBroadcast  
 电源管理事件发生时，框架将调用此成员函数。  
  
```  
afx_msg UINT OnPowerBroadcast(
    UINT nPowerEvent,   
    UINT nEventData);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nPowerEvent`|电源管理事件中。|  
|[in] `nEventData`|特定于事件的数据。|  
  
### <a name="return-value"></a>返回值  
 如果事件是一个请求，返回`true`授予请求，或`BROADCAST_QUERY_DENY`为拒绝该请求。  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_POWERBROADCAST](http://msdn.microsoft.com/library/windows/desktop/aa373247)消息中所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
 `nPowerEvent`参数指定事件，如电池电量不足、 电源状态已更改、 请求或拒绝挂起操作的权限、 发生事件后自动恢复操作，系统正在挂起操作，或挂起正在恢复操作。 `nEventData`通常不使用参数。 有关详细信息，请参阅`wParam`和`lParam`参数[WM_POWERBROADCAST](http://msdn.microsoft.com/library/windows/desktop/aa373247)消息。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onquerydragicon"></a>CWnd::OnQueryDragIcon  
 框架调用此成员函数不具有为其类定义的图标的最小化 （图标化） 窗口。  
  
```  
afx_msg HCURSOR OnQueryDragIcon();
```  
  
### <a name="return-value"></a>返回值  
 一个双字值，包含在低序位字中的光标或图标句柄。 光标或图标必须符合显示驱动程序的分辨率。 如果在应用程序返回**NULL**，系统会显示的默认光标。 默认返回值为**NULL**。  
  
### <a name="remarks"></a>备注  
 系统会进行此调用，以获取要在用户拖动最小化的窗口时显示的光标。 如果应用程序返回的图标或光标的句柄，系统会将其转换为黑白。 如果应用程序返回的句柄，该句柄必须标识单色光标或符合显示驱动程序的分辨率的图标。 应用程序可以调用[CWinApp::LoadCursor](../../mfc/reference/cwinapp-class.md#loadcursor)或[CWinApp::LoadIcon](../../mfc/reference/cwinapp-class.md#loadicon)成员函数从其可执行文件中的资源加载光标或图标并获取此句柄。  
  
##  <a name="onqueryendsession"></a>CWnd::OnQueryEndSession  
 框架调用此成员函数，当用户选择结束 Windows 会话或在应用程序调用[ExitWindows](http://msdn.microsoft.com/library/windows/desktop/aa376867) Windows 函数。  
  
```  
afx_msg BOOL OnQueryEndSession();
```  
  
### <a name="return-value"></a>返回值  
 如果应用程序可以方便地关闭; 则为非 0否则为 0。  
  
### <a name="remarks"></a>备注  
 如果任何应用程序返回 0，不会结束 Windows 会话。 Windows 将停止调用`OnQueryEndSession`只要一个应用程序，则返回 0 并发送[WM_ENDSESSION](#onendsession)参数值为消息**FALSE**的任何应用程序具有已返回非零。  
  
##  <a name="onquerynewpalette"></a>CWnd::OnQueryNewPalette  
 框架调用此成员函数时`CWnd`对象即将接收输入的焦点提供`CWnd`机会在接收焦点时实现其逻辑调色板。  
  
```  
afx_msg BOOL OnQueryNewPalette();
```  
  
### <a name="return-value"></a>返回值  
 非零如果`CWnd`实现其逻辑调色板; 否则为 0。  
  
##  <a name="onqueryopen"></a>CWnd::OnQueryOpen  
 框架调用此成员函数时`CWnd`对象已最小化和用户请求`CWnd`还原到其 preminimized 的大小和位置。  
  
```  
afx_msg BOOL OnQueryOpen();
```  
  
### <a name="return-value"></a>返回值  
 如果可以打开该图标，则为非 0 或 0 将阻止从正在打开的图标。  
  
### <a name="remarks"></a>备注  
 中时，在`OnQueryOpen`，`CWnd`不应执行任何操作都将导致 （例如，创建一个对话框） 的激活或焦点更改。  
  
##  <a name="onqueryuistate"></a>CWnd::OnQueryUIState  
 调用以检索窗口的用户界面 (UI) 状态。  
  
```  
afx_msg UINT OnQueryUIState();
```  
  
### <a name="return-value"></a>返回值  
 返回值是**NULL**如果焦点指示器和键盘快捷键可见。 否则，返回值可以是一个或多个以下值︰  
  
- **UISF_HIDEFOCUS**焦点指示器处于隐藏状态。  
  
- **UISF_HIDEACCEL**隐藏的键盘快捷键。  
  
- **UISF_ACTIVE Windows XP:**应放用于活动控件的样式绘制控件。  
  
### <a name="remarks"></a>备注  
 此成员函数模拟的功能[WM_QUERYUISTATE](http://msdn.microsoft.com/library/windows/desktop/ms646355)消息中所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="onrawinput"></a>CWnd::OnRawInput  
 当前窗口中获取原始输入时，框架将调用此成员函数。  
  
```  
afx_msg void OnRawInput(
    UINT nInputCode,  
    HRAWINPUT hRawInput);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nInputCode`|指示输入是否在应用程序时出现的输入的代码是在前台，还是失败。 在任一情况下，应用程序必须调用[CWnd::DefWindowProc](#defwindowproc)以便系统可以执行清理。<br /><br /> 此参数可以是以下值之一︰<br /><br /> - `RIM_INPUT`的应用程序已在前台时发生输入。<br />- `RIM_INPUTSINK`输入时出现应用程序为不在前台。|  
|[in] `hRawInput`|句柄[RAWINPUT](http://msdn.microsoft.com/library/windows/desktop/ms645562)结构，它包含从设备的原始输入。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_INPUT](http://msdn.microsoft.com/library/windows/desktop/ms646275)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onrbuttondblclk"></a>CWnd::OnRButtonDblClk  
 当用户双击鼠标右键按钮，框架将调用此成员函数。  
  
```  
afx_msg void OnRButtonDblClk(
    UINT nFlags,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nFlags`  
 指示是否各种虚拟键都已关闭。 此参数可以是以下值中的任意组合︰  
  
- **MK_CONTROL**如果按下 CTRL 键设置。  
  
- **MK_LBUTTON**如果按下鼠标左键设置。  
  
- **MK_MBUTTON**如果鼠标中键按下设置。  
  
- **MK_RBUTTON**如果鼠标右键按钮按下设置。  
  
- **MK_SHIFT**如果按下 SHIFT 键设置。  
  
 `point`  
 指定的 x 和 y 坐标的光标。 这些坐标始终是相对于窗口的左上角。  
  
### <a name="remarks"></a>备注  
 只有具有的 windows **CS_DBLCLKS** [WNDCLASS](http://msdn.microsoft.com/library/windows/desktop/ms633576)样式可以接收`OnRButtonDblClk`调用。 这是 Microsoft 基础类库中的窗口的默认值。 Windows 调用`OnRButtonDblClk`当用户按下，释放，然后再次按下鼠标右键按钮在系统的双击时间限制。 双击鼠标右键按钮实际生成四个事件︰ [WM_RBUTTONDOWN](#onrbuttondown)和[WM_RBUTTONUP](#onrbuttonup)消息，`OnRButtonDblClk`调用时，并另一个`WM_RBUTTONUP`消息时释放按钮。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onrbuttondown"></a>CWnd::OnRButtonDown  
 当用户按下鼠标右键按钮，框架将调用此成员函数。  
  
```  
afx_msg void OnRButtonDown(
    UINT nFlags,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nFlags`  
 指示是否各种虚拟键都已关闭。 此参数可以是以下值中的任意组合︰  
  
- **MK_CONTROL**如果按下 CTRL 键设置。  
  
- **MK_LBUTTON**如果按下鼠标左键设置。  
  
- **MK_MBUTTON**如果鼠标中键按下设置。  
  
- **MK_RBUTTON**如果鼠标右键按钮按下设置。  
  
- **MK_SHIFT**如果按下 SHIFT 键设置。  
  
 `point`  
 指定的 x 和 y 坐标的光标。 这些坐标始终是相对于窗口的左上角。  
  
### <a name="remarks"></a>备注  
 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onrbuttonup"></a>CWnd::OnRButtonUp  
 当用户释放鼠标右键按钮时，框架将调用此成员函数。  
  
```  
afx_msg void OnRButtonUp(
    UINT nFlags,  
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
 `nFlags`  
 指示是否各种虚拟键都已关闭。 此参数可以是以下值中的任意组合︰  
  
- **MK_CONTROL**如果按下 CTRL 键设置。  
  
- **MK_LBUTTON**如果按下鼠标左键设置。  
  
- **MK_MBUTTON**如果鼠标中键按下设置。  
  
- **MK_SHIFT**如果按下 SHIFT 键设置。  
  
 `point`  
 指定的 x 和 y 坐标的光标。 这些坐标始终是相对于窗口的左上角。  
  
### <a name="remarks"></a>备注  
 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onregisteredmousewheel"></a>CWnd::OnRegisteredMouseWheel  
 用户旋转鼠标滚轮以及遇到轮的下一步陷波，框架将调用此成员函数。  
  
```  
afx_msg LRESULT OnRegisteredMouseWheel(
    WPARAM wParam,  
    LPARAM lParam);
```  
  
### <a name="parameters"></a>参数  
 `wParam`  
 指针的水平位置。  
  
 `lParam`  
 指针的垂直位置。  
  
### <a name="return-value"></a>返回值  
 此时无意义。 始终为零。  
  
### <a name="remarks"></a>备注  
 重写，除非`OnRegisteredMouseWheel`将消息路由到相应的窗口 （父窗口具有焦点），并且调用[WM_MOUSEWHEEL](http://msdn.microsoft.com/library/windows/desktop/ms645617)该窗口的处理程序。  
  
 重写该成员函数以提供您自己的消息路由或 alter 鼠标滚轮滚动行为。  
  
> [!NOTE]
> `OnRegisteredMouseWheel`为 Windows 95/98 和 Windows NT 3.51 处理消息。 有关 Windows NT 4.0 消息处理问题，使用[OnMouseWheel](#onmousewheel)。  
  
##  <a name="onrenderallformats"></a>CWnd::OnRenderAllFormats  
 剪贴板所有者`OnRenderAllFormats`当销毁所有者应用程序时，由框架调用成员函数。  
  
```  
afx_msg void OnRenderAllFormats();
```  
  
### <a name="remarks"></a>备注  
 剪贴板所有者应呈现它能够生成并将每种格式的数据句柄传递到剪贴板，通过调用的所有格式中的数据[SetClipboardData](http://msdn.microsoft.com/library/windows/desktop/ms649051) Windows 函数。 这可确保剪贴板包含有效的数据，即使销毁的应用程序呈现数据。 应用程序应调用[打开剪贴板](#openclipboard)之前调用的成员函数[SetClipboardData](http://msdn.microsoft.com/library/windows/desktop/ms649051) Windows 函数并调用[CloseClipboard](http://msdn.microsoft.com/library/windows/desktop/ms649035) Windows 此后函数。  
  
##  <a name="onrenderformat"></a>CWnd::OnRenderFormat  
 剪贴板所有者`OnRenderFormat`需要呈现具有延迟呈现特定的格式时，由框架调用成员函数。  
  
```  
afx_msg void OnRenderFormat(UINT nFormat);
```  
  
### <a name="parameters"></a>参数  
 `nFormat`  
 指定的剪贴板格式。  
  
### <a name="remarks"></a>备注  
 接收方应呈现该格式中的数据，并将其传递到剪贴板，通过调用[SetClipboardData](http://msdn.microsoft.com/library/windows/desktop/ms649051) Windows 函数。  
  
 不要调用`OpenClipboard`成员函数或**CloseClipboard**中的 Windows 函数`OnRenderFormat`。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onsessionchange"></a>CWnd::OnSessionChange  
 框架调用此成员函数以通知应用程序的会话状态的更改。  
  
```  
afx_msg void OnSessionChange(
    UINT nSessionState,   
    UINT nId);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nSessionState`|状态代码描述会话状态更改。|  
|[in] `nId`|会话标识符。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_WTSSESSION_CHANGE](http://msdn.microsoft.com/library/aa383828)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
 `nSessionState`参数指定连接或断开控制台或远程终端会话，用户登录或注销、 锁定或解锁，会话或会话已更改为远程控制的状态。 有关详细信息，请参阅`wParam`参数[WM_WTSSESSION_CHANGE](http://msdn.microsoft.com/library/aa383828)消息。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onsetcursor"></a>CWnd::OnSetCursor  
 框架调用此成员函数，如果鼠标输入未捕获并且鼠标使光标移动内的`CWnd`对象。  
  
```  
afx_msg BOOL OnSetCursor(
    CWnd* pWnd,  
    UINT nHitTest,  
    UINT message);
```  
  
### <a name="parameters"></a>参数  
 `pWnd`  
 指定指向包含光标的窗口的指针。 该指针可能是暂时的，不应存储起来供将来使用。  
  
 `nHitTest`  
 指定[命中测试](#onnchittest)区域代码。 命中的测试确定光标的位置。  
  
 `message`  
 指定鼠标消息号。  
  
### <a name="return-value"></a>返回值  
 如果非零，则停止进一步处理，或为 0 以继续。  
  
### <a name="remarks"></a>备注  
 默认实现调用父窗口的`OnSetCursor`然后再进行处理。 如果父窗口返回**TRUE**，进一步处理将暂停。 调用父窗口的父窗口通过，控制在子窗口中光标的设置。  
  
 默认实现将光标设置到如果未在工作区中的箭头或注册类光标若是。  
  
 如果`nHitTest`是**HTERROR**和`message`是鼠标 button-down 消息， **MessageBeep**调用成员函数。  
  
 `message`参数为 0 时`CWnd`输入菜单模式。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onsetfocus"></a>CWnd::OnSetFocus  
 获得输入的焦点后，框架调用此成员函数。  
  
```  
afx_msg void OnSetFocus(CWnd* pOldWnd);
```  
  
### <a name="parameters"></a>参数  
 *pOldWnd*  
 包含`CWnd`失去输入的焦点的对象 (可能是**NULL**)。 该指针可能是暂时的，不应存储起来供将来使用。  
  
### <a name="remarks"></a>备注  
 若要显示一个插入符号，`CWnd`应在此时调用相应的插入符号函数。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onsettingchange"></a>CWnd::OnSettingChange  
 框架调用`OnSettingChange`对所有顶级窗口时 Win32 SystemParametersInfo 函数更改系统级设置。  
  
```  
afx_msg void OnSettingChange(
    UINT uFlags,  
    LPCTSTR lpszSection);
```  
  
### <a name="parameters"></a>参数  
 `uFlags`  
 当系统发送的结果消息**SystemParametersInfo**调用，此参数是一个标志，指示已更改系统参数。 值的列表，请参阅[SystemParametersInfo](http://msdn.microsoft.com/library/windows/desktop/ms724947)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 当应用程序发送消息时，此参数必须为 0。  
  
 `lpszSection`  
 指向一个字符串，指定已更改的部分的名称。 （字符串不包含方括号将括起来的节名称）。  
  
### <a name="remarks"></a>备注  
 它对系统参数，进行更改并 Windows 将发送消息，如果用户更改通过控件面板设置时，应用程序应向所有顶级窗口发送消息。  
  
 **ON_WM_SETTINGCHANGE**消息是类似于**ON_WM_WININICHANGE**消息，但存在以下差异︰  
  
-   使用**ON_WM_SETTINGCHANGE**时运行 Windows NT 4.0 或更高版本，或在 Windows 95/98。  
  
-   使用**ON_WININICHANGE**时运行 Windows NT，3.51 或更低版本。 此消息现已过时。  
  
 你只能有一个这些宏的消息映射中。 若要编写适用于 Windows 95/98 和 Windows NT 4.0 的程序，编写的处理程序**ON_WM_SETTINGCHANGE**。 在 Windows NT 3.51 下您的处理程序将调用`OnSettingChange`和`uFlags`，将始终为零。  
  
##  <a name="onshowwindow"></a>CWnd::OnShowWindow  
 框架调用此成员函数时`CWnd`对象是以显示或隐藏。  
  
```  
afx_msg void OnShowWindow(
    BOOL bShow,  
    UINT nStatus);
```  
  
### <a name="parameters"></a>参数  
 `bShow`  
 指定是否正在显示一个窗口。 它是**TRUE**显示的窗口; 如果它是**FALSE**如果隐藏窗口。  
  
 `nStatus`  
 指定窗口中显示的状态。 如果由于发送消息，则为 0`ShowWindow`成员函数调用; 否则为`nStatus`是以下之一︰  
  
- **SW_PARENTCLOSING**父窗口正在关闭 （进行图标化） 或弹出窗口将会被隐藏。  
  
- **SW_PARENTOPENING**父窗口正在打开 （显示） 或正在显示一个弹出窗口。  
  
### <a name="remarks"></a>备注  
 窗口隐藏或显示时`ShowWindow`调用成员函数，或在关闭一个重叠或弹出窗口时最大化或还原，重叠的窗口 （使其图标化） 或打开 （显示在屏幕上）。 重叠的窗口已关闭，则也将同时隐藏所有与该窗口相关联的弹出窗口。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onsize"></a>CWnd::OnSize  
 更改窗口的大小后，框架将调用此成员函数。  
  
```  
afx_msg void OnSize(
    UINT nType,  
    int cx,  
    int cy);
```  
  
### <a name="parameters"></a>参数  
 `nType`  
 指定的大小调整请求的类型。 此参数可以是以下值之一︰  
  
- **SIZE_MAXIMIZED**最大化窗口。  
  
- **SIZE_MINIMIZED**窗口已最小化。  
  
- **SIZE_RESTORED**已调整大小窗口，但既不**SIZE_MINIMIZED**也不**SIZE_MAXIMIZED**适用。  
  
- **SIZE_MAXHIDE**最大化某些其他窗口时，将消息发送到所有的弹出窗口。  
  
- **SIZE_MAXSHOW**时某些其他窗口已还原到其以前的大小，将消息发送到所有的弹出窗口。  
  
 `cx`  
 指定客户端区域的新宽度。  
  
 `cy`  
 指定客户端区域的新高度。  
  
### <a name="remarks"></a>备注  
 如果[SetScrollPos](#setscrollpos)或[MoveWindow](#movewindow)成员函数调用子窗口从`OnSize`、`bRedraw`参数`SetScrollPos`或`MoveWindow`应为非零值，导致`CWnd`进行重新绘制。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 109](../../mfc/reference/codesnippet/cpp/cwnd-class_50.cpp)]  
  
##  <a name="onsizeclipboard"></a>CWnd::OnSizeClipboard  
 剪贴板所有者`OnSizeClipboard`时剪贴板含有的数据由剪贴板查看器中调用成员函数`CF_OWNERDISPLAY`属性和剪贴板查看器窗口的工作区的大小已更改。  
  
```  
afx_msg void OnSizeClipboard(
    CWnd* pClipAppWnd,  
    HGLOBAL hRect);
```  
  
### <a name="parameters"></a>参数  
 `pClipAppWnd`  
 标识剪贴板应用程序窗口。 指针可能是暂时并不会存储。  
  
 *hRect*  
 标识的全局内存对象。 内存对象包含指定剪贴板所有者进行绘画的区域的矩形数据结构。  
  
### <a name="remarks"></a>备注  
 `OnSizeClipboard`调用成员函数与 null 矩形 (0,0,0,0) 的新大小作为剪贴板应用程序时要销毁或最小化。 这允许剪贴板所有者释放其显示资源。  
  
 在`OnSizeClipboard`，应用程序必须使用[GlobalLock](http://msdn.microsoft.com/library/windows/desktop/aa366584) Windows 函数来锁定包含 RECT 数据结构的内存。 将解锁该内存，该应用程序[GlobalUnlock](http://msdn.microsoft.com/library/windows/desktop/aa366595) Windows 函数生成或返回控件之前。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onsizing"></a>CWnd::OnSizing  
 框架调用此成员函数以指示用户正在调整矩形大小。  
  
```  
afx_msg void OnSizing(
    UINT nSide,  
    LPRECT lpRect);
```  
  
### <a name="parameters"></a>参数  
 `nSide`  
 要移动的窗口边缘。  
  
 `lpRect`  
 地址[CRect](../../atl-mfc-shared/reference/crect-class.md)或[RECT 结构](../../mfc/reference/rect-structure1.md)将包含该项的坐标。  
  
### <a name="remarks"></a>备注  
 通过处理此消息，应用程序可以监视的大小和位置的拖动矩形和，如果需要可以更改它们的大小或位置。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 110](../../mfc/reference/codesnippet/cpp/cwnd-class_51.cpp)]  
  
##  <a name="onspoolerstatus"></a>CWnd::OnSpoolerStatus  
 框架调用此成员函数从打印管理器添加到或从打印管理器队列中删除作业时。  
  
```  
afx_msg void OnSpoolerStatus(
    UINT nStatus,  
    UINT nJobs);
```  
  
### <a name="parameters"></a>参数  
 `nStatus`  
 指定**SP_JOBSTATUS**标志。  
  
 *nJobs*  
 指定打印管理器队列中剩余的作业数。  
  
### <a name="remarks"></a>备注  
 此调用是为仅供参考。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onstylechanged"></a>CWnd::OnStyleChanged  
 框架调用此成员函数后的[SetWindowLong](http://msdn.microsoft.com/library/windows/desktop/ms633591)函数已更改一个或多个窗口样式。  
  
```  
afx_msg void OnStyleChanged(
    int nStyleType,  
    LPSTYLESTRUCT lpStyleStruct);
```  
  
### <a name="parameters"></a>参数  
 `nStyleType`  
 指定是否窗口的扩展，或已改变的 nonextended 的样式。 此参数可以是以下值的组合︰  
  
- **GWL_EXSTYLE**窗口的扩展的样式已更改。  
  
- **GWL_STYLE**窗口 nonextended 的样式已更改。  
  
 `lpStyleStruct`  
 指向[STYLESTRUCT](http://msdn.microsoft.com/library/windows/desktop/ms632607)结构，其中包含窗口的新样式。 应用程序可以检查样式，但可以更改它们。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onstylechanging"></a>CWnd::OnStyleChanging  
 框架调用此成员函数时[SetWindowLong](http://msdn.microsoft.com/library/windows/desktop/ms633591)函数即将更改一个或多个窗口样式。  
  
```  
afx_msg void OnStyleChanging(
    int nStyleType,  
    LPSTYLESTRUCT lpStyleStruct);
```  
  
### <a name="parameters"></a>参数  
 `nStyleType`  
 指定是否窗口的扩展，或已改变的 nonextended 的样式。 此参数可以是以下值的组合︰  
  
- **GWL_EXSTYLE**窗口的扩展的样式已更改。  
  
- **GWL_STYLE**窗口 nonextended 的样式已更改。  
  
 `lpStyleStruct`  
 指向[STYLESTRUCT](http://msdn.microsoft.com/library/windows/desktop/ms632607)结构，其中包含窗口的新样式。 应用程序可以检查样式，并将其更改。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onsyschar"></a>CWnd::OnSysChar  
 框架调用此成员函数，如果`CWnd`具有输入的焦点和[WM_SYSKEYUP](#onsyskeyup)和[WM_SYSKEYDOWN](#onsyskeydown)消息被翻译成。  
  
```  
afx_msg void OnSysChar(
    UINT nChar,  
    UINT nRepCnt,  
    UINT nFlags);
```  
  
### <a name="parameters"></a>参数  
 `nChar`  
 指定一个控件菜单键的 ASCII 字符键代码。  
  
 `nRepCnt`  
 指定的重复计数 （次数击键重复因为用户按住键）。  
  
 `nFlags`  
 `nFlags`参数可以具有这些值︰  
  
|值|含义|  
|-----------|-------------|  
|0-15|指定的重复计数。 值是因为用户按住键重复击键次数...|  
|16-23|指定的扫描代码。 值取决于原始设备制造商 (OEM)|  
|24|指定密钥是否是扩展的密钥，如在增强的 101 或 102 键键盘显示的右侧 ALT 和 CTRL 键。 如果它是扩展的密钥; 值为 1否则，则为 0。|  
|25-28|由 Windows 内部使用。|  
|29|指定的上下文代码。 如果当按下键; ALT 键并按住，则值为 1否则，值为 0。|  
|30|指定上一项的状态。 如果密钥已关闭，然后发送消息，或如果注册该键，则为 0，则值为 1。|  
|31|指定的转换状态。 如果正在释放键，或如果按下了键，则为 0，则值为 1。|  
  
### <a name="remarks"></a>备注  
 它指定控件菜单键的虚拟键代码。 （有关标准虚拟键代码的列表，请参见 Winuser.h）  
  
 当上下文代码为 0，`WM_SYSCHAR`可以传递[WM_SYSCHAR](http://msdn.microsoft.com/library/windows/desktop/ms646357)消息[TranslateAccelerator](http://msdn.microsoft.com/library/windows/desktop/ms646373) Windows 函数，它将处理它，就像普通键消息而不是系统字符键。 这允许使用与活动窗口，即使活动窗口不具有输入的焦点的加速键。  
  
 对于 IBM 增强 101 和 102 键键盘、 增强的键是右 ALT 和键盘; 的主要部分上的右 CTRL 键单元、 DEL、 主页、 结束、 PAGE UP、 PAGE down 键和向左数字小键盘; 的群集中的箭头键斜杠 （/） 和数字键盘中的 ENTER 键。 一些其他键盘可能支持中的扩展密钥位`nFlags`。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onsyscolorchange"></a>CWnd::OnSysColorChange  
 在系统颜色设置进行更改时，框架针对所有顶级窗口调用此成员函数。  
  
```  
afx_msg void OnSysColorChange();
```  
  
### <a name="remarks"></a>备注  
 Windows 调用`OnSysColorChange`受系统颜色更改任何窗口。  
  
 具有使用现有的系统颜色的画笔的应用程序应删除这些画笔，并使用新的系统颜色重新创建索引。  
  
##  <a name="onsyscommand"></a>CWnd::OnSysCommand  
 当用户从控件菜单中，选择命令，或者用户选择最大化或最小化按钮时，框架将调用此成员函数。  
  
```  
afx_msg void OnSysCommand(
    UINT nID,  
    LPARAM lParam);
```  
  
### <a name="parameters"></a>参数  
 `nID`  
 指定请求的系统命令的类型。 此参数可以是以下值之一︰  
  
- **SC_CLOSE**关闭`CWnd`对象。  
  
- **SC_HOTKEY**激活`CWnd`与应用程序特定的热键关联的对象。 低序位字`lParam`标识`HWND`要激活的窗口。  
  
- **SC_HSCROLL**水平滚动。  
  
- **SC_KEYMENU**检索通过击键菜单。  
  
- **SC_MAXIMIZE** (或**SC_ZOOM**) 最大化`CWnd`对象。  
  
- **SC_MINIMIZE** (或**SC_ICON**) 最小化`CWnd`对象。  
  
- **SC_MOUSEMENU**菜单通过鼠标单击的检索。  
  
- **SC_MOVE**移动`CWnd`对象。  
  
- **SC_NEXTWINDOW**移到下一步的窗口。  
  
- **SC_PREVWINDOW**将移到上一个窗口。  
  
- **SC_RESTORE**将窗口还原到正常位置和大小。  
  
- **SC_SCREENSAVE**执行系统的 [启动] 部分中指定的屏幕保护程序应用程序。INI 文件。  
  
- **SC_SIZE**大小`CWnd`对象。  
  
- **SC_TASKLIST** Execute 或激活 Windows 任务管理器应用程序。  
  
- **SC_VSCROLL**垂直滚动。  
  
 `lParam`  
 如果用鼠标选择控件菜单命令，则`lParam`包含光标坐标。 低序位字包含的 x 坐标，而高序位字包含的 y 坐标。 否则不使用此参数。  
  
- **SC_HOTKEY**激活应用程序特定的热键与关联的窗口。 低序位字`lParam`标识要激活的窗口。  
  
- **SC_SCREENSAVE**执行在控制面板的桌面部分中指定的屏幕保存应用程序。  
  
### <a name="remarks"></a>备注  
 默认情况下，`OnSysCommand`执行前面的表中指定的预定义操作的控件菜单请求。  
  
 在`WM_SYSCOMMAND`消息的四个低顺序位`nID`参数由 Windows 内部使用。 当应用程序测试的值`nID`，它必须结合使用的值 0xFFF0`nID`通过使用按位值的和运算符以获取正确的结果。  
  
 可以使用修改控件菜单中的菜单项`GetSystemMenu`， `AppendMenu`， `InsertMenu`，和`ModifyMenu`成员函数。 修改控件菜单的应用程序必须处理`WM_SYSCOMMAND`消息，以及任何`WM_SYSCOMMAND`由应用程序不处理的消息必须传递给`OnSysCommand`。 添加应用程序的任何命令值以及应用程序必须处理和不能传递给`OnSysCommand`。  
  
 应用程序可以执行任何系统命令在任何时候通过传递`WM_SYSCOMMAND`消息`OnSysCommand`。  
  
 定义为从控件菜单中选择项的快捷键 （快捷方式） 击键转换为`OnSysCommand`调用; 所有击键转换为其他快捷键[WM_COMMAND](#oncommand)消息。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onsysdeadchar"></a>CWnd::OnSysDeadChar  
 框架调用此成员函数，如果`CWnd`对象具有输入焦点[OnSysKeyUp](#onsyskeyup)或[OnSysKeyDown](#onsyskeydown)调用成员函数。  
  
```  
afx_msg void OnSysDeadChar(
    UINT nChar,  
    UINT nRepCnt,  
    UINT nFlags);
```  
  
### <a name="parameters"></a>参数  
 `nChar`  
 指定死密钥字符值。  
  
 `nRepCnt`  
 指定的重复计数。  
  
 `nFlags`  
 下面的列表中所示来指定扫描代码、 密钥转换代码、 以前的密钥状态和上下文代码︰  
  
|值|含义|  
|-----------|-------------|  
|0-7|扫描代码 （依赖于 OEM 的值）。 高序位字的低字节。|  
|8|扩展的密钥，如功能键或 （如果它是扩展的密钥为 1; 否则为 0） 数字键盘上的某个键。|  
|9-10|未使用。|  
|11-12|由 Windows 内部使用。|  
|13|上下文代码 （如果时按下键按下 ALT 键为 1; 否则为 0）。|  
|14|以前的密钥状态 (如果在调用，0，如果密钥已启动之前已关闭的密钥，则为 1)。|  
|15|过渡状态 （如果正在释放键为 1，0，如果按下了键）。|  
  
### <a name="remarks"></a>备注  
 它指定死键的字符值。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onsyskeydown"></a>CWnd::OnSysKeyDown  
 如果`CWnd`对象具有输入的焦点，`OnSysKeyDown`由框架调用成员函数，当用户按住 ALT 键，然后按下另一个密钥。  
  
```  
afx_msg void OnSysKeyDown(
    UINT nChar,  
    UINT nRepCnt,  
    UINT nFlags);
```  
  
### <a name="parameters"></a>参数  
 `nChar`  
 指定键的虚拟键代码。 有关标准虚拟键代码的列表，请参见 Winuser.h  
  
 `nRepCnt`  
 指定的重复计数。  
  
 `nFlags`  
 下面的列表中所示来指定扫描代码、 密钥转换代码、 以前的密钥状态和上下文代码︰  
  
|值|含义|  
|-----------|-------------|  
|0-7|扫描代码 （依赖于 OEM 的值）。 高序位字的低字节。|  
|8|扩展的密钥，如功能键或 （如果它是扩展的密钥为 1; 否则为 0） 数字键盘上的某个键。|  
|9-10|未使用。|  
|11-12|由 Windows 内部使用。|  
|13|上下文代码 (如果当按下键，0 否则 ALT 键并按住，则为 1)。|  
|14|以前的密钥状态 (如果该密钥是向下发送消息前，0 如果密钥为向上，则为 1)。|  
|15|过渡状态 （如果正在释放键为 1，0，如果按下了键）。|  
  
 有关`OnSysKeyDown`调用，密钥转换位 （位 15） 为 0。 如果 ALT 键已关闭时按下键; 上下文代码位 （位 13） 为 1如果向活动窗口发送消息，因为没有窗口具有输入的焦点，则为 0。  
  
### <a name="remarks"></a>备注  
 如果没有窗口当前已经有输入的焦点，活动窗口的`OnSysKeyDown`调用成员函数。 `CWnd`接收消息的对象可以区分上下文代码签入由这些两个上下文`nFlags`。  
  
 当上下文代码为 0，`WM_SYSKEYDOWN`已接收消息`OnSysKeyDown`可以传递给[TranslateAccelerator](http://msdn.microsoft.com/library/windows/desktop/ms646373) Windows 函数，就像普通键消息而不是系统密钥消息处理它。 这允许使用与活动窗口，即使活动窗口不具有输入的焦点的加速键。  
  
 由于自动重复，多个`OnSysKeyDown`调用可能会出现之前[WM_SYSKEYUP](#onsyskeyup)接收消息。 以前的密钥状态 （位 14） 可以用于确定是否`OnSysKeyDown`调用指示第一个向下转换或向下重复的转换。  
  
 对于 IBM 增强 101 和 102 键键盘、 增强的键是右 ALT 和键盘; 的主要部分上的右 CTRL 键单元、 DEL、 主页、 结束、 PAGE UP、 PAGE down 键和向左数字小键盘; 的群集中的箭头键斜杠 （/） 和数字键盘中的 ENTER 键。 一些其他键盘可能支持中的扩展密钥位`nFlags`。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onsyskeyup"></a>CWnd::OnSysKeyUp  
 如果`CWnd`对象具有焦点，`OnSysKeyUp`当用户释放某个键按下 ALT 键已按住时，由框架调用成员函数。  
  
```  
afx_msg void OnSysKeyUp(
    UINT nChar,  
    UINT nRepCnt,  
    UINT nFlags);
```  
  
### <a name="parameters"></a>参数  
 `nChar`  
 指定键的虚拟键代码。 有关标准虚拟键代码的列表，请参见 Winuser.h  
  
 `nRepCnt`  
 指定的重复计数。  
  
 `nFlags`  
 下面的列表中所示来指定扫描代码、 密钥转换代码、 以前的密钥状态和上下文代码︰  
  
|值|含义|  
|-----------|-------------|  
|0-7|扫描代码 （依赖于 OEM 的值）。 高序位字的低字节。|  
|8|扩展的密钥，如功能键或 （如果它是扩展的密钥为 1; 否则为 0） 数字键盘上的某个键。|  
|9-10|未使用。|  
|11-12|由 Windows 内部使用。|  
|13|上下文代码 (如果当按下键，0 否则 ALT 键并按住，则为 1)。|  
|14|以前的密钥状态 (如果该密钥是向下发送消息前，0 如果密钥为向上，则为 1)。|  
|15|过渡状态 （如果正在释放键为 1，0，如果按下了键）。|  
  
 有关`OnSysKeyUp`调用，密钥转换位 （位 15） 为 1。 如果 ALT 键已关闭时按下键; 上下文代码位 （位 13） 为 1如果向活动窗口发送消息，因为没有窗口具有输入的焦点，则为 0。  
  
### <a name="remarks"></a>备注  
 如果没有窗口当前已经有输入的焦点，活动窗口的`OnSysKeyUp`调用成员函数。 `CWnd`接收到调用的对象可以区分上下文代码签入由这些两个上下文`nFlags`。  
  
 当上下文代码为 0，`WM_SYSKEYUP`已接收消息`OnSysKeyUp`可以传递给[TranslateAccelerator](http://msdn.microsoft.com/library/windows/desktop/ms646373) Windows 函数，就像普通键消息而不是系统密钥消息处理它。 这允许快捷键 （快捷） 键使用与活动窗口，即使活动窗口不具有输入的焦点。  
  
 对于 IBM 增强 101 和 102 键键盘、 增强的键是右 ALT 和键盘; 的主要部分上的右 CTRL 键单元、 DEL、 主页、 结束、 PAGE UP、 PAGE down 键和向左数字小键盘; 的群集中的箭头键斜杠 （/） 和数字键盘中的 ENTER 键。 一些其他键盘可能支持中的扩展密钥位`nFlags`。  
  
 适用于非美国增强的 102 键键盘、 右 ALT 键会被视为 CTRL + ALT 键组合。 下面显示消息和导致当用户按下并释放此键的调用的序列︰  
  
|序列|访问的函数|消息传递|  
|--------------|-----------------------|--------------------|  
|1.|[WM_KEYDOWN](#onkeydown)|**VK_CONTROL**|  
|2.|[WM_KEYDOWN](#onkeydown)|**VK_MENU**|  
|3.|[WM_KEYUP](#onkeyup)|**VK_CONTROL**|  
|4.|[WM_SYSKEYUP](http://msdn.microsoft.com/library/windows/desktop/ms646287)|**VK_MENU**|  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="ontcard"></a>CWnd::OnTCard  
 当用户单击可创作的按钮时，框架将调用此成员函数。  
  
```  
afx_msg void OnTCard(
    UINT idAction,  
    DWORD dwActionData);
```  
  
### <a name="parameters"></a>参数  
 `idAction`  
 指示已获取用户的操作。 此参数可以是下列值之一︰  
  
- **IDABORT**用户单击可创作的中止按钮。  
  
- **IDCANCEL**用户单击可创作的取消按钮。  
  
- **IDCLOSE**用户关闭培训卡。  
  
- **IDHELP**用户单击可创作 Windows 帮助的按钮。  
  
- **IDIGNORE**用户单击可创作的忽略按钮。  
  
- **IDOK**用户单击可创作的确定按钮。  
  
- **IDNO**用户单击可创作没有按钮。  
  
- **IDRETRY**用户单击可创作的重试按钮。  
  
- **HELP_TCARD_DATA**用户单击可创作的按钮。 `dwActionData`参数包含一个长整型，指定的帮助文件的作者。  
  
- **HELP_TCARD_NEXT**用户单击可创作的下一步按钮。  
  
- **HELP_TCARD_OTHER_CALLER**另一个应用程序已请求培训卡。  
  
- **IDYES**用户单击可创作的是按钮。  
  
 `dwActionData`  
 如果`idAction`指定**HELP_TCARD_DATA**，此参数是一个长整型，指定的帮助文件的作者。 否则，此参数为零。  
  
### <a name="remarks"></a>备注  
 仅当应用程序已启动培训卡与 Windows 帮助调用此函数。 应用程序通过指定启动培训卡**HELP_TCARD**命令对的调用中[WinHelp](../../mfc/reference/cwinapp-class.md#winhelp)函数。  
  
##  <a name="ontimechange"></a>CWnd::OnTimeChange  
 更改系统时间后，框架将调用此成员函数。  
  
```  
afx_msg void OnTimeChange();
```  
  
### <a name="remarks"></a>备注  
 具有任何应用程序，更改系统时间将此消息发送到所有顶级窗口。 若要发送`WM_TIMECHANGE`消息向所有顶级窗口，应用程序可以使用[SendMessage](http://msdn.microsoft.com/library/windows/desktop/ms644950) Windows 函数替换其*hwnd*参数设置为**HWND_BROADCAST**。  
  
##  <a name="ontimer"></a>CWnd::OnTimer  
 框架调用此成员函数中指定每个时间间隔过后[SetTimer](#settimer)成员函数用于安装一个计时器。  
  
```  
afx_msg void OnTimer(UINT_PTR nIDEvent);
```  
  
### <a name="parameters"></a>参数  
 `nIDEvent`  
 指定的计时器的标识符。  
  
### <a name="remarks"></a>备注  
 [DispatchMessage](http://msdn.microsoft.com/library/windows/desktop/ms644934) Windows 函数发送[WM_TIMER](http://msdn.microsoft.com/library/windows/desktop/ms644902)消息应用程序的消息队列中没有其他消息时。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
### <a name="example"></a>示例  
  请参阅中的示例[CWnd::SetTimer](#settimer)。  
  
##  <a name="ontoolhittest"></a>CWnd::OnToolHitTest  
 框架调用此成员函数以确定是否在点被指定工具的边框。  
  
```  
virtual INT_PTR OnToolHitTest(
    CPoint point,  
    TOOLINFO* pTI) const;  
```  
  
### <a name="parameters"></a>参数  
 `point`  
 指定光标 x 和 y 坐标。 这些坐标相对于窗口的左上角始终是  
  
 `pTI`  
 指向的指针[TOOLINFO](http://msdn.microsoft.com/library/windows/desktop/bb760256)结构。 默认情况下设置以下结构值︰  
  
- *hwnd*  =  `m_hWnd`窗口的句柄  
  
- `uId` = **(UINT) hWndChild**子窗口的句柄  
  
- `uFlags`| = **TTF_IDISHWND**句柄的工具  
  
- `lpszText` = **LPSTR_TEXTCALLBACK**指向指定窗口中显示的字符串  
  
### <a name="return-value"></a>返回值  
 如果找到该工具提示控件，窗口控件 id。 如果工具提示控件未找到，则为-1。  
  
### <a name="remarks"></a>备注  
 在矩形中点时，它将检索有关工具的信息。  
  
 如果工具提示与之关联的区域不是一个按钮，`OnToolHitTest`将结构标志设置为**TTF_NOTBUTTON**和**TTF_CENTERTIP**。  
  
 重写`OnToolHitTest`提供比默认提供不同的信息。  
  
 请参阅[TOOLINFO](http://msdn.microsoft.com/library/windows/desktop/bb760256)中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]，结构有关的详细信息。  
  
##  <a name="ontouchinput"></a>CWnd::OnTouchInput  
 处理来自 Windows 触摸屏的单个输入。  
  
```  
virtual BOOL OnTouchInput(
    CPoint pt,  
    int nInputNumber,  
    int nInputsCount,  
    PTOUCHINPUT pInput);
```  
  
### <a name="parameters"></a>参数  
 `pt`  
 其中，将屏幕接触 （在客户端坐标中） 的点。  
  
 `nInputNumber`  
 数触摸屏输入。  
  
 `nInputsCount`  
 触控输入的总数。  
  
 `pInput`  
 指向 TOUCHINPUT 结构的指针。  
  
### <a name="return-value"></a>返回值  
 `TRUE`如果应用程序处理 Windows 触摸屏输入;，否则为`FALSE`。  
  
### <a name="remarks"></a>备注  
  
##  <a name="ontouchinputs"></a>CWnd::OnTouchInputs  
 处理来自 Windows 触摸屏输入。  
  
```  
virtual BOOL OnTouchInputs(
    UINT nInputsCount,  
    PTOUCHINPUT pInputs);
```  
  
### <a name="parameters"></a>参数  
 `nInputsCount`  
 总数 Windows 触摸输入。  
  
 `pInputs`  
 TOUCHINPUT 的数组。  
  
### <a name="return-value"></a>返回值  
 `TRUE`如果应用程序进程 Windows 触摸输入;，否则为`FALSE`。  
  
### <a name="remarks"></a>备注  
  
##  <a name="onunichar"></a>CWnd::OnUniChar  
 当按下某个键时，框架将调用此成员函数。 即，当前窗口具有键盘焦点和[WM_KEYDOWN](http://msdn.microsoft.com/library/windows/desktop/ms646280)消息转换通过[TranslateMessage](http://msdn.microsoft.com/library/windows/desktop/ms644955)函数。  
  
```  
afx_msg void OnUniChar(
    UINT nChar,   
    UINT nRepCnt,   
    UINT nFlags);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nChar`|指定按下的键的字符代码。|  
|[in] `nRepCnt`|指定当前消息的重复计数。 值是击键是因为用户按住键 autorepeated 次数。 如果击键会保留足够长，将发送多条消息。 但是，重复计数不是累积的。|  
|[in] `nFlags`|下表中所示指定扫描代码、 扩展的密钥、 上下文代码、 以前的密钥状态和转换状态的标志︰<br /><br /> **0-7:**指定扫描代码。 值取决于原始设备制造商 (OEM)。<br /><br /> **8:**指定扩展的密钥，如在增强型 101 或 102 键键盘显示的右侧 ALT 和 CTRL 键。 标志为 1，如果密钥是扩展的密钥;否则，则为 0。<br /><br /> **9-12:**由 Windows 在内部使用。<br /><br /> **13:**指定上下文的代码。 标志为 1，如果当按下键; ALT 键并按住否则，值为 0。<br /><br /> **14:**指定以前的密钥状态。 如果密钥为向上，标志是如果密钥已关闭之前将消息发送，则为 1 或 0。<br /><br /> **15:**指定的转换状态。 标志是如果正在释放键，则为 1 或 0，如果按下了键。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_UNICHAR](http://msdn.microsoft.com/library/windows/desktop/ms646288)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 [WM_UNICHAR](http://msdn.microsoft.com/library/windows/desktop/ms646288)消息旨在发送或发布到 ANSI windows 的 Unicode 字符。 它相当于[WM_CHAR](http://msdn.microsoft.com/library/windows/desktop/ms646276)消息，但使用 Unicode 转换格式-32 编码 (utf-32)，而[WM_CHAR](http://msdn.microsoft.com/library/windows/desktop/ms646276)消息使用 utf-16。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onuninitmenupopup"></a>CWnd::OnUnInitMenuPopup  
 框架调用此成员函数时的下拉列表菜单或子菜单已销毁。  
  
```  
afx_msg void OnUnInitMenuPopup(
    CMenu* pPopupMenu,   
    UINT nFlags);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `pMenu`|指向[CMenu](../../mfc/reference/cmenu-class.md)表示菜单或子菜单的对象。|  
|[in] `nFlags`|已被销毁，菜单。 目前，它只能是窗口菜单中， `MF_SYSMENU`。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_UNINITMENUPOPUP](http://msdn.microsoft.com/library/windows/desktop/ms647614)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onupdateuistate"></a>CWnd::OnUpdateUIState  
 调用以更改指定的窗口及其所有子窗口的用户界面 (UI) 状态。  
  
```  
afx_msg void OnUpdateUIState(
    UINT nAction,  
    UINT nUIElement);
```  
  
### <a name="parameters"></a>参数  
 `nAction`  
 指定要执行的操作。 可以是以下值之一：  
  
- **UIS_CLEAR**的 UI 状态元素 (通过指定`nUIElement`) 应被隐藏。  
  
- **UIS_INITIALIZE**的 UI 状态元素 (通过指定`nUIElement`) 应根据输入的最后一个事件来更改。 有关详细信息，请参阅**备注**部分[WM_UPDATEISTATE](http://msdn.microsoft.com/library/windows/desktop/ms646361)。  
  
- **UIS_SET**的 UI 状态元素 (通过指定`nUIElement`) 应是可见的。  
  
 `nUIElement`  
 指定将影响哪些 UI 状态元素或控件的样式。 可以是以下值之一：  
  
- **UISF_HIDEACCEL**键盘快捷键。  
  
- **UISF_HIDEFOCUS**专注指示器。  
  
- **UISF_ACTIVE Windows XP:**应放用于活动控件的样式绘制控件。  
  
### <a name="remarks"></a>备注  
 此成员函数模拟的功能[WM_UPDATEUISTATE](http://msdn.microsoft.com/library/windows/desktop/ms646361)消息中所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="onuserchanged"></a>CWnd::OnUserChanged  
 框架在调用后在用户登录打开或关闭适用于所有 windows 此成员。  
  
```  
afx_msg void OnUserChanged();
```  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_USERCHANGED](http://msdn.microsoft.com/library/windows/desktop/ms632651)中所述的通知消息[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 当用户登录和注销时，操作系统将更新用户特定的设置。 系统更新完设置后立即发送此消息。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onvkeytoitem"></a>CWnd::OnVKeyToItem  
 如果`CWnd`对象拥有在列表框中[LBS_WANTKEYBOARDINPUT](../../mfc/reference/list-box-styles.md)样式，列表框中将发送`WM_VKEYTOITEM`消息以响应`WM_KEYDOWN`消息。  
  
```  
afx_msg int OnVKeyToItem(
    UINT nKey,  
    CListBox* pListBox,  
    UINT nIndex);
```  
  
### <a name="parameters"></a>参数  
 `nKey`  
 指定用户按下的键的虚拟键代码。 有关标准虚拟键代码的列表，请参见 Winuser.h  
  
 `pListBox`  
 指定指向列表框中的指针。 该指针可能是暂时的，不应存储起来供将来使用。  
  
 `nIndex`  
 指定当前插入符号位置。  
  
### <a name="return-value"></a>返回值  
 指定在响应消息中的应用程序执行的操作。 返回值为-2 指示应用程序处理的选择项的所有方面，并需要由列表框中的任何进一步的操作。 返回值-1 指示列表框在击键响应中应执行默认操作。 返回值 0 或更高版本的列表框中指定项的从零开始的索引，并指明列表框中，应在给定的项键击执行默认操作。  
  
### <a name="remarks"></a>备注  
 此成员函数调用仅有的列表框的框架[LBS_HASSTRINGS](../../mfc/reference/list-box-styles.md)样式。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onvscroll"></a>CWnd::OnVScroll  
 当用户单击窗口的垂直滚动条，框架将调用此成员函数。  
  
```  
afx_msg void OnVScroll(
    UINT nSBCode,  
    UINT nPos,  
    CScrollBar* pScrollBar);
```  
  
### <a name="parameters"></a>参数  
 `nSBCode`  
 指定指示的用户的滚动条代码的滚动请求。 此参数可以是以下项之一︰  
  
- **SB_BOTTOM**滚动到底部。  
  
- **SB_ENDSCROLL**结束滚动。  
  
- **SB_LINEDOWN**向下滚动一行。  
  
- **SB_LINEUP**向上滚动一行。  
  
- **SB_PAGEDOWN**向下滚动一页。  
  
- **SB_PAGEUP**向上滚动一页。  
  
- **SB_THUMBPOSITION**滚动到的绝对位置。 中提供当前位置`nPos`。  
  
- **SB_THUMBTRACK**拖到指定位置的滚动框。 中提供当前位置`nPos`。  
  
- **SB_TOP**滚动到顶部。  
  
 `nPos`  
 滚动条代码是否包含滚动框的当前位置**SB_THUMBPOSITION**或**SB_THUMBTRACK**; 否则为未使用。 具体取决于初始滚动范围，`nPos`可以是负数，并且应强制转换为`int`如有必要。  
  
 `pScrollBar`  
 如果滚动消息所来自的滚动条控件，包含控件的指针。 如果用户单击窗口的滚动条，此参数是**NULL**。 该指针可能是暂时的，不应存储起来供将来使用。  
  
### <a name="remarks"></a>备注  
 `OnVScroll`通常使用的应用程序进行拖动滚动框时，提供一些反馈。  
  
 如果`OnVScroll`滚动的内容`CWnd`对象，它还必须重置具有的滚动框的位置[SetScrollPos](#setscrollpos)成员函数。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onvscrollclipboard"></a>CWnd::OnVScrollClipboard  
 剪贴板所有者`OnVScrollClipboard`成员函数调用由剪贴板查看器，当剪贴板数据具有`CF_OWNERDISPLAY`格式，并且剪贴板查看器的垂直滚动条中没有一个事件。  
  
```  
afx_msg void OnVScrollClipboard(
    CWnd* pClipAppWnd,  
    UINT nSBCode,  
    UINT nPos);
```  
  
### <a name="parameters"></a>参数  
 `pClipAppWnd`  
 指定指向剪贴板查看器窗口的指针。 该指针可能是暂时的，不应存储起来供将来使用。  
  
 `nSBCode`  
 指定以下的滚动条值之一︰  
  
- **SB_BOTTOM**滚动到底部。  
  
- **SB_ENDSCROLL**结束滚动。  
  
- **SB_LINEDOWN**向下滚动一行。  
  
- **SB_LINEUP**向上滚动一行。  
  
- **SB_PAGEDOWN**向下滚动一页。  
  
- **SB_PAGEUP**向上滚动一页。  
  
- **SB_THUMBPOSITION**滚动到的绝对位置。 中提供当前位置`nPos`。  
  
- **SB_TOP**滚动到顶部。  
  
 `nPos`  
 如果滚动条代码包含的滚动框位置**SB_THUMBPOSITION**; 否则为`nPos`未使用。  
  
### <a name="remarks"></a>备注  
 所有者应滚动剪贴板图像、 使相应部分失效以及更新滚动条值。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onwindowmaximizedchanged"></a>CWnd::OnWindowMaximizedChanged  
 当前窗口最大化时，和窗口由桌面窗口管理器 (DWM) 时，框架会调用此成员。  
  
```  
afx_msg void OnWindowMaximizedChanged(BOOL bIsMaximized);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `bIsMaximized`|`true`如果当前窗口已最大化，和`false`如果它不是。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_DWMWINDOWMAXIMIZEDCHANGE](http://msdn.microsoft.com/library/windows/desktop/dd388201)中所述的通知消息[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onwindowposchanged"></a>CWnd::OnWindowPosChanged  
 框架在大小、 位置或 Z 顺序已因调用而更改时调用此成员函数[SetWindowPos](http://msdn.microsoft.com/library/windows/desktop/ms633545)成员函数或另一个窗口管理函数。  
  
```  
afx_msg void OnWindowPosChanged(WINDOWPOS* lpwndpos);
```  
  
### <a name="parameters"></a>参数  
 `lpwndpos`  
 指向[WINDOWPOS](../../mfc/reference/windowpos-structure1.md)数据结构，其中包含有关窗口的新的大小和位置信息。  
  
### <a name="remarks"></a>备注  
 默认实现将发送[WM_SIZE](http://msdn.microsoft.com/library/windows/desktop/ms632646)和[WM_MOVE](http://msdn.microsoft.com/library/windows/desktop/ms632631)到窗口的消息。 如果应用程序处理，不会发送这些消息`OnWindowPosChanged`而不会调用其基类调用。 更高效，执行任何移动或大小更改处理期间调用`OnWindowPosChanged`而不会调用其基类。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onwindowposchanging"></a>CWnd::OnWindowPosChanging  
 当大小、 位置或 Z 顺序即将会因调用而更改时，框架会调用此成员函数[SetWindowPos](http://msdn.microsoft.com/library/windows/desktop/ms633545)成员函数或另一个窗口管理函数。  
  
```  
afx_msg void OnWindowPosChanging(WINDOWPOS* lpwndpos);
```  
  
### <a name="parameters"></a>参数  
 `lpwndpos`  
 指向`WINDOWPOS`数据结构，其中包含有关窗口的新的大小和位置信息。  
  
### <a name="remarks"></a>备注  
 应用程序即可避免更改到窗口设置或清除中的相应位**标志**的成员[WINDOWPOS](../../mfc/reference/windowpos-structure1.md)结构。  
  
 使用窗口[WS_OVERLAPPED](../../mfc/reference/window-styles.md)或[WS_THICKFRAME](../../mfc/reference/window-styles.md)样式，默认实现将发送[WM_GETMINMAXINFO](http://msdn.microsoft.com/library/windows/desktop/ms632626)消息发送到窗口。 这是以验证新的大小和窗口的位置并强制**CS_BYTEALIGNCLIENT**和**CS_BYTEALIGN**客户端样式。 应用程序可以通过不调用其基类重写此功能。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onwininichange"></a>CWnd::OnWinIniChange  
 框架调用此成员函数对 Windows 初始化文件，做出更改后 WIN。INI。  
  
```  
afx_msg void OnWinIniChange(LPCTSTR lpszSection);
```  
  
### <a name="parameters"></a>参数  
 `lpszSection`  
 指向一个字符串，指定已更改的部分的名称。 （字符串不包含方括号将括起来的节名称）。  
  
### <a name="remarks"></a>备注  
 [SystemParametersInfo](http://msdn.microsoft.com/library/windows/desktop/ms724947) Windows 函数调用`OnWinIniChange`应用程序使用函数更改 WIN 中的设置后。INI 文件。  
  
 若要发送`WM_WININICHANGE`消息向所有顶级窗口，应用程序可以使用[SendMessage](http://msdn.microsoft.com/library/windows/desktop/ms644950) Windows 函数替换其*hwnd*参数设置为**HWND_BROADCAST**。  
  
 如果应用程序更改中的许多不同部分 WIN。在同一时间 INI，该应用程序应发送一个`WM_WININICHANGE`消息`lpszSection`设置为**NULL**。 否则，应用程序应将发送`WM_WININICHANGE`每次它对 WIN 做了更改。INI。  
  
 如果应用程序收到`OnWinIniChange`与调用`lpszSection`设置为**NULL**，应用程序应检查 WIN 中的所有部分。影响应用程序的 INI。  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onwndmsg"></a>CWnd::OnWndMsg  
 此成员函数调用`WindowProc`，或在消息反射过程中调用。  
  
```  
virtual BOOL OnWndMsg(
    UINT message,  
    WPARAM wParam,  
    LPARAM lParam,  
    LRESULT* pResult);
```  
  
### <a name="parameters"></a>参数  
 `message`  
 指定要发送的消息。  
  
 `wParam`  
 指定消息相关的其他信息。  
  
 `lParam`  
 指定消息相关的其他信息。  
  
 `pResult`  
 返回值[WindowProc](#windowproc)。 取决于消息;可能是**NULL**。  
  
### <a name="return-value"></a>返回值  
 **TRUE**如果消息已处理; 否则为**FALSE**。  
  
### <a name="remarks"></a>备注  
 `OnWndMsg`确定消息类型和任一调用合适的框架函数 (例如， [OnCommand](#oncommand)为**WM_COMMAND**) 或在消息映射中查找适当的消息。  
  
 有关消息反射的详细信息，请参阅[处理反射消息](../../mfc/handling-reflected-messages.md)。  
  
##  <a name="onxbuttondblclk"></a>CWnd::OnXButtonDblClk  
 当用户双击 XBUTTON1 或 XBUTTON2 时光标位于窗口工作区中，框架将调用此成员函数。  
  
```  
afx_msg void OnXButtonDblClk(
    UINT nFlags,   
    UINT nButton,   
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nFlags`|指示哪个修改键被按下标志的按位组合 (OR)。 例如，`MK_CONTROL`标志指示按下 CTRL 键。|  
|[in] `nButton`|值为`XBUTTON1`双击，第一个 Microsoft 缩放 X 按钮是否或`XBUTTON2`如果第二个 X 按钮是双击。|  
|[in] `point`|A [CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*和*y*光标相对于客户端区域的左上角的坐标。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_XBUTTONDBLCLK](http://msdn.microsoft.com/library/windows/desktop/ms646244)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 如果没有捕获鼠标，则会将消息发布到窗口中光标下。 否则，将消息发布到已捕获鼠标的窗口中。  
  
 `nFlags`参数可以为下表中列出的修改键的组合。 有关详细信息，请参阅[有关鼠标输入](http://msdn.microsoft.com/library/windows/desktop/ms645601)。  
  
|修改键|描述|  
|------------------|-----------------|  
|MK_CONTROL|按下 CTRL 键。|  
|MK_LBUTTON|按下鼠标左键。|  
|MK_MBUTTON|按下鼠标按钮。|  
|MK_RBUTTON|按下鼠标右键按钮。|  
|MK_SHIFT|按下 SHIFT 键。|  
|MK_XBUTTON1|按下 Microsoft 智能鼠标的 XBUTTON1 鼠标按钮。|  
|MK_XBUTTON2|按下的 Microsoft 智能鼠标 XBUTTON2 鼠标按钮。|  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onxbuttondown"></a>CWnd::OnXButtonDown  
 当用户按下 XBUTTON1 或 XBUTTON2 光标位于窗口工作区中，框架将调用此成员函数。  
  
```  
afx_msg void OnXButtonDown(
    UINT nFlags,   
    UINT nButton,   
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nFlags`|指示哪个修改键被按下标志的按位组合 (OR)。 例如，`MK_CONTROL`标志指示按下 CTRL 键。|  
|[in] `nButton`|值为`XBUTTON1`如果单击第一个 Microsoft 缩放 X 按钮或`XBUTTON2`如果第二个 X 按钮被单击。|  
|[in] `point`|A [CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*和*y*光标相对于客户端区域的左上角的坐标。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_XBUTTONDOWN](http://msdn.microsoft.com/library/windows/desktop/ms646245)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 如果没有捕获鼠标，则会将消息发布到窗口中光标下。 否则，将消息发布到已捕获鼠标的窗口中。  
  
 `nFlags`参数可以为下表中列出的修改键的组合。 有关详细信息，请参阅[有关鼠标输入](http://msdn.microsoft.com/library/windows/desktop/ms645601)。  
  
|修改键|描述|  
|------------------|-----------------|  
|MK_CONTROL|按下 CTRL 键。|  
|MK_LBUTTON|按下鼠标左键。|  
|MK_MBUTTON|按下鼠标按钮。|  
|MK_RBUTTON|按下鼠标右键按钮。|  
|MK_SHIFT|按下 SHIFT 键。|  
|MK_XBUTTON1|按下 Microsoft 智能鼠标的 XBUTTON1 鼠标按钮。|  
|MK_XBUTTON2|按下的 Microsoft 智能鼠标 XBUTTON2 鼠标按钮。|  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="onxbuttonup"></a>CWnd::OnXButtonUp  
 当用户释放 XBUTTON1 或 XBUTTON2 在光标位于窗口的客户端区域中时，框架将调用此成员函数。  
  
```  
afx_msg void OnXButtonUp(
    UINT nFlags,   
    UINT nButton,   
    CPoint point);
```  
  
### <a name="parameters"></a>参数  
  
|参数|说明|  
|---------------|-----------------|  
|[in] `nFlags`|指示哪个修改键被按下标志的按位组合 (OR)。 例如，`MK_CONTROL`标志指示按下 CTRL 键。|  
|[in] `nButton`|值为`XBUTTON1`双击，第一个 Microsoft 缩放 X 按钮是否或`XBUTTON2`如果第二个 X 按钮被单击。|  
|[in] `point`|A [CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*和*y*光标相对于客户端区域的左上角的坐标。|  
  
### <a name="remarks"></a>备注  
 此方法接收[WM_XBUTTONUP](http://msdn.microsoft.com/library/windows/desktop/ms646246)通知中, 所述[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。 如果没有捕获鼠标，则会将消息发布到窗口中光标下。 否则，将消息发布到已捕获鼠标的窗口中。  
  
 `nFlags`参数可以为下表中列出的修改键的组合。 有关详细信息，请参阅[有关鼠标输入](http://msdn.microsoft.com/library/windows/desktop/ms645601)。  
  
|修改键|描述|  
|------------------|-----------------|  
|MK_CONTROL|按下 CTRL 键。|  
|MK_LBUTTON|按下鼠标左键。|  
|MK_MBUTTON|按下鼠标按钮。|  
|MK_RBUTTON|按下鼠标右键按钮。|  
|MK_SHIFT|按下 SHIFT 键。|  
|MK_XBUTTON1|按下 Microsoft 智能鼠标的 XBUTTON1 鼠标按钮。|  
|MK_XBUTTON2|按下的 Microsoft 智能鼠标 XBUTTON2 鼠标按钮。|  
  
> [!NOTE]
>  框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。  
  
##  <a name="openclipboard"></a>CWnd::OpenClipboard  
 打开剪贴板。  
  
```  
BOOL OpenClipboard();
```  
  
### <a name="return-value"></a>返回值  
 非零，如果通过打开剪贴板`CWnd`，或如果另一个应用程序或窗口有剪贴板 0 打开。  
  
### <a name="remarks"></a>备注  
 其他应用程序将不能修改直到剪贴板[CloseClipboard](http://msdn.microsoft.com/library/windows/desktop/ms649035)调用 Windows 函数。  
  
 当前`CWnd`对象不会成为直到剪贴板所有者[EmptyClipboard](http://msdn.microsoft.com/library/windows/desktop/ms649037)调用 Windows 函数。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 111](../../mfc/reference/codesnippet/cpp/cwnd-class_52.cpp)]  
  
##  <a name="operator_hwnd"></a>CWnd::operator HWND  
 使用此运算符来获取的句柄`CWnd`对象。  
  
```  
operator HWND() const;  
```  
  
##  <a name="operator_neq"></a>CWnd::operator ！ =  
 比较两个`CWnd`对象以确定是否他们没有相同[m_hWnd](#m_hwnd)。  
  
```  
BOOL operator!=(const CWnd& wnd) const;  
```  
  
### <a name="parameters"></a>参数  
 `wnd`  
 对 `CWnd` 对象的引用。  
  
### <a name="return-value"></a>返回值  
 非零，如果相等;否则为 0。  
  
##  <a name="operator_eq_eq"></a>CWnd::operator = =  
 比较两个`CWnd`对象以确定它们是否具有相同[m_hWnd](#m_hwnd)。  
  
```  
BOOL operator==(const CWnd& wnd) const;  
```  
  
### <a name="parameters"></a>参数  
 `wnd`  
 对 `CWnd` 对象的引用。  
  
### <a name="return-value"></a>返回值  
 非零，如果相等;否则为 0。  
  
##  <a name="paintwindowlesscontrols"></a>CWnd::PaintWindowlessControls  
 在控件容器上绘制无窗口控件。  
  
```  
BOOL PaintWindowlessControls(CDC* pDC);
```  
  
### <a name="parameters"></a>参数  
 `pDC`  
 在其上绘制无窗口控件设备上下文。  
  
### <a name="return-value"></a>返回值  
 返回 TRUE，如果没有控件容器与无窗口控件所绘制成功，否则为 FALSE。  
  
##  <a name="postmessage"></a>CWnd::PostMessage  
 将一条消息放在窗口的消息队列，然后返回而不等待相应的窗口来处理该消息。  
  
```  
BOOL PostMessage(
    UINT message,  
    WPARAM wParam = 0,  
    LPARAM lParam = 0);
```  
  
### <a name="parameters"></a>参数  
 `message`  
 指定要发布的消息。  
  
 `wParam`  
 指定其他消息信息。 此参数的内容取决于正在发布的消息。  
  
 `lParam`  
 指定其他消息信息。 此参数的内容取决于正在发布的消息。  
  
### <a name="return-value"></a>返回值  
 如果发布消息; 非零否则为 0。  
  
### <a name="remarks"></a>备注  
 消息队列中检索通过调用[GetMessage](http://msdn.microsoft.com/library/windows/desktop/ms644936)或[PeekMessage](http://msdn.microsoft.com/library/windows/desktop/ms644943) Windows 函数。  
  
 Windows [PostMessage](http://msdn.microsoft.com/library/windows/desktop/ms644944)函数可用来访问另一个应用程序。  
  
### <a name="example"></a>示例  
  请参阅示例[AfxGetMainWnd](../../mfc/reference/application-information-and-management.md#afxgetmainwnd)。  
  
##  <a name="postncdestroy"></a>CWnd::PostNcDestroy  
 默认情况下调用[OnNcDestroy](#onncdestroy)成员函数在窗口已销毁之后。  
  
```  
virtual void PostNcDestroy();
```  
  
### <a name="remarks"></a>备注  
 派生的类可以使用此函数，如删除了自定义清理来**这**指针。  
  
##  <a name="precreatewindow"></a>CWnd::PreCreateWindow  
 由框架创建附加到此 Windows 窗口之前调用`CWnd`对象。  
  
```  
virtual BOOL PreCreateWindow(CREATESTRUCT& cs);
```  
  
### <a name="parameters"></a>参数  
 *cs*  
 A [CREATESTRUCT](../../mfc/reference/createstruct-structure.md)结构。  
  
### <a name="return-value"></a>返回值  
 如果应继续窗口创建; 则为非 00，以指示创建失败。  
  
### <a name="remarks"></a>备注  
  
> [!WARNING]
> `CWnd::PreCreateWindow`现在将分配的 hMenu 成员`cs`到`this`指针如果菜单是`NULL`和样式包含`WS_CHILD`。 是否能正常运行，请确保对话框控件具有 ID 不是`NULL`。  
>   
>  在托管/本机互操作方案中，此项更改修复了崩溃。 A`TRACE`中的语句`CWnd::Create`警报问题的开发人员。  
  
 永远不会直接调用此函数。  
  
 此函数的默认实现检查**NULL**窗口类名称，将相应的默认值。 重写该成员函数以修改`CREATESTRUCT`结构创建窗口。  
  
 每个类派生自`CWnd`将其自身的功能添加到其重写`PreCreateWindow`。 按照设计，这些派生的`PreCreateWindow`未记录。 若要确定适合于每个类和样式之间相互依赖项的样式，可以检查应用程序的基类的 MFC 源代码。 如果你选择覆盖**PreCreateWindow，**可以确定是否使用应用程序的基类中的样式提供你需要通过从 MFC 源代码收集的信息的功能。  
  
 更改窗口样式的详细信息，请参阅[更改 MFC 创建的窗口样式](../../mfc/changing-the-styles-of-a-window-created-by-mfc.md)。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 112](../../mfc/reference/codesnippet/cpp/cwnd-class_53.cpp)]  
  
##  <a name="presubclasswindow"></a>CWnd::PreSubclassWindow  
 由框架，以允许其他必要子类化之前对窗口子类化出现调用此成员函数。  
  
```  
virtual void PreSubclassWindow();
```  
  
### <a name="remarks"></a>备注  
 重写该成员函数允许动态子类化的控件。 它是一个高级可重写。  
  
##  <a name="pretranslatemessage"></a>Cwnd:: Pretranslatemessage  
 类使用[CWinApp](../../mfc/reference/cwinapp-class.md)窗口消息进行转换之前被发送到[TranslateMessage](http://msdn.microsoft.com/library/windows/desktop/ms644955)和[DispatchMessage](http://msdn.microsoft.com/library/windows/desktop/ms644934) Windows 函数。  
  
```  
virtual BOOL PreTranslateMessage(MSG* pMsg);
```  
  
### <a name="parameters"></a>参数  
 `pMsg`  
 指向[消息](../../mfc/reference/msg-structure1.md)结构，其中包含要处理的消息。  
  
### <a name="return-value"></a>返回值  
 如果消息已转换，并且不应将调度; 则为非 0如果消息已不转换，并且应将调度，则为 0。  
  
##  <a name="print"></a>CWnd::Print  
 调用此成员函数以绘制当前窗口中的指定的设备上下文，这通常是打印机设备上下文中。  
  
```  
void Print(
    CDC* pDC,  
    DWORD dwFlags) const;  
```  
  
### <a name="parameters"></a>参数  
 `pDC`  
 一个指向设备上下文的指针。  
  
 `dwFlags`  
 指定的绘图选项。 此参数可以为一个或多个这些标志︰  
  
- `PRF_CHECKVISIBLE`仅当为可见，则绘制窗口。  
  
- `PRF_CHILDREN`绘制所有可见子窗口。  
  
- `PRF_CLIENT`绘制窗口的工作区。  
  
- `PRF_ERASEBKGND`在绘制窗口之前擦除背景。  
  
- `PRF_NONCLIENT`绘制窗口的非工作区。  
  
- `PRF_OWNED`绘制所有拥有的 windows。  
  
### <a name="remarks"></a>备注  
 [CWnd::DefWindowProc](#defwindowproc)函数来处理此消息基于指定的绘图选项︰  
  
-   如果`PRF_CHECKVISIBLE`指定和窗口不可见，不执行任何操作。  
  
-   如果`PRF_NONCLIENT`是指定，绘制在给定的设备上下文中的非工作区。  
  
-   如果`PRF_ERASEBKGND`是指定，发送窗口[WM_ERASEBKGND](http://msdn.microsoft.com/library/windows/desktop/ms648055)消息。  
  
-   如果`PRF_CLIENT`是指定，发送窗口[WM_PRINTCLIENT](http://msdn.microsoft.com/library/windows/desktop/dd145217)消息。  
  
-   如果`PRF_CHILDREN`设置，则将发送每个可见子窗口[WM_PRINT](http://msdn.microsoft.com/library/windows/desktop/dd145216)消息。  
  
-   如果`PRF_OWNED`设置，则将发送每个可见的附属的窗口`WM_PRINT`消息。  
  
##  <a name="printclient"></a>CWnd::PrintClient  
 调用此成员函数以绘制指定的设备上下文 （通常是打印机设备上下文） 中的任何窗口。  
  
```  
void PrintClient(
    CDC* pDC,  
    DWORD dwFlags) const;  
```  
  
### <a name="parameters"></a>参数  
 `pDC`  
 一个指向设备上下文的指针。  
  
 `dwFlags`  
 指定绘图选项。 此参数可以为一个或多个这些标志︰  
  
- `PRF_CHECKVISIBLE`仅当为可见，则绘制窗口。  
  
- `PRF_CHILDREN`绘制所有可见子窗口。  
  
- `PRF_CLIENT`绘制窗口的工作区。  
  
- `PRF_ERASEBKGND`在绘制窗口之前擦除背景。  
  
- `PRF_NONCLIENT`绘制窗口的非工作区。  
  
- `PRF_OWNED`绘制所有拥有的 windows。  
  
##  <a name="printwindow"></a>CWnd::PrintWindow  
 将可视窗口复制到指定设备上下文（通常是打印机设备上下文）。  
  
```  
BOOL PrintWindow(
    CDC* pDC,  
    UINT nFlags) const;  
```  
  
### <a name="parameters"></a>参数  
 `pDC`  
 指向要输出到的设备上下文的指针。  
  
 `nFlags`  
 指定的绘图选项。 有关可能的值的列表，请参阅[PrintWindow](http://msdn.microsoft.com/library/windows/desktop/dd162869)。  
  
### <a name="return-value"></a>返回值  
 如果函数成功，则为非零值；否则为  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[PrintWindow](http://msdn.microsoft.com/library/windows/desktop/dd162869)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="redrawwindow"></a>CWnd::RedrawWindow  
 更新的指定的矩形或在给定的窗口的客户端区域的区域。  
  
```  
BOOL RedrawWindow(
    LPCRECT lpRectUpdate = NULL,  
    CRgn* prgnUpdate = NULL,  
    UINT flags = RDW_INVALIDATE | RDW_UPDATENOW | RDW_ERASE);
```  
  
### <a name="parameters"></a>参数  
 `lpRectUpdate`  
 指向[RECT 结构](../../mfc/reference/rect-structure1.md)包含更新矩形的坐标。 如果忽略此参数*prgnUpdate*包含有效的区域句柄。  
  
 *prgnUpdate*  
 标识更新区域。 如果这两个*prgnUpdate*和`lpRectUpdate`是**NULL**，整个工作区添加到更新区域。  
  
 `flags`  
 以下标记用于以使其无效窗口︰  
  
- **RDW_ERASE**导致窗口接收[WM_ERASEBKGND](http://msdn.microsoft.com/library/windows/desktop/ms648055)消息时重新绘制窗口。 **RDW_INVALIDATE**标志还必须指定; 否则为**RDW_ERASE**不起作用。  
  
- **RDW_FRAME**会导致与接收该更新区域相交的窗口的非工作区的任何部分[WM_NCPAINT](http://msdn.microsoft.com/library/windows/desktop/dd145212)消息。 **RDW_INVALIDATE**标志还必须指定; 否则为**RDW_FRAME**不起作用。  
  
- **RDW_INTERNALPAINT**导致[WM_PAINT](http://msdn.microsoft.com/library/windows/desktop/dd145213)消息被发送到窗口而不考虑该窗口是否包含一个无效的区域。  
  
- **RDW_INVALIDATE** Invalidate`lpRectUpdate`或*prgnUpdate* (只能有一个可能不是**NULL**)。 如果两者都**NULL**，整个窗口将会失效。  
  
 以下标志用于验证窗口︰  
  
- **RDW_NOERASE**取消任何挂起的`WM_ERASEBKGND`消息。  
  
- **RDW_NOFRAME**取消任何挂起的`WM_NCPAINT`消息。 此标志必须与使用**RDW_VALIDATE**和通常用于**RDW_NOCHILDREN**。 应小心，使用此选项，因为它无法正确绘制可以防止一个窗口的部分。  
  
- **RDW_NOINTERNALPAINT**取消任何挂起的内部`WM_PAINT`消息。 此标志不会影响`WM_PAINT`从无效的区域生成的消息。  
  
- **RDW_VALIDATE**验证`lpRectUpdate`或*prgnUpdate* (只能有一个可能不是**NULL**)。 如果两者都**NULL**，验证整个窗口。 此标志不会影响内部`WM_PAINT`消息。  
  
 下列标志控制何时重新绘制时发生。 绘制不会执行`RedrawWindow`作用，除非指定了一个这些位。  
  
- **RDW_ERASENOW**会导致受影响的 windows (所指定的**RDW_ALLCHILDREN**和**RDW_NOCHILDREN**标志) 接收`WM_NCPAINT`和`WM_ERASEBKGND`消息，如有必要，函数返回前。 `WM_PAINT`消息会延迟。  
  
- **RDW_UPDATENOW**会导致受影响的 windows (所指定的**RDW_ALLCHILDREN**和**RDW_NOCHILDREN**标志) 接收`WM_NCPAINT`， `WM_ERASEBKGND`，和`WM_PAINT`消息，如有必要，函数返回前。  
  
 默认情况下，windows 受`RedrawWindow`函数取决于是否指定的窗口具有**WS_CLIPCHILDREN**样式。 子窗口**WS_CLIPCHILDREN** windows 不会受到影响。 但是，这些窗口不**WS_CLIPCHILDREN**窗口都是以递归方式验证或直到失效**WS_CLIPCHILDREN**遇到窗口。 以下标志控制哪些 windows 受`RedrawWindow`函数︰  
  
- **RDW_ALLCHILDREN**如果有重操作中包括子窗口。  
  
- **RDW_NOCHILDREN**排除子窗口，如果有的话，从重的操作。  
  
### <a name="return-value"></a>返回值  
 如果窗口已成功，则重绘则为非 0否则为 0。  
  
### <a name="remarks"></a>备注  
 当`RedrawWindow`使用成员函数要使之无效的桌面窗口中，一部分该窗口不会收到[WM_PAINT](http://msdn.microsoft.com/library/windows/desktop/dd145213)消息。 若要重新绘制桌面，应用程序应使用[CWnd::ValidateRgn](#validatergn)， [CWnd::InvalidateRgn](#invalidatergn)， [CWnd::UpdateWindow](#updatewindow)，或[RedrawWindow](http://msdn.microsoft.com/library/windows/desktop/dd162911)  
  
##  <a name="reflectchildnotify"></a>CWnd::ReflectChildNotify  
 由框架从调用此消息函数[OnChildNotify](#onchildnotify)。  
  
```  
BOOL ReflectChildNotify(
    UINT message,  
    WPARAM wParam,  
    LPARAM lParam,  
    LRESULT* pResult);
```  
  
### <a name="parameters"></a>参数  
 `message`  
 指定的消息才会反映。  
  
 `wParam`  
 指定消息相关的其他信息。  
  
 `lParam`  
 指定消息相关的其他信息。  
  
 `pResult`  
 生成要返回的父窗口的子窗口的结果。 可以是**NULL**。  
  
### <a name="return-value"></a>返回值  
 **TRUE**如果消息已反映; 否则为**FALSE**。  
  
### <a name="remarks"></a>备注  
 它是一个帮助器函数，这反映了`message`与其数据源。  
  
 反映直接发送消息[CWnd::OnWndMsg](#onwndmsg)或[CCmdTarget::OnCmdMsg](../../mfc/reference/ccmdtarget-class.md#oncmdmsg)。  
  
 有关消息反射的详细信息，请参阅[处理反射消息](../../mfc/handling-reflected-messages.md)。  
  
##  <a name="reflectlastmsg"></a>CWnd::ReflectLastMsg  
 此成员函数调用由框架反映子窗口到最后一条消息。  
  
```  
static BOOL PASCAL ReflectLastMsg(
    HWND hWndChild,  
    LRESULT* pResult = NULL);
```  
  
### <a name="parameters"></a>参数  
 `hWndChild`  
 子窗口的句柄。  
  
 `pResult`  
 生成要返回的父窗口的子窗口的结果。 可以是**NULL**。  
  
### <a name="return-value"></a>返回值  
 如果该消息已处理; 则为非 0否则为 0。  
  
### <a name="remarks"></a>备注  
 此成员函数将调用[SendChildNotifyLastMsg](#sendchildnotifylastmsg)如果窗口通过标识`hWndChild`OLE 控件或永久的映射中的窗口。  
  
 有关消息反射的详细信息，请参阅[处理反射消息](../../mfc/handling-reflected-messages.md)。  
  
##  <a name="releasedc"></a>Cwnd:: Releasedc  
 释放设备上下文，从而使它用于其他应用程序。  
  
```  
int ReleaseDC(CDC* pDC);
```  
  
### <a name="parameters"></a>参数  
 `pDC`  
 标识要释放的设备上下文。  
  
### <a name="return-value"></a>返回值  
 如果成功，则不为 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 效果`ReleaseDC`成员函数取决于设备上下文类型。  
  
 应用程序必须调用`ReleaseDC`每次调用的成员函数[GetWindowDC](#getwindowdc)成员函数和每次调用[GetDC](#getdc)成员函数。  
  
##  <a name="repositionbars"></a>CWnd::RepositionBars  
 调用以重新定位并调整大小的窗口工作区中的控件条。  
  
```  
void RepositionBars(UINT nIDFirst,
    UINT nIDLast,
    UINT nIDLeftOver,
    UINT nFlag = reposDefault,
    LPRECT lpRectParam = NULL,
    LPCRECT lpRectClient = NULL,
    BOOL bStretch = TRUE) ;  
```  
  
### <a name="parameters"></a>参数  
 `nIDFirst`  
 第一个 ID 控制条来重新定位并调整大小的范围中。  
  
 `nIDLast`  
 要重新定位并调整大小的控件条范围中的最后一个的 ID。  
  
 `nIDLeftOver`  
 指定的填充客户端区域的其余部分的窗格中的 ID。  
  
 `nFlag`  
 可以具有以下值之一︰  
  
- **CWnd::reposDefault**执行控件条的布局。 `lpRectParam`未使用，可以为**NULL**。  
  
- **CWnd::reposQuery**未完成的控件条布局; 而是`lpRectParam`像最初实际执行布局使用工作区的大小初始化。  
  
- **CWnd::reposExtra**将的值相加`lpRectParam`的客户端区域`nIDLast`，还会执行布局。  
  
 `lpRectParam`  
 指向[RECT 结构](../../mfc/reference/rect-structure1.md); 其中的使用情况取决于值`nFlag`。  
  
 *lpRectClient*  
 指向[RECT 结构](../../mfc/reference/rect-structure1.md)包含可用客户端区域。 如果**NULL**，将使用窗口的工作区。  
  
 `bStretch`  
 指示是否应被栏拉伸到的帧的大小。  
  
### <a name="remarks"></a>备注  
 `nIDFirst`和`nIDLast`参数定义的工作区中重新定位控件条 Id 的范围。 `nIDLeftOver`参数指定的子窗口 （通常视图） 重新定位并调整大小以填充控件条由不填充的客户端区域的其余部分的 ID。  
  
##  <a name="runmodalloop"></a>CWnd::RunModalLoop  
 调用此成员函数可检索、 转换或调度消息之前[ContinueModal](#continuemodal)返回**FALSE**。  
  
```  
int RunModalLoop(DWORD dwFlags = 0);
```  
  
### <a name="parameters"></a>参数  
 `dwFlags`  
 指定要发送的 Windows 消息。 可以是以下值之一：  
  
- **MLF_NOIDLEMSG**不要发送[WM_ENTERIDLE](http://msdn.microsoft.com/library/windows/desktop/ms645422)到父级的消息。  
  
- **MLF_NOKICKIDLE**不要发送**WM_KICKIDLE**到窗口的消息。  
  
- **MLF_SHOWONIDLE**消息队列进入空闲状态时显示窗口。  
  
### <a name="return-value"></a>返回值  
 指定的值`nResult`参数传递给[EndModalLoop](#endmodalloop)成员函数，然后将其用于将结束模式循环。  
  
### <a name="remarks"></a>备注  
 默认情况下，`ContinueModal`返回**FALSE**后`EndModalLoop`称为。 返回的值作为提供`nResult`到`EndModalLoop`。  
  
##  <a name="screentoclient"></a>CWnd::ScreenToClient  
 将显示中的给定点或矩形的屏幕坐标转换为客户端坐标。  
  
```  
void ScreenToClient(LPPOINT lpPoint) const;  void ScreenToClient(LPRECT lpRect) const;  
```  
  
### <a name="parameters"></a>参数  
 `lpPoint`  
 指向[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象或[点结构](../../mfc/reference/point-structure1.md)，包含要转换的屏幕坐标。  
  
 `lpRect`  
 指向[CRect](../../atl-mfc-shared/reference/crect-class.md)对象或[RECT 结构](../../mfc/reference/rect-structure1.md)，包含要转换的屏幕坐标。  
  
### <a name="remarks"></a>备注  
 `ScreenToClient`成员函数将替换中给定的屏幕坐标`lpPoint`或`lpRect`与客户端坐标。 新的坐标是相对于窗口左上角`CWnd`工作区。  
  
### <a name="example"></a>示例  
  请参阅示例[CListCtrl::GetItemRect](../../mfc/reference/clistctrl-class.md#getitemrect)。  
  
##  <a name="scrollwindow"></a>CWnd::ScrollWindow  
 将当前的客户端区域的内容滚动`CWnd`对象。  
  
```  
void ScrollWindow(
    int xAmount,  
    int yAmount,  
    LPCRECT lpRect = NULL,  
    LPCRECT lpClipRect = NULL);
```  
  
### <a name="parameters"></a>参数  
 `xAmount`  
 指定量，以与设备单位，水平滚动。 此参数必须是负值可向左滚动。  
  
 `yAmount`  
 指定量，以与设备单位的垂直滚动。 此参数必须是负值可向上滚动。  
  
 `lpRect`  
 指向[CRect](../../atl-mfc-shared/reference/crect-class.md)对象或[RECT 结构](../../mfc/reference/rect-structure1.md)，它指定要滚动的客户端区域的部分。 如果`lpRect`是**NULL**，滚动整个工作区。 如果光标矩形相交，滚动矩形重新定位脱字号。  
  
 `lpClipRect`  
 指向`CRect`对象或`RECT`结构，它指定要向下滚动的剪辑矩形。 滚动只有此矩形内的位。 外部将此矩形的 bits 不会受到影响，即使它们处于`lpRect`矩形。 如果`lpClipRect`是**NULL**，没有剪辑执行滚动矩形上。  
  
### <a name="remarks"></a>备注  
 如果脱字号位于`CWnd`在滚动`ScrollWindow`自动隐藏插入符号以防止它被擦除，然后在完成 scroll 后还原脱字号。 相应地调整脱字号位置。  
  
 区域发现了这些`ScrollWindow`成员函数不重新绘制但并入当前`CWnd`对象的更新区域。 应用程序最终将收到[WM_PAINT](http://msdn.microsoft.com/library/windows/desktop/dd145213)条消息，通知它区域需要重新绘制。 若要完成滚动的同时重绘未覆盖的区域，调用[UpdateWindow](#updatewindow)后立即调用成员函数`ScrollWindow`。  
  
 如果`lpRect`是**NULL**，窗口中任何子窗口的位置上均按指定的量偏移`xAmount`和`yAmount`，和中的任何无效 （上色） 区域`CWnd`还偏移量。 `ScrollWindow`当将更快`lpRect`是**NULL**。  
  
 如果`lpRect`不**NULL**，子窗口的位置不是中的已更改，和无效区域`CWnd`不偏移量。 若要防止更新问题时`lpRect`不**NULL**，调用`UpdateWindow`成员函数来重绘`CWnd`之前调用`ScrollWindow`。  
  
##  <a name="scrollwindowex"></a>CWnd::ScrollWindowEx  
 滚动窗口的客户端区域的内容。  
  
```  
int ScrollWindowEx(
    int dx,  
    int dy,  
    LPCRECT lpRectScroll,  
    LPCRECT lpRectClip,  
    CRgn* prgnUpdate,  
    LPRECT lpRectUpdate,  
    UINT flags);
```  
  
### <a name="parameters"></a>参数  
 `dx`  
 指定量，以与设备单位，水平滚动。 此参数必须具有负值可向左滚动。  
  
 *dy*  
 指定量，以与设备单位的垂直滚动。 此参数必须具有负值可向上滚动。  
  
 `lpRectScroll`  
 指向[RECT 结构](../../mfc/reference/rect-structure1.md)，它指定要滚动的客户端区域的部分。 如果此参数为**NULL**，滚动整个工作区。  
  
 `lpRectClip`  
 指向`RECT`结构，它指定要向下滚动的剪辑矩形。 此结构将优先于指向矩形`lpRectScroll`。 滚动只有此矩形内的位。 外部将此矩形的 bits 不会受到影响，即使它们处于`lpRectScroll`矩形。 如果此参数为**NULL**，没有剪辑执行滚动矩形上。  
  
 *prgnUpdate*  
 标识被修改，以保存滚动失效的区域的区域。 此参数可以为**NULL**。  
  
 `lpRectUpdate`  
 指向`RECT`结构，它将接收滚动失效的矩形的边界。 此参数可以为**NULL**。  
  
 `flags`  
 可以具有以下值之一︰  
  
- **SW_ERASE**时使用指定**SW_INVALIDATE**，通过发送清除新失效的区域[WM_ERASEBKGND](http://msdn.microsoft.com/library/windows/desktop/ms648055)消息发送到窗口。  
  
- **SW_INVALIDATE**使由标识的区域无效*prgnUpdate*后滚动。  
  
- **SW_SCROLLCHILDREN**滚动相交的矩形的指向的所有子窗口`lpRectScroll`中指定的像素数由`dx`和*dy*。 Windows 会将发送[WM_MOVE](http://msdn.microsoft.com/library/windows/desktop/ms632631)相交的所有子窗口的消息`lpRectScroll`，即使它们不会移动。 当滚动子窗口和光标矩形相交滚动矩形时重新定位脱字号。  
  
### <a name="return-value"></a>返回值  
 返回值是**SIMPLEREGION** （矩形失效的区域）， **COMPLEXREGION** （非矩形失效的区域; 重叠矩形，） 或**NULLREGION** （没有失效的区域），如果该函数成功; 否则返回值是**错误**。  
  
### <a name="remarks"></a>备注  
 此函数是类似于[ScrollWindow](http://msdn.microsoft.com/library/windows/desktop/bb787591)函数，与一些其他功能。  
  
 如果[SW_INVALIDATE](http://msdn.microsoft.com/library/windows/desktop/bb787593)和[SW_ERASE](http://msdn.microsoft.com/library/windows/desktop/bb787593)未指定，`ScrollWindowEx`成员函数不无效远离滚动区域。 如果设置了这些标志任一项，`ScrollWindowEx`使此区域无效。 区域将不更新，直至应用程序调用[UpdateWindow](http://msdn.microsoft.com/library/windows/desktop/dd145167)成员函数，调用[RedrawWindow](http://msdn.microsoft.com/library/windows/desktop/dd162911)成员函数 (指定[RDW_UPDATENOW](http://msdn.microsoft.com/library/windows/desktop/dd162911)或[RDW_ERASENOW](http://msdn.microsoft.com/library/windows/desktop/dd162911))，或检索[WM_PAINT](http://msdn.microsoft.com/library/windows/desktop/dd145213)从应用程序队列的消息。  
  
 如果窗口具有[WS_CLIPCHILDREN](http://msdn.microsoft.com/library/windows/desktop/ms632679)样式、 返回由指定的区域*prgnUpdate*和`lpRectUpdate`表示总必须更新，包括任何区域中需要更新的子窗口的滚动窗口的区域。  
  
 如果[SW_SCROLLCHILDREN](http://msdn.microsoft.com/library/windows/desktop/bb787593)指定标志，Windows 将不会正确更新屏幕如果滚动子窗口的一部分。 位于源矩形外滚动的子窗口的部分将不被删除，将不会重绘正确在其新的目标中。 使用[DeferWindowPos](http://msdn.microsoft.com/library/windows/desktop/ms632681)移动子窗口不完全在位于 Windows 函数`lpRectScroll`矩形。 如果重新定位光标**SW_SCROLLCHILDREN**标志设置和插入符号矩形相交滚动矩形。  
  
 所有的输入和输出坐标 (有关`lpRectScroll`， `lpRectClip`， `lpRectUpdate`，和*prgnUpdate*) 都被认为是在客户端坐标中，而不考虑窗口是否具有**CS_OWNDC**或**CS_CLASSDC**类样式。 使用[LPtoDP](http://msdn.microsoft.com/library/windows/desktop/dd145042)和[DPtoLP](http://msdn.microsoft.com/library/windows/desktop/dd162474) Windows 函数要转换到和从逻辑坐标中，如有必要。  
  
##  <a name="sendchildnotifylastmsg"></a>CWnd::SendChildNotifyLastMsg  
 框架提供了一条通知消息向子窗口，在父窗口中，以便子窗口可以处理任务由调用此成员函数。  
  
```  
BOOL SendChildNotifyLastMsg(LRESULT* pResult = NULL);
```  
  
### <a name="parameters"></a>参数  
 `pResult`  
 生成要返回的父窗口的子窗口的结果。  
  
### <a name="return-value"></a>返回值  
 如果子窗口进行了处理到其父; 发送的消息则不为否则为 0。  
  
### <a name="remarks"></a>备注  
 `SendChildNotifyLastMsg`如果它是将反映的消息，请将当前消息发送到源。  
  
 有关消息反射的详细信息，请参阅[处理反射消息](../../mfc/handling-reflected-messages.md)。  
  
##  <a name="senddlgitemmessage"></a>CWnd::SendDlgItemMessage  
 向控件发送一条消息。  
  
```  
LRESULT SendDlgItemMessage(
    int nID,  
    UINT message,  
    WPARAM wParam = 0,  
    LPARAM lParam = 0);
```  
  
### <a name="parameters"></a>参数  
 `nID`  
 指定将接收消息的对话框控件的标识符。  
  
 `message`  
 指定要发送的消息。  
  
 `wParam`  
 指定消息相关的其他信息。  
  
 `lParam`  
 指定消息相关的其他信息。  
  
### <a name="return-value"></a>返回值  
 指定如果找不到该控件返回控件的窗口过程，则为 0 的值。  
  
### <a name="remarks"></a>备注  
 `SendDlgItemMessage`成员函数不返回之前处理消息。  
  
 使用`SendDlgItemMessage`等同于获取`CWnd`* 到给定的控件并调用[SendMessage](#sendmessage)成员函数。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 113](../../mfc/reference/codesnippet/cpp/cwnd-class_54.cpp)]  
  
##  <a name="sendmessage"></a>CWnd::SendMessage  
 将指定的消息发送到此窗口。  
  
```  
LRESULT SendMessage(
    UINT message,  
    WPARAM wParam = 0,  
    LPARAM lParam = 0);
```  
  
### <a name="parameters"></a>参数  
 `message`  
 指定要发送的消息。  
  
 `wParam`  
 指定消息相关的其他信息。  
  
 `lParam`  
 指定消息相关的其他信息。  
  
### <a name="return-value"></a>返回值  
 消息处理中; 的结果其值取决于发送的消息。  
  
### <a name="remarks"></a>备注  
 **SendMessage**成员函数直接调用窗口过程，且不返回直到处理完该窗口过程的消息。 这是与此相反[PostMessage](#postmessage)成员函数，其将邮件放在窗口的消息队列并立即返回。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 101](../../mfc/reference/codesnippet/cpp/cwnd-class_41.cpp)]  
  
##  <a name="sendmessagetodescendants"></a>CWnd::SendMessageToDescendants  
 调用此成员函数可将指定的 Windows 消息发送到所有子代窗口。  
  
```  
void SendMessageToDescendants(
    UINT message,  
    WPARAM wParam = 0,  
    LPARAM lParam = 0,  
    BOOL bDeep = TRUE,  
    BOOL bOnlyPerm = FALSE);
```  
  
### <a name="parameters"></a>参数  
 `message`  
 指定要发送的消息。  
  
 `wParam`  
 指定消息相关的其他信息。  
  
 `lParam`  
 指定消息相关的其他信息。  
  
 `bDeep`  
 指定要搜索到的级别。 如果**TRUE**，以递归方式搜索所有子级; 如果**FALSE**，都搜索仅将直属子级。  
  
 `bOnlyPerm`  
 指定临时 windows 是否将接收此消息。 如果**TRUE**，临时 windows 可以接收消息; 如果**FALSE**，只有永久 windows 接收消息。 临时 windows 上的详细信息请参阅[技术说明 3](../../mfc/tn003-mapping-of-windows-handles-to-objects.md)。  
  
### <a name="remarks"></a>备注  
 如果`bDeep`是**FALSE**，消息发送只到窗口的直属子对象; 否则将消息发送到所有子代窗口。  
  
 如果`bDeep`和`bOnlyPerm`是**TRUE**，以下临时 windows 继续搜索。 在这种情况下，只有在搜索过程中遇到永久 windows 收到的消息。 如果`bDeep`是**FALSE**，消息只被发送到窗口的直属子对象。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 114](../../mfc/reference/codesnippet/cpp/cwnd-class_55.cpp)]  
  
##  <a name="sendnotifymessage"></a>CWnd::SendNotifyMessage  
 将指定的消息发送到窗口。  
  
```  
BOOL SendNotifyMessage(
    UINT message,  
    WPARAM wParam,  
    LPARAM lParam);
```  
  
### <a name="parameters"></a>参数  
 `message`  
 指定要发送的消息。  
  
 `wParam`  
 指定消息相关的其他信息。  
  
 `lParam`  
 指定消息相关的其他信息。  
  
### <a name="return-value"></a>返回值  
 如果该函数成功，则为非 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 如果窗口由调用线程，`SendNotifyMessage`窗口调用窗口过程，且不返回之前的窗口过程已处理完该消息。 如果该窗口由另一线程，创建`SendNotifyMessage`消息传递到窗口过程并返回立即; 它不会等待完成消息处理的窗口过程。  
  
##  <a name="setactivewindow"></a>CWnd::SetActiveWindow  
 使`CWnd`活动的窗口。  
  
```  
CWnd* SetActiveWindow();
```  
  
### <a name="return-value"></a>返回值  
 以前处于活动状态窗口。  
  
 返回的指针可能是暂时的不应以供稍后使用存储。  
  
### <a name="remarks"></a>备注  
 `SetActiveWindow`应谨慎使用成员函数，因为它允许应用程序在任意接管活动窗口，并输入的焦点。 通常情况下，Windows 将负责所有激活。  
  
##  <a name="setcapture"></a>CWnd::SetCapture  
 使所有后续鼠标输入都发送到当前`CWnd`对象而不考虑光标的位置。  
  
```  
CWnd* SetCapture();
```  
  
### <a name="return-value"></a>返回值  
 指向以前接收所有鼠标输入的窗口对象的指针。 它是`NULL`如果没有此类窗口。 返回的指针可能是暂时的不应以供稍后使用存储。  
  
### <a name="remarks"></a>备注  
 当`CWnd`不再需要所有鼠标输入，应用程序应调用[ReleaseCapture](http://msdn.microsoft.com/library/windows/desktop/ms646261)函数，以便其他 windows 可以接收鼠标输入。  
  
 时捕获鼠标输入时，没有`WM_NCHITTEST`或`WM_SETCURSOR`消息发送到活动的窗口。  
  
##  <a name="setcaretpos"></a>CWnd::SetCaretPos  
 设置脱字号位置。  
  
```  
static void PASCAL SetCaretPos(POINT point);
```  
  
### <a name="parameters"></a>参数  
 `point`  
 指定新的 x 和 y 坐标 （以工作区坐标表示） 插入符号。  
  
### <a name="remarks"></a>备注  
 `SetCaretPos`成员函数将脱字号移仅当归当前任务中的窗口。 `SetCaretPos`指示隐藏插入符号移动插入符号。  
  
 脱字号是共享的资源。 窗口应移动插入符号，如果它不拥有脱字号。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 115](../../mfc/reference/codesnippet/cpp/cwnd-class_56.cpp)]  
  
##  <a name="setclipboardviewer"></a>CWnd::SetClipboardViewer  
 将此窗口添加到的窗口会收到通知的链 (通过`WM_DRAWCLIPBOARD`消息) 每当剪贴板的内容发生了更改。  
  
```  
HWND SetClipboardViewer();
```  
  
### <a name="return-value"></a>返回值  
 如果成功，剪贴板查看器链中下一步的窗口的句柄。 应用程序应该保存此句柄 （作为成员变量可以存储） 和响应剪贴板查看器链消息时使用它。  
  
### <a name="remarks"></a>备注  
 剪贴板查看器链的一部分的窗口必须响应[WM_DRAWCLIPBOARD](#ondrawclipboard)， [WM_CHANGECBCHAIN](#onchangecbchain)，和[WM_DESTROY](#ondestroy)消息并将消息传递到链中的下一个窗口。  
  
 此成员函数将发送`WM_DRAWCLIPBOARD`消息发送到窗口。 由于尚未返回剪贴板查看器链中的下一个窗口的句柄，应用程序不应将传递`WM_DRAWCLIPBOARD`它在调用期间收到的消息`SetClipboardViewer`。  
  
 若要从剪贴板查看器链中删除本身，应用程序必须调用[ChangeClipboardChain](#changeclipboardchain)成员函数。  
  
##  <a name="setdlgctrlid"></a>CWnd::SetDlgCtrlID  
 将窗口 ID 或控件 ID 窗口设置为新值。  
  
```  
int SetDlgCtrlID(int nID);
```  
  
### <a name="parameters"></a>参数  
 `nID`  
 要设置控件的标识符的新值。  
  
### <a name="return-value"></a>返回值  
 窗口中，如果成功，则以前标识符否则为 0。  
  
### <a name="remarks"></a>备注  
 该窗口可以是任何子窗口，而不仅仅是在对话框中的控件。 窗口不能为顶级窗口。  
  
##  <a name="setdlgitemint"></a>CWnd::SetDlgItemInt  
 在对话框中的字符串表示形式指定的整数值到设置的某一给定控件的文本。  
  
```  
void SetDlgItemInt(
    int nID,  
    UINT nValue,  
    BOOL bSigned = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `nID`  
 指定要更改的控件的整数 ID。  
  
 `nValue`  
 指定用于生成项文本的整数值。  
  
 `bSigned`  
 指定是否进行签名或无符号整数值。 如果此参数为**TRUE**，`nValue`进行签名。 如果此参数为**TRUE**和`nValue`小于 0，负号置于之前在字符串中的第一个数字。 如果此参数为**FALSE**，`nValue`是无符号。  
  
### <a name="remarks"></a>备注  
 `SetDlgItemInt`发送[WM_SETTEXT](http://msdn.microsoft.com/library/windows/desktop/ms632644)到给定的控件的消息。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::SetDlgItemText](#setdlgitemtext)。  
  
##  <a name="setdlgitemtext"></a>CWnd::SetDlgItemText  
 设置的标题或拥有的窗口或对话框中的控件的文本。  
  
```  
void SetDlgItemText(
    int nID,  
    LPCTSTR lpszString);
```  
  
### <a name="parameters"></a>参数  
 `nID`  
 标识要设置其文本控件。  
  
 `lpszString`  
 指向[CString](../../atl-mfc-shared/reference/cstringt-class.md)对象或包含要复制到该控件的文本的以 null 结尾的字符串。  
  
### <a name="remarks"></a>备注  
 `SetDlgItemText`发送[WM_SETTEXT](http://msdn.microsoft.com/library/windows/desktop/ms632644)到给定的控件的消息。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 116](../../mfc/reference/codesnippet/cpp/cwnd-class_57.cpp)]  
  
##  <a name="setforegroundwindow"></a>CWnd::SetForegroundWindow  
 将创建窗口的线程置于前台，并激活窗口。  
  
```  
BOOL SetForegroundWindow();
```  
  
### <a name="return-value"></a>返回值  
 如果该函数成功，则为非 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 键盘输入定向到窗口，，各种视觉提示将更改的用户。 前景窗口是用户当前使用的窗口。 前景窗口仅适用于顶级窗口 （框架的窗口或对话框框）。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::FindWindow](#findwindow)。  
  
##  <a name="setfocus"></a>CWnd::SetFocus  
 声明输入焦点。  
  
```  
CWnd* SetFocus();
```  
  
### <a name="return-value"></a>返回值  
 指向以前具有输入的焦点的窗口对象的指针。 它是**NULL**如果没有此类窗口。 返回的指针可能是临时的并且不会存储。  
  
### <a name="remarks"></a>备注  
 输入的焦点将定向到此窗口的所有后续的键盘输入。 任何以前具有输入的焦点的窗口失去它。  
  
 `SetFocus`成员函数将[WM_KILLFOCUS](http://msdn.microsoft.com/library/windows/desktop/ms646282)消息发送到失去输入的焦点的窗口和[WM_SETFOCUS](http://msdn.microsoft.com/library/windows/desktop/ms646283)消息发送到接收到输入的焦点的窗口。 它还会激活窗口或其父级。  
  
 如果当前窗口处于活动状态，但不具有焦点 （即，没有窗口具有焦点时），按任何键将生成消息[WM_SYSCHAR](#onsyschar)， [WM_SYSKEYDOWN](#onsyskeydown)，或[WM_SYSKEYUP](#onsyskeyup)。  
  
##  <a name="setfont"></a>CWnd::SetFont  
 发送`WM_SETFONT`消息发送到窗口以使用指定的字体。  
  
```  
void SetFont(
    CFont* pFont,  
    BOOL bRedraw = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `pFont`  
 指向 `CFont` 对象的指针。  
  
 `bRedraw`  
 `TRUE`对窗口进行重绘紧随其后处理`WM_SETFONT`消息; 否则为`FALSE`。  
  
### <a name="remarks"></a>备注  
 此方法无任何效果，除非窗口处理`WM_SETFONT`消息。 很多 MFC 类派生自`CWnd`处理此消息，因为它们附加到的预定义的窗口类，包括消息处理程序`WM_SETFONT`消息。 若要使用此方法，派生自的类`CWnd`必须定义的方法处理程序`WM_SETFONT`消息。  
  
##  <a name="seticon"></a>CWnd::SetIcon  
 调用此成员函数将句柄设置为一个特定的图标，如由标识`hIcon`。  
  
```  
HICON SetIcon(
    HICON hIcon,  
    BOOL bBigIcon);
```  
  
### <a name="parameters"></a>参数  
 `hIcon`  
 前一个图标句柄。  
  
 `bBigIcon`  
 如果通过 32 像素的图标指定 32 像素**TRUE**; 如果由 16 像素图标指定 16 像素**FALSE**。  
  
### <a name="return-value"></a>返回值  
 图标句柄。  
  
### <a name="remarks"></a>备注  
 注册窗口类时，它将选择一个图标。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::GetSystemMenu](#getsystemmenu)。  
  
##  <a name="setlayeredwindowattributes"></a>CWnd::SetLayeredWindowAttributes  
 设置分层窗口的不透明度和透明度颜色键。  
  
```  
BOOL SetLayeredWindowAttributes(
    COLORREF crKey,  
    BYTE bAlpha,  
    DWORD dwFlags);
```  
  
### <a name="parameters"></a>参数  
 `crKey`  
 指向**COLORREF**值，该值指定用于撰写分层的窗口的透明度颜色键。 将透明绘制成这种颜色窗口的所有像素。 若要生成**COLORREF**，使用 RGB 宏。  
  
 `bAlpha`  
 用于描述分层窗口的不透明度的 alpha 值。 有关详细信息，请参阅**SourceConstantAlpha**的成员[BLENDFUNCTION](http://msdn.microsoft.com/library/windows/desktop/dd183393)结构。 当`bAlpha`为 0，则该窗口是完全透明。 当`bAlpha`为 255，窗口是不透明。  
  
 `dwFlags`  
 指定要采取的操作。 此参数可以为一个或多个以下的值。 有关可能的值的列表，请参阅[SetLayeredWindowAttributes](http://msdn.microsoft.com/library/windows/desktop/ms633540)。  
  
### <a name="return-value"></a>返回值  
 如果函数成功，则为非零值；否则为  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[SetLayeredWindowAttributes](http://msdn.microsoft.com/library/windows/desktop/ms633540)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="setmenu"></a>CWnd::SetMenu  
 将当前菜单设置为指定菜单。  
  
```  
BOOL SetMenu(CMenu* pMenu);
```  
  
### <a name="parameters"></a>参数  
 `pMenu`  
 标识新的菜单。 如果此参数为**NULL**，删除当前菜单。  
  
### <a name="return-value"></a>返回值  
 如果更改菜单; 则为非 0否则为 0。  
  
### <a name="remarks"></a>备注  
 导致重绘以反映菜单更改窗口。  
  
 `SetMenu`不会破坏以前菜单。 应用程序应调用[CMenu::DestroyMenu](../../mfc/reference/cmenu-class.md#destroymenu)成员函数来完成此任务。  
  
### <a name="example"></a>示例  
  请参阅示例[CMenu::LoadMenu](../../mfc/reference/cmenu-class.md#loadmenu)。  
  
##  <a name="setowner"></a>CWnd::SetOwner  
 将当前窗口的所有者设置为指定的窗口对象。  
  
```  
void SetOwner(CWnd* pOwnerWnd);
```  
  
### <a name="parameters"></a>参数  
 *pOwnerWnd*  
 标识的窗口对象的新所有者。 如果此参数为**NULL**，窗口对象的没有所有者。  
  
### <a name="remarks"></a>备注  
 此所有者然后可以接收来自当前窗口对象的命令消息。 默认情况下，当前窗口的父级是其所有者。  
  
 通常很有用无关窗口层次结构的窗口对象之间建立连接。 例如， [CToolBar](../../mfc/reference/ctoolbar-class.md)将通知发送到其父级而不是其所有者。 这样，工具栏将通知发送到另一个窗口 （如就地框架窗口中） 时成为一个窗口 （如 OLE 容器应用程序窗口中） 的子级。 此外，服务器窗口在停用或激活期间在就地编辑，任何窗口拥有的框架窗口隐藏或显示。 通过调用显式设置了此所有权`SetOwner`。  
  
 此函数的所有权概念是不同的所有权概念[GetWindow](http://msdn.microsoft.com/library/windows/desktop/ms633515)。  
  
##  <a name="setparent"></a>CWnd::SetParent  
 更改子窗口的父窗口。  
  
```  
CWnd* SetParent(CWnd* pWndNewParent);
```  
  
### <a name="parameters"></a>参数  
 *pWndNewParent*  
 标识新的父窗口。  
  
### <a name="return-value"></a>返回值  
 指向上一个父窗口对象如果成功的指针。 返回的指针可能是暂时的不应以供稍后使用存储。  
  
### <a name="remarks"></a>备注  
 如果子窗口处于可见时，Windows 将执行的相应重绘和重新绘制。  
  
##  <a name="setproperty"></a>CWnd::SetProperty  
 调用此成员函数可设置指定的 OLE 控件属性`dwDispID`。  
  
```  
void AFX_CDECL SetProperty(
    DISPID dwDispID,  
    VARTYPE vtProp, ...);
```  
  
### <a name="parameters"></a>参数  
 `dwDispID`  
 标识要设置的属性。  
  
 `vtProp`  
 指定要设置的属性的类型。 有关可能的值，请参阅备注部分[coledispatchdriver:: Invokehelper](../../mfc/reference/coledispatchdriver-class.md#invokehelper)。  
  
 *...*  
 由 `vtProp`指定的类型的单个参数。  
  
### <a name="remarks"></a>备注  
  
> [!NOTE]
>  应仅在调用此函数`CWnd`表示 OLE 控件的对象。  
  
 有关此成员函数使用 OLE 控件容器的信息的详细信息，请参阅文章[ActiveX 控件容器︰ 将 ActiveX 控件编程 ActiveX 控件容器中的](../../mfc/programming-activex-controls-in-a-activex-control-container.md)。  
  
##  <a name="setredraw"></a>CWnd::SetRedraw  
 应用程序调用`SetRedraw`以允许更改要重新绘制或以防止更改重绘。  
  
```  
void SetRedraw(BOOL bRedraw = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `bRedraw`  
 指定重绘标志的状态。 如果此参数为**TRUE**，已设置的重绘标志; 如果**FALSE**，清除该标记。  
  
### <a name="remarks"></a>备注  
 此成员函数设置或清除重绘标志。 在重绘标志已清除，内容将不会更新每项更改后，并且将不进行重新绘制直到重绘标志设置。 例如，需要将多个项添加到列表框中的应用程序可以清除重绘标志、 添加项，并将重绘标志。 最后，应用程序可以调用[Invalidate](#invalidate)或[InvalidateRect](#invalidaterect)成员函数可以使列表框进行重新绘制。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 117](../../mfc/reference/codesnippet/cpp/cwnd-class_58.cpp)]  
  
##  <a name="setscrollinfo"></a>CWnd::SetScrollInfo  
 调用此成员函数可对设置的信息`SCROLLINFO`结构维护的有关滚动条。  
  
```  
BOOL SetScrollInfo(
    int nBar,  
    LPSCROLLINFO lpScrollInfo,  
    BOOL bRedraw = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `nBar`  
 指定滚动条的控件或窗口的非工作区的一部分。 如果它是的非工作区的一部分，nBar 还指明是否滚动条位于水平、 垂直或两者。 它必须是以下项之一︰  
  
- **SB_CTL**包含滚动条控件的参数。 `m_hWnd`数据成员必须是滚动条控件的句柄。  
  
- **SB_HORZ**指定该窗口是水平滚动条。  
  
- **SB_VERT**指定该窗口是垂直滚动条。  
  
 `lpScrollInfo`  
 指向的指针[SCROLLINFO](http://msdn.microsoft.com/library/windows/desktop/bb787537)结构。 请参阅[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]有关此结构的详细信息。  
  
 `bRedraw`  
 指定是否重绘滚动条，以反映新的位置。 如果`bRedraw`是**TRUE**，在重绘滚动条。 如果它是**FALSE**，它不在重绘。 默认情况下重绘滚动条。  
  
### <a name="return-value"></a>返回值  
 如果成功，返回是**TRUE**。 否则，它是**FALSE**。  
  
### <a name="remarks"></a>备注  
 [SCROLLINFO](http://msdn.microsoft.com/library/windows/desktop/bb787537)结构包含有关滚动条，包括最小值和最大滚动位置、 页大小和滚动框 （缩略图） 的位置的信息。 请参阅`SCROLLINFO`结构中的主题[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]有关更改结构的默认值的详细信息。  
  
 MFC Windows 消息处理程序指示滚动条位置[CWnd::OnHScroll](#onhscroll)和[CWnd::OnVScroll](#onvscroll)，提供只有 16 位的位置数据。 [GetScrollInfo](#getscrollinfo)和`SetScrollInfo`提供 32 位的滚动条位置数据。 因此，应用程序可以调用`GetScrollInfo`处理任一时`CWnd::OnHScroll`或`CWnd::OnVScroll`获取 32 位滚动条位置数据。  
  
> [!NOTE]
> [CWnd::GetScrollInfo](#getscrollinfo)使应用程序可以使用 32 位滚动条位置。  
  
##  <a name="setscrollpos"></a>CWnd::SetScrollPos  
 设置滚动框的当前位置，并请求，如果重绘滚动条以反映滚动框的新位置。  
  
```  
int SetScrollPos(
    int nBar,  
    int nPos,  
    BOOL bRedraw = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `nBar`  
 指定要设置的滚动条。 此参数可以为以下方法之一︰  
  
- **SB_HORZ**设置窗口的水平滚动条中滚动框的位置。  
  
- **SB_VERT**设置窗口的垂直滚动条中滚动框的位置。  
  
 `nPos`  
 指定滚动框的新位置。 它必须在滚动的范围内。  
  
 `bRedraw`  
 指定是否重绘滚动条，以反映新的滚动框位置。 如果此参数为**TRUE**，滚动条重新绘制; 如果**FALSE**，滚动条不重新绘制。  
  
### <a name="return-value"></a>返回值  
 滚动框的前一个位置。  
  
### <a name="remarks"></a>备注  
 设置`bRedraw`到**FALSE**很有用，只要将通过对另一个函数的后续调用重绘滚动条。  
  
##  <a name="setscrollrange"></a>CWnd::SetScrollRange  
 设置给定滚动条的最小和最大位置值。  
  
```  
void SetScrollRange(
    int nBar,  
    int nMinPos,  
    int nMaxPos,  
    BOOL bRedraw = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `nBar`  
 指定要设置的滚动条。 此参数可以是以下值︰  
  
- **SB_HORZ**设置窗口的水平滚动条的范围。  
  
- **SB_VERT**设置窗口的垂直滚动条的范围。  
  
 `nMinPos`  
 指定滚动位置的最小。  
  
 `nMaxPos`  
 指定滚动位置的最大值。  
  
 `bRedraw`  
 指定是否重绘滚动条，以反映更改。 如果`bRedraw`是**TRUE**，滚动条在重绘; 如果**FALSE**，滚动条不重绘。  
  
### <a name="remarks"></a>备注  
 它还可用于隐藏或显示标准滚动条。  
  
 应用程序不应调用此函数可在处理滚动条通知消息时隐藏滚动条。  
  
 如果调用`SetScrollRange`紧随调用[SetScrollPos](#setscrollpos)成员函数，`bRedraw`中的参数`SetScrollPos`成员函数应为 0 将阻止从正在两次绘制滚动条。  
  
 标准的滚动条的默认范围为 0 到 100 之间。 滚动条控件的默认范围为空 (同时`nMinPos`和`nMaxPos`值为 0)。 指定的值之间的差异`nMinPos`和`nMaxPos`不能大于**INT_MAX**。  
  
##  <a name="settimer"></a>CWnd::SetTimer  
 安装系统计时器。  
  
```  
UINT_PTR SetTimer(
    UINT_PTR nIDEvent,  
    UINT nElapse,  
    void (CALLBACK* lpfnTimer)(HWND,  
    UINT, 
    UINT_PTR, 
    DWORD));
```  
  
### <a name="parameters"></a>参数  
 `nIDEvent`  
 指定非零计时器标识符。 如果计时器标识符是唯一的则在此相同的值返回`SetTimer`。 否则为`SetTimer`确定新的唯一值并返回的。 窗口计时器 （其 NULL 回调函数），此值必须是唯一仅针对与当前窗口相关联的其他 windows 计时器。 回调计时器，值必须是唯一的所有进程中的所有计时器。 因此，当创建回调计时器，它都更有可能，则返回的值可能不同于你指定的值。  
  
 `nElapse`  
 指定的超时值或间隔，以毫秒为单位。  
  
 `lpfnTimer`  
 指定的应用程序提供的地址`TimerProc`处理的回调函数[WM_TIMER](http://msdn.microsoft.com/library/windows/desktop/ms644902)消息。 如果此参数为`NULL`、`WM_TIMER`消息放置应用程序的消息队列中并由处理`CWnd`对象。  
  
### <a name="return-value"></a>返回值  
 如果该函数成功，新的计时器的计时器标识符。 此值可能或可能不等于中传递的值`nIDEvent`参数。 应用程序应始终传递返回值以[KillTimer](#killtimer)成员函数以终止计时器。 如果成功，则非零否则为为 0。  
  
### <a name="remarks"></a>备注  
 指定的间隔值，并且每次间隔结束，则系统将过帐`WM_TIMER`向安装的应用程序的安装消息队列的消息或消息传递到应用程序定义`TimerProc`回调函数。  
  
 `lpfnTimer`回调函数不需要命名为`TimerProc`，但它必须声明为静态和定义，如下所示。  
  
```  
void CALLBACK TimerProc(
    HWND hWnd,   // handle of CWnd that called SetTimer  
    UINT nMsg,   // WM_TIMER  
    UINT_PTR nIDEvent,   // timer identification  
    DWORD dwTime    // system time);
```  
  
### <a name="example"></a>示例  
 此示例使用`CWnd::SetTimer`， `CWnd::OnTimer`，和`CWnd::KillTimer`来处理`WM_TIMER`消息。 第一个计时器设置为发送`WM_TIMER`消息发送到主框架窗口中每 2 秒`OnStartTimer`。 `OnTimer`事件处理程序句柄`WM_TIMER`主框架窗口的消息。 此方法使 PC 扬声器发出提示音每 2 秒。 第二个计时器在每个 3.75 秒回调函数发送消息。 `OnStopTimer`将这两个计时器停止通过调用`CWnd::KillTimer`为每个计时器 id。  
  
 [!code-cpp[NVC_MFCWindowing # 118](../../mfc/reference/codesnippet/cpp/cwnd-class_59.cpp)]  
  
##  <a name="setwindowcontexthelpid"></a>CWnd::SetWindowContextHelpId  
 调用此成员函数可将帮助上下文标识符与指定窗口相关联。  
  
```  
BOOL SetWindowContextHelpId(DWORD dwContextHelpId);
```  
  
### <a name="parameters"></a>参数  
 `dwContextHelpId`  
 帮助上下文标识符。  
  
### <a name="return-value"></a>返回值  
 如果该函数成功，则为非 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 如果子窗口不具有帮助上下文标识符，它将继承其父窗口的标识符。 同样，如果拥有的窗口不具有帮助上下文标识符，它将继承其所有者窗口的标识符。 此继承帮助上下文标识符允许应用程序设置对话框中的一个标识符和它的所有控件。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 119](../../mfc/reference/codesnippet/cpp/cwnd-class_60.cpp)]  
  
##  <a name="setwindowplacement"></a>CWnd::SetWindowPlacement  
 设置窗口的显示状态以及正常（已还原）、最小化和最大化位置。  
  
```  
BOOL SetWindowPlacement(const WINDOWPLACEMENT* lpwndpl);
```  
  
### <a name="parameters"></a>参数  
 `lpwndpl`  
 指向[WINDOWPLACEMENT](../../mfc/reference/windowplacement-structure.md)结构，它指定新的显示状态和位置。  
  
### <a name="return-value"></a>返回值  
 如果该函数成功，则为非 0；否则为 0。  
  
##  <a name="setwindowpos"></a>CWnd::SetWindowPos  
 更改大小、 位置和子，弹出窗口和顶级窗口的 Z 顺序。  
  
```  
BOOL SetWindowPos(
    const CWnd* pWndInsertAfter,  
    int x,  
    int y,  
    int cx,  
    int cy,  
    UINT nFlags);
```  
  
### <a name="parameters"></a>参数  
 `pWndInsertAfter`  
 标识`CWnd`将位于之前的对象 （会高于） 这`CWnd`按 Z 顺序的对象。 此参数可以为指向的指针`CWnd`或**指针**为以下值之一︰  
  
- **wndBottom**将该窗口在 Z 顺序的底层。 如果此`CWnd`是最顶端窗口，窗口失去其最顶层的状态; 在所有其他窗口的底部，系统将该窗口。  
  
- **wndTop**将该窗口在 Z 顺序的顶部。  
  
- **wndTopMost**将最重要的是非最顶层窗口的窗口。 即使它被停用时，窗口将保持其最顶层位置。  
  
- **wndNoTopMost**重新定位到的所有非最顶端窗口顶部的窗口 (即，在所有最顶端窗口后面)。 如果该窗口已为非最顶端窗口，则此标志无效。  
  
 有关如何使用此参数的规则，请参阅本主题的"备注"部分。  
  
 *x*  
 指定窗口的左侧的新位置。  
  
 *y*  
 指定窗口顶部的新位置。  
  
 `cx`  
 指定新窗口的宽度。  
  
 `cy`  
 指定新窗口的高度。  
  
 `nFlags`  
 指定大小和位置选项。 此参数可以是以下标志的组合︰  
  
- **SWP_DRAWFRAME**窗口周围绘制 （该窗口创建时定义） 的帧。  
  
- **SWP_FRAMECHANGED**发送`WM_NCCALCSIZE`消息到窗口中，即使未发生更改窗口的大小。 如果未指定此标志，`WM_NCCALCSIZE`仅更改窗口的大小时发送。  
  
- **SWP_HIDEWINDOW**隐藏窗口。  
  
- `SWP_NOACTIVATE`不会激活窗口。 如果未设置此标志，为窗口激活，并移动到顶部的最顶层或非最顶层的组 (具体取决于的设置`pWndInsertAfter`参数)。  
  
- **SWP_NOCOPYBITS**放弃的工作区的全部内容。 如果未指定此标志，客户端区域的有效内容会保存，并且之后的窗口在大小或重新定位复制回的工作区。  
  
- `SWP_NOMOVE`保留当前的位置 (将忽略*x*和*y*参数)。  
  
- **SWP_NOOWNERZORDER**不会更改中的 Z 顺序的所有者窗口的位置。  
  
- **SWP_NOREDRAW**不重绘更改。 如果设置此标志，任何类型没有重新绘制时发生。 这适用于客户端区域、 （包括标题和滚动条） 的非工作区和结果移动窗口中发现了父任何的窗口部分。 当设置此标志时，应用程序必须显式使无效，或重绘窗口中，然后必须重绘的父任何的窗口部分。  
  
- **SWP_NOREPOSITION**相同**SWP_NOOWNERZORDER**。  
  
- **SWP_NOSENDCHANGING**窗口防止接收`WM_WINDOWPOSCHANGING`消息。  
  
- `SWP_NOSIZE`保留当前大小 (忽略`cx`和`cy`参数)。  
  
- `SWP_NOZORDER`保留当前排序 (忽略`pWndInsertAfter`)。  
  
- **SWP_SHOWWINDOW**显示窗口。  
  
### <a name="return-value"></a>返回值  
 如果该函数成功，则非零否则为为 0。  
  
### <a name="remarks"></a>备注  
 Windows 排序在根据其 Z 顺序; 屏幕上该窗口顶部的 Z 顺序出现在顺序中的所有其他窗口之上。  
  
 子窗口的所有坐标都是工作区坐标 （相对于父窗口工作区的左上角）。  
  
 可以将一个窗口移到 Z 顺序的顶层通过设置`pWndInsertAfter`参数**& wndTopMost**并确保`SWP_NOZORDER`标志是未设置或通过设置窗口的 Z 顺序，以便它为以上任何现有的最顶层窗口。 当非最顶端窗口变得最顶层时，其拥有的 windows 还会最顶层。 不更改其所有者。  
  
 最顶端窗口不再位于最顶层，如果重新定位到底部 ( **& wndBottom**) Z 顺序或任何非最顶端窗口后。 最顶端窗口进行非最顶层，所有其所有者和其拥有的 windows 还进行非最顶层窗口。  
  
 如果既没有`SWP_NOACTIVATE`也不`SWP_NOZORDER`（即，当应用程序请求一个窗口，同时将其激活并放置在指定的 Z 顺序） 指定中, 指定的值`pWndInsertAfter`仅在以下情况下使用︰  
  
-   既不**& wndTopMost**也不**& wndNoTopMost**中指定`pWndInsertAfter`参数。  
  
-   此窗口不是活动窗口。  
  
 应用程序不能激活非活动窗口，无需还将其引入 Z 顺序的顶层。 应用程序可以更改不受限制的激活窗口的 Z 顺序。  
  
 非最顶端窗口可能拥有最顶端窗口，但反之则不然。 本身又由最顶端窗口，以确保所有拥有 windows 保持高于其所有者拥有最顶端窗口的任何窗口 （例如，对话框）。  
  
 与 Windows 版本 3.1 和更高版本，windows 可以移到 Z 顺序的顶层和锁定通过设置其**WS_EX_TOPMOST**样式。 此类最顶端窗口保持其最顶层位置即使停用。 例如，选择 WinHelp 总在最前面命令会建立最顶层，帮助窗口中，且然后返回到你的应用程序时保持可见。  
  
 若要创建最顶端窗口，调用`SetWindowPos`与`pWndInsertAfter`参数等于**& wndTopMost**，或设置**WS_EX_TOPMOST**时创建窗口样式。  
  
 如果 Z 顺序包含与任何 windows **WS_EX_TOPMOST**样式、 转移具有一个窗口**& wndTopMost**值将放在顶部的所有非最顶端窗口，但仍低于任何最顶层窗口。 应用程序时激活而不是非活动窗口**WS_EX_TOPMOST**位，窗口移动所有非最顶端窗口上面但仍低于任何最顶层窗口。  
  
 如果`SetWindowPos`时，将调用`pWndInsertAfter`参数是**& wndBottom**和`CWnd`是最顶端窗口，窗口失去其最顶层的状态 ( **WS_EX_TOPMOST**处于未选中状态)，并且系统将该窗口在 Z 顺序的底层。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 120](../../mfc/reference/codesnippet/cpp/cwnd-class_61.cpp)]  
  
##  <a name="setwindowrgn"></a>CWnd::SetWindowRgn  
 调用此成员函数以设置窗口的区域。  
  
```  
int SetWindowRgn(
    HRGN hRgn,  
    BOOL bRedraw);
```  
  
### <a name="parameters"></a>参数  
 `hRgn`  
 区域句柄。  
  
 `bRedraw`  
 如果**TRUE**，操作系统设置区域之后重绘的窗口; 否则，不。 通常情况下，设置`bRedraw`到**TRUE**窗口是否可见。 如果设置为**TRUE**，系统会将发送`WM_WINDOWPOSCHANGING`和`WM_WINDOWPOSCHANGED`到窗口的消息。  
  
### <a name="return-value"></a>返回值  
 如果函数成功，则返回值不为零。 如果函数失败，则返回值为零。  
  
### <a name="remarks"></a>备注  
 窗口的窗口区域的坐标是相对于窗口中，不是窗口的工作区的左上角。  
  
 成功调用了`SetWindowRgn`，操作系统拥有区域句柄所指定的区域`hRgn`。 操作系统不会进行区域的副本，因此不要进行任何进一步函数调用使用此区域句柄，，请不要关闭此区域句柄。  
  
##  <a name="setwindowtext"></a>CWnd::SetWindowText  
 设置为指定文本的窗口的标题。  
  
```  
void SetWindowText(LPCTSTR lpszString);
```  
  
### <a name="parameters"></a>参数  
 `lpszString`  
 指向[CString](../../atl-mfc-shared/reference/cstringt-class.md)对象或要用作新的标题或控件文本的以 null 结尾的字符串。  
  
### <a name="remarks"></a>备注  
 如果该窗口是一个控件，将设置在控件内的文本。  
  
 此函数会导致[WM_SETTEXT](http://msdn.microsoft.com/library/windows/desktop/ms632644)消息发送到此窗口。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 121](../../mfc/reference/codesnippet/cpp/cwnd-class_62.cpp)]  
  
##  <a name="showcaret"></a>CWnd::ShowCaret  
 插入符号的当前位置屏幕上显示插入符号。  
  
```  
void ShowCaret();
```  
  
### <a name="remarks"></a>备注  
 显示之后，插入符号开始自动闪烁。  
  
 `ShowCaret`成员函数显示仅插入符号，是否它具有当前的形状，并已不隐藏两个或更多时间连续。 如果脱字号不归此窗口，将不显示插入符号。  
  
 隐藏插入符号是累积的。 如果[HideCaret](#hidecaret)成员函数已调用五次连续，`ShowCaret`必须调用五次来显示插入符号。  
  
 脱字号是共享的资源。 仅在具有输入的焦点或处于活动状态时，窗口应显示插入符号。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::CreateCaret](#createcaret)。  
  
##  <a name="showownedpopups"></a>CWnd::ShowOwnedPopups  
 显示或隐藏此窗口所拥有的所有弹出窗口。  
  
```  
void ShowOwnedPopups(BOOL bShow = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `bShow`  
 指定是否显示还是隐藏弹出窗口。 如果此参数为**TRUE**，显示所有隐藏的弹出窗口。 如果此参数为**FALSE**，隐藏所有可见的弹出窗口。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::SetWindowPos](#setwindowpos)。  
  
##  <a name="showscrollbar"></a>CWnd::ShowScrollBar  
 显示或隐藏滚动条。  
  
```  
void ShowScrollBar(
    UINT nBar,  
    BOOL bShow = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `nBar`  
 指定滚动条的控件或窗口的非工作区的一部分。 如果它是的非工作区中，一部分`nBar`还用于指明是否滚动条位于水平、 垂直或两者。 它必须是以下项之一︰  
  
- **SB_BOTH**指定窗口的水平和垂直滚动条。  
  
- **SB_HORZ**指定该窗口是水平滚动条。  
  
- **SB_VERT**指定该窗口是垂直滚动条。  
  
 `bShow`  
 指定 Windows 是否显示或隐藏滚动条。 如果此参数为**TRUE**，显示滚动条; 否则将会隐藏滚动条。  
  
### <a name="remarks"></a>备注  
 应用程序不应调用`ShowScrollBar`若要在处理滚动条通知消息时隐藏滚动条。  
  
##  <a name="showwindow"></a>CWnd::ShowWindow  
 设置窗口的可见性状态。  
  
```  
BOOL ShowWindow(int nCmdShow);
```  
  
### <a name="parameters"></a>参数  
 `nCmdShow`  
 指定如何`CWnd`是否显示。 它必须是以下值之一︰  
  
- **SW_HIDE**隐藏此窗口，并将激活传递到另一个窗口。  
  
- **SW_MINIMIZE**最小化窗口并激活系统的列表中的顶级窗口。  
  
- **SW_RESTORE**激活，并且显示窗口。 如果对窗口进行最小化或最大化，Windows 会将其还原到其原始大小和位置。  
  
- **SW_SHOW**激活窗口并将其显示在其当前大小和位置。  
  
- **SW_SHOWMAXIMIZED**激活窗口，并将其显示为最大化窗口。  
  
- **SW_SHOWMINIMIZED**激活窗口，并将其显示为一个图标。  
  
- **SW_SHOWMINNOACTIVE**以图标形式显示窗口。 当前处于活动状态窗口保持活动状态。  
  
- **SW_SHOWNA**在其当前状态显示窗口。 当前处于活动状态窗口保持活动状态。  
  
- **SW_SHOWNOACTIVATE**显示窗口中的最新的大小和位置。 当前处于活动状态窗口保持活动状态。  
  
- **SW_SHOWNORMAL**激活，并且显示窗口。 如果对窗口进行最小化或最大化，Windows 会将其还原到其原始大小和位置。  
  
### <a name="return-value"></a>返回值  
 如果窗口已以前可见，则非零0 如果`CWnd`之前为隐藏状态。  
  
### <a name="remarks"></a>备注  
 `ShowWindow`必须每个应用程序的主窗口中以一次调用[CWinApp::m_nCmdShow](../../mfc/reference/cwinapp-class.md#m_ncmdshow)。 后续调用`ShowWindow`必须使用一个而不是指定的上面列出的值`CWinApp::m_nCmdShow`。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::CalcWindowRect](#calcwindowrect)。  
  
##  <a name="subclassdlgitem"></a>CWnd::SubclassDlgItem  
 调用此成员函数可对"动态子类"从对话框模板创建的控件并将其附加到这`CWnd`对象。  
  
```  
BOOL SubclassDlgItem(
    UINT nID,  
    CWnd* pParent);
```  
  
### <a name="parameters"></a>参数  
 `nID`  
 控件的 id。  
  
 `pParent`  
 控件的父级 （通常为对话框）。  
  
### <a name="return-value"></a>返回值  
 如果该函数成功，则为非 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 动态子类化控件时，windows 消息将路由通过`CWnd`的消息映射，然后调用消息处理程序`CWnd`第一次的类。 传递给基类的消息将传递到控件中的默认消息处理程序。  
  
 此成员函数将附加到 Windows 控件`CWnd`对象，并替换控件的**WndProc**和**AfxWndProc**函数。 函数将存储的旧**WndProc**中返回的位置`GetSuperWndProcAddr`成员函数。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 122](../../mfc/reference/codesnippet/cpp/cwnd-class_63.cpp)]  
  
##  <a name="subclasswindow"></a>CWnd::SubclassWindow  
 调用一个窗口的"动态子类化"此成员函数，并将其附加到这`CWnd`对象。  
  
```  
BOOL SubclassWindow(HWND hWnd);
```  
  
### <a name="parameters"></a>参数  
 `hWnd`  
 窗口的句柄。  
  
### <a name="return-value"></a>返回值  
 如果该函数成功，则为非 0；否则为 0。  
  
### <a name="remarks"></a>备注  
 动态子类化窗口时，windows 消息将路由通过`CWnd`的消息映射，然后调用消息处理程序`CWnd`第一次的类。 传递给基类的消息将传递到窗口中的默认消息处理程序。  
  
 此成员函数将附加到 Windows 控件`CWnd`对象，并替换窗口的**WndProc**和**AfxWndProc**函数。 函数将存储指向旧的**WndProc**中`CWnd`对象。  
  
> [!NOTE]
>  窗口必须尚未被附加到 MFC 对象时调用此函数。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 123](../../mfc/reference/codesnippet/cpp/cwnd-class_64.cpp)]  
  
##  <a name="unlockwindowupdate"></a>CWnd::UnlockWindowUpdate  
 调用此成员函数以解锁已锁定的窗口`CWnd::LockWindowUpdate`。  
  
```  
void UnlockWindowUpdate();
```  
  
### <a name="remarks"></a>备注  
 可以使用锁定一次只有一个窗口`LockWindowUpdate`。 请参阅[CWnd::LockWindowUpdate](#lockwindowupdate)或 Win32 函数[LockWindowUpdate](http://msdn.microsoft.com/library/windows/desktop/dd145034)有关锁定 windows 的详细信息。  
  
##  <a name="unsubclasswindow"></a>CWnd::UnsubclassWindow  
 调用此成员函数可设置**WndProc**回其原始值和分离由窗口`HWND`从**CWnd**对象。  
  
```  
HWND UnsubclassWindow();
```  
  
### <a name="return-value"></a>返回值  
 Unsubclassed 窗口的句柄。  
  
### <a name="example"></a>示例  
  请参阅示例[CWnd::SubclassWindow](#subclasswindow)。  
  
##  <a name="updatedata"></a>CWnd::UpdateData  
 调用此成员函数初始化数据在对话框中，也可以检索和验证对话框数据。  
  
```  
BOOL UpdateData(BOOL bSaveAndValidate = TRUE);
```  
  
### <a name="parameters"></a>参数  
 `bSaveAndValidate`  
 该标志指示是否正在初始化对话框 ( **FALSE**) 或正在检索数据 ( **TRUE**)。  
  
### <a name="return-value"></a>返回值  
 如果操作成功，则非零否则为 0。 如果*bSaveAndValidat*e 是**TRUE**，则返回值为非零表示已成功验证数据。  
  
### <a name="remarks"></a>备注  
 框架将自动调用`UpdateData`与`bSaveAndValidate`设置为**FALSE**的默认实现中创建模式对话框时[CDialog::OnInitDialog](../../mfc/reference/cdialog-class.md#oninitdialog)。 对话框中才会显示，将发生调用。 默认实现[CDialog::OnOK](../../mfc/reference/cdialog-class.md#onok)调用与此成员函数`bSaveAndValidate`设置为**TRUE**要检索数据，以及如果成功，将关闭该对话框。 （如果在对话框中单击取消按钮，对话框中没有而关闭正在检索的数据。）  
  
##  <a name="updatedialogcontrols"></a>CWnd::UpdateDialogControls  
 调用此成员函数以更新对话框按钮和一个对话框中或使用的窗口中的其他控件的状态[ON_UPDATE_COMMAND_UI](message-map-macros-mfc.md#on_update_command_ui)回调机制。  
  
```  
void UpdateDialogControls(
    CCmdTarget* pTarget,  
    BOOL bDisableIfNoHndler);
```  
  
### <a name="parameters"></a>参数  
 `pTarget`  
 指向主框架窗口的应用程序，并用于路由更新消息。  
  
 `bDisableIfNoHndler`  
 该标志指示没有更新处理程序的控件是否应自动显示为已禁用。  
  
### <a name="remarks"></a>备注  
 如果子控件没有处理程序和`bDisableIfNoHndler`是**TRUE**，则将禁用的子控件。  
  
 框架调用此成员函数为对话栏或工具栏中的控件的应用程序的一部分空闲处理。  
  
##  <a name="updatelayeredwindow"></a>CWnd::UpdateLayeredWindow  
 更新分层窗口的位置、大小、形状、内容和透明度。  
  
```  
BOOL UpdateLayeredWindow(
    CDC* pDCDst,  
    POINT* pptDst,  
    SIZE* psize,  
    CDC* pDCSrc,  
    POINT* pptSrc,  
    COLORREF crKey,  
    BLENDFUNCTION* pblend,  
    DWORD dwFlags);
```  
  
### <a name="parameters"></a>参数  
 `pDCDst`  
 指向屏幕设备上下文的指针。 它用于更新了窗口的内容时的调色板颜色匹配。 如果`pDCDst`是**NULL**，将使用默认调色板。  
  
 If `pDCSrc` is **NULL**, `pDCDst` must be **NULL**.  
  
 `pptDst`  
 指向的指针**点**结构，它指定分层窗口的新屏幕位置。 如果未更改当前的位置，`pptDst`可以是**NULL**。  
  
 *psize*  
 指向**大小**结构，它指定分层窗口的新大小。 如果未更改窗口的大小， *psize*可以是**NULL**。  
  
 If `pDCSrc` is **NULL**, *psize* must be **NULL**.  
  
 `pDCSrc`  
 指向定义分层的窗口的面的 DC 的指针。 如果未更改的形状和窗口的 visual 上下文，`pDCSrc`可以是**NULL**。  
  
 `pptSrc`  
 指向**点**结构，它在设备上下文中指定的层的位置。  
  
 If `pDCSrc` is **NULL**, `pptSrc` should be **NULL**.  
  
 `crKey`  
 指向**COLORREF**值，该值指定用于撰写分层的窗口的透明度颜色键。 将透明绘制成这种颜色窗口的所有像素。 若要生成**COLORREF**，使用 RGB 宏。  
  
 *pblend*  
 指向[BLENDFUNCTION](http://msdn.microsoft.com/library/windows/desktop/dd183393)结构，它指定用于撰写分层的窗口的透明度值。  
  
 `dwFlags`  
 指定要采取的操作。 此参数可以为一个或多个以下的值。 有关可能的值的列表，请参阅[UpdateLayeredWindow](http://msdn.microsoft.com/library/windows/desktop/ms633556)。  
  
### <a name="return-value"></a>返回值  
 如果函数成功，则为非零值；否则为  
  
### <a name="remarks"></a>备注  
 此成员函数模拟函数的功能[UpdateLayeredWindow](http://msdn.microsoft.com/library/windows/desktop/ms633556)中所述， [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
##  <a name="updatewindow"></a>CWnd::UpdateWindow  
 通过发送更新的客户端区域[WM_PAINT](http://msdn.microsoft.com/library/windows/desktop/dd145213)消息更新区域是否不为空。  
  
```  
void UpdateWindow();
```  
  
### <a name="remarks"></a>备注  
 `UpdateWindow`成员函数将`WM_PAINT`消息直接，绕过应用程序队列。 如果更新区域为空，`WM_PAINT`不会发送。  
  
### <a name="example"></a>示例  
 [!code-cpp[NVC_MFCWindowing # 124](../../mfc/reference/codesnippet/cpp/cwnd-class_65.cpp)]  
  
##  <a name="validaterect"></a>CWnd::ValidateRect  
 通过从窗口的更新区域移除矩形验证给定矩形内的工作区。  
  
```  
void ValidateRect(LPCRECT lpRect);
```  
  
### <a name="parameters"></a>参数  
 `lpRect`  
 指向[CRect](../../atl-mfc-shared/reference/crect-class.md)对象或[RECT 结构](../../mfc/reference/rect-structure1.md)，它包含客户端的矩形的坐标要从更新区域中删除。 如果`lpRect`是**NULL**，验证整个窗口。  
  
### <a name="remarks"></a>备注  
 [BeginPaint](#beginpaint)成员函数将自动验证整个工作区。 既不`ValidateRect`也不[ValidateRgn](#validatergn)应调用成员函数，如果需要验证之前的更新区域的一部分[WM_PAINT](http://msdn.microsoft.com/library/windows/desktop/dd145213)接下来生成。  
  
 Windows 继续生成`WM_PAINT`消息之前验证当前更新区域。  
  
##  <a name="validatergn"></a>CWnd::ValidateRgn  
 通过从窗口的当前更新区域移除区域验证给定区域内的工作区。  
  
```  
void ValidateRgn(CRgn* pRgn);
```  
  
### <a name="parameters"></a>参数  
 `pRgn`  
 指向的指针[CRgn](../../mfc/reference/crgn-class.md)标识定义要删除从更新区域的区域的区域的对象。 如果此参数为**NULL**，删除整个工作区。  
  
### <a name="remarks"></a>备注  
 给定的区域必须事先创建区域函数。 区域坐标被假定为客户端坐标。  
  
 [BeginPaint](#beginpaint)成员函数将自动验证整个工作区。 既不[ValidateRect](#validaterect)也不`ValidateRgn`应调用成员函数，如果必须在下一步之前验证更新区域的一部分[WM_PAINT](http://msdn.microsoft.com/library/windows/desktop/dd145213)生成消息。  
  
##  <a name="windowfrompoint"></a>CWnd::WindowFromPoint  
 检索包含指定的点; 的窗口`point`必须在屏幕上指定点的屏幕坐标。  
  
```  
static CWnd* PASCAL WindowFromPoint(POINT point);
```  
  
### <a name="parameters"></a>参数  
 `point`  
 指定[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象或[点](../../mfc/reference/point-structure1.md)定义要检查的点的数据结构。  
  
### <a name="return-value"></a>返回值  
 指向中点所在的窗口对象的指针。 它是**NULL**如果不存在时段，在给定的时间。 返回的指针可能是暂时的不应以供稍后使用存储。  
  
### <a name="remarks"></a>备注  
 `WindowFromPoint`未检索的隐藏或禁用窗口中，即使该点是在窗口中。 应用程序应使用[ChildWindowFromPoint](#childwindowfrompoint)受限搜索的成员函数。  
  
##  <a name="windowproc"></a>CWnd::WindowProc  
 提供 Windows 过程 ( `WindowProc`) 为`CWnd`对象。  
  
```  
virtual LRESULT WindowProc(
    UINT message,  
    WPARAM wParam,  
    LPARAM lParam);
```  
  
### <a name="parameters"></a>参数  
 `message`  
 指定要处理的 Windows 消息。  
  
 `wParam`  
 提供用于处理消息的其他信息。 参数值取决于消息。  
  
 `lParam`  
 提供用于处理消息的其他信息。 参数值取决于消息。  
  
### <a name="return-value"></a>返回值  
 返回的值取决于消息。  
  
### <a name="remarks"></a>备注  
 它会将消息通过窗口的消息映射调度。  
  
##  <a name="winhelp"></a>CWnd::WinHelp  
 调用以启动 WinHelp 应用程序。  
  
```  
virtual void WinHelp(
    DWORD_PTR dwData,  
    UINT nCmd = HELP_CONTEXT);
```  
  
### <a name="parameters"></a>参数  
 `dwData`  
 指定其他数据。 使用的值的值取决于`nCmd`参数。  
  
 `nCmd`  
 指定请求的帮助的类型。 有关的可能的值以及它们如何影响列表`dwData`参数，请参阅[WinHelp](http://msdn.microsoft.com/library/windows/desktop/bb762267) Windows 函数中[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]。  
  
### <a name="remarks"></a>备注  
 请参阅[CWinApp::WinHelp](../../mfc/reference/cwinapp-class.md#winhelp)有关详细信息。  
  
##  <a name="registertouchwindow"></a>CWnd::RegisterTouchWindow  
 注册或注销 Windows 触摸屏支持。  
  
```  
BOOL RegisterTouchWindow(
    BOOL bRegister = TRUE,  
    ULONG ulFlags = 0);
```  
  
### <a name="parameters"></a>参数  
 `bRegister`  
 `TRUE`指示注册 Windows 触摸屏支持;`FALSE`否则为。  
  
 `ulFlags`  
 一组位标志，用于指定可选的修改。 此字段可能包含 0 个或以下值之一︰ TWF_FINETOUCH、 TWF_WANTPALM。  
  
### <a name="return-value"></a>返回值  
 如果成功，则为 `TRUE`；否则为 `FALSE`。  
  
### <a name="remarks"></a>备注  
  
##  <a name="resizedynamiclayout"></a>CWnd::ResizeDynamicLayout  
 如果对窗口启用了动态布局，则窗口大小更改以调整子窗口布局时会通过框架调用。  
  
```  
virtual void ResizeDynamicLayout();
```  
  
### <a name="remarks"></a>备注  
  
## <a name="see-also"></a>另请参阅  
 [CCmdTarget 类](../../mfc/reference/ccmdtarget-class.md)   
 [层次结构图](../../mfc/hierarchy-chart.md)   
 [CFrameWnd 类](../../mfc/reference/cframewnd-class.md)   
 [CView 类](../../mfc/reference/cview-class.md)

