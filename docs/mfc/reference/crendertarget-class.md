---
title: CRenderTarget 类
ms.date: 03/27/2019
f1_keywords:
- CRenderTarget
- AFXRENDERTARGET/CRenderTarget
- AFXRENDERTARGET/CRenderTarget::CRenderTarget
- AFXRENDERTARGET/CRenderTarget::Attach
- AFXRENDERTARGET/CRenderTarget::BeginDraw
- AFXRENDERTARGET/CRenderTarget::Clear
- AFXRENDERTARGET/CRenderTarget::COLORREF_TO_D2DCOLOR
- AFXRENDERTARGET/CRenderTarget::CreateCompatibleRenderTarget
- AFXRENDERTARGET/CRenderTarget::Destroy
- AFXRENDERTARGET/CRenderTarget::Detach
- AFXRENDERTARGET/CRenderTarget::DrawBitmap
- AFXRENDERTARGET/CRenderTarget::DrawEllipse
- AFXRENDERTARGET/CRenderTarget::DrawGeometry
- AFXRENDERTARGET/CRenderTarget::DrawGlyphRun
- AFXRENDERTARGET/CRenderTarget::DrawLine
- AFXRENDERTARGET/CRenderTarget::DrawRectangle
- AFXRENDERTARGET/CRenderTarget::DrawRoundedRectangle
- AFXRENDERTARGET/CRenderTarget::DrawText
- AFXRENDERTARGET/CRenderTarget::DrawTextLayout
- AFXRENDERTARGET/CRenderTarget::EndDraw
- AFXRENDERTARGET/CRenderTarget::FillEllipse
- AFXRENDERTARGET/CRenderTarget::FillGeometry
- AFXRENDERTARGET/CRenderTarget::FillMesh
- AFXRENDERTARGET/CRenderTarget::FillOpacityMask
- AFXRENDERTARGET/CRenderTarget::FillRectangle
- AFXRENDERTARGET/CRenderTarget::FillRoundedRectangle
- AFXRENDERTARGET/CRenderTarget::Flush
- AFXRENDERTARGET/CRenderTarget::GetAntialiasMode
- AFXRENDERTARGET/CRenderTarget::GetDpi
- AFXRENDERTARGET/CRenderTarget::GetMaximumBitmapSize
- AFXRENDERTARGET/CRenderTarget::GetPixelFormat
- AFXRENDERTARGET/CRenderTarget::GetPixelSize
- AFXRENDERTARGET/CRenderTarget::GetRenderTarget
- AFXRENDERTARGET/CRenderTarget::GetSize
- AFXRENDERTARGET/CRenderTarget::GetTags
- AFXRENDERTARGET/CRenderTarget::GetTextAntialiasMode
- AFXRENDERTARGET/CRenderTarget::GetTextRenderingParams
- AFXRENDERTARGET/CRenderTarget::GetTransform
- AFXRENDERTARGET/CRenderTarget::IsSupported
- AFXRENDERTARGET/CRenderTarget::IsValid
- AFXRENDERTARGET/CRenderTarget::PopAxisAlignedClip
- AFXRENDERTARGET/CRenderTarget::PopLayer
- AFXRENDERTARGET/CRenderTarget::PushAxisAlignedClip
- AFXRENDERTARGET/CRenderTarget::PushLayer
- AFXRENDERTARGET/CRenderTarget::RestoreDrawingState
- AFXRENDERTARGET/CRenderTarget::SaveDrawingState
- AFXRENDERTARGET/CRenderTarget::SetAntialiasMode
- AFXRENDERTARGET/CRenderTarget::SetDpi
- AFXRENDERTARGET/CRenderTarget::SetTags
- AFXRENDERTARGET/CRenderTarget::SetTextAntialiasMode
- AFXRENDERTARGET/CRenderTarget::SetTextRenderingParams
- AFXRENDERTARGET/CRenderTarget::SetTransform
- AFXRENDERTARGET/CRenderTarget::VerifyResource
- AFXRENDERTARGET/CRenderTarget::m_lstResources
- AFXRENDERTARGET/CRenderTarget::m_pRenderTarget
- AFXRENDERTARGET/CRenderTarget::m_pTextFormatDefault
helpviewer_keywords:
- CRenderTarget [MFC], CRenderTarget
- CRenderTarget [MFC], Attach
- CRenderTarget [MFC], BeginDraw
- CRenderTarget [MFC], Clear
- CRenderTarget [MFC], COLORREF_TO_D2DCOLOR
- CRenderTarget [MFC], CreateCompatibleRenderTarget
- CRenderTarget [MFC], Destroy
- CRenderTarget [MFC], Detach
- CRenderTarget [MFC], DrawBitmap
- CRenderTarget [MFC], DrawEllipse
- CRenderTarget [MFC], DrawGeometry
- CRenderTarget [MFC], DrawGlyphRun
- CRenderTarget [MFC], DrawLine
- CRenderTarget [MFC], DrawRectangle
- CRenderTarget [MFC], DrawRoundedRectangle
- CRenderTarget [MFC], DrawText
- CRenderTarget [MFC], DrawTextLayout
- CRenderTarget [MFC], EndDraw
- CRenderTarget [MFC], FillEllipse
- CRenderTarget [MFC], FillGeometry
- CRenderTarget [MFC], FillMesh
- CRenderTarget [MFC], FillOpacityMask
- CRenderTarget [MFC], FillRectangle
- CRenderTarget [MFC], FillRoundedRectangle
- CRenderTarget [MFC], Flush
- CRenderTarget [MFC], GetAntialiasMode
- CRenderTarget [MFC], GetDpi
- CRenderTarget [MFC], GetMaximumBitmapSize
- CRenderTarget [MFC], GetPixelFormat
- CRenderTarget [MFC], GetPixelSize
- CRenderTarget [MFC], GetRenderTarget
- CRenderTarget [MFC], GetSize
- CRenderTarget [MFC], GetTags
- CRenderTarget [MFC], GetTextAntialiasMode
- CRenderTarget [MFC], GetTextRenderingParams
- CRenderTarget [MFC], GetTransform
- CRenderTarget [MFC], IsSupported
- CRenderTarget [MFC], IsValid
- CRenderTarget [MFC], PopAxisAlignedClip
- CRenderTarget [MFC], PopLayer
- CRenderTarget [MFC], PushAxisAlignedClip
- CRenderTarget [MFC], PushLayer
- CRenderTarget [MFC], RestoreDrawingState
- CRenderTarget [MFC], SaveDrawingState
- CRenderTarget [MFC], SetAntialiasMode
- CRenderTarget [MFC], SetDpi
- CRenderTarget [MFC], SetTags
- CRenderTarget [MFC], SetTextAntialiasMode
- CRenderTarget [MFC], SetTextRenderingParams
- CRenderTarget [MFC], SetTransform
- CRenderTarget [MFC], VerifyResource
- CRenderTarget [MFC], m_lstResources
- CRenderTarget [MFC], m_pRenderTarget
- CRenderTarget [MFC], m_pTextFormatDefault
ms.assetid: 30d1607d-68d3-4d14-ac36-fdbd0ef903a1
ms.openlocfilehash: 1b165b485e067120477de560d2091c448e02fe44
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/14/2020
ms.locfileid: "81368343"
---
# <a name="crendertarget-class"></a>CRenderTarget 类

ID2D1RenderTarget 的包装器。

## <a name="syntax"></a>语法

```
class CRenderTarget : public CObject;
```

## <a name="members"></a>成员

### <a name="public-constructors"></a>公共构造函数

|名称|说明|
|----------|-----------------|
|[CRender 目标：：CRender目标](#crendertarget)|构造 CRenderTarget 对象。|
|[CRender 目标：：*CRender目标](#_dtorcrendertarget)|析构函数。 销毁渲染目标对象时调用。|

### <a name="public-methods"></a>公共方法

|名称|说明|
|----------|-----------------|
|[CRender 目标：：附加](#attach)|将现有渲染目标接口附加到对象|
|[CRender 目标：：开始绘制](#begindraw)|在此渲染目标上启动绘图。|
|[CRender 目标：：清除](#clear)|将绘图区域清除为指定颜色。|
|[CRender目标：：COLORREF_TO_D2DCOLOR](#colorref_to_d2dcolor)|将 GDI 颜色和 alpha 值转换为D2D1_COLOR_F对象。|
|[CRender目标：：创建兼容渲染目标](#createcompatiblerendertarget)|创建一个新的位图渲染目标，用于与当前渲染目标兼容的中间屏幕外绘图期间。|
|[CRender目标：:D](#destroy)|删除一个或多个资源|
|[CRender目标：:D](#detach)|从对象分离渲染目标接口|
|[CRender目标：:D原始位图](#drawbitmap)|绘制指定的 IDWriteTextLayout 对象描述的格式化文本。|
|[CRender目标：:D原始椭圆](#drawellipse)|使用指定的描边样式绘制指定椭圆的轮廓。|
|[CRender目标：:D原始几何](#drawgeometry)|使用指定的描边样式绘制指定几何体的轮廓。|
|[CRender目标：:D原始字形Run](#drawglyphrun)|绘制指定的字形。|
|[CRender目标：:D原始线](#drawline)|使用指定的描边样式在指定点之间绘制一条线。|
|[CRender目标：:D原始矩形](#drawrectangle)|绘制具有指定尺寸和描边样式的矩形的轮廓。|
|[CRender目标：:D原始圆角矩形](#drawroundedrectangle)|使用指定的描边样式绘制指定圆角矩形的轮廓。|
|[CRenderTarget：:D原始文本](#drawtext)|使用 IDWriteTextFormat 对象提供的格式信息绘制指定的文本。|
|[CRender目标：:D原始文本布局](#drawtextlayout)|绘制指定的 IDWriteTextLayout 对象描述的格式化文本。|
|[CRender 目标：：结束绘制](#enddraw)|结束渲染目标的绘图操作，并指示当前错误状态和关联的标记。|
|[CRender目标：：填充椭圆](#fillellipse)|绘制指定椭圆的内部。|
|[CRender 目标：：填充几何](#fillgeometry)|绘制指定几何体的内部。|
|[CRender 目标：：填充网格](#fillmesh)|绘制指定网格的内部。|
|[CRender 目标：：填充不一次蒙版](#fillopacitymask)|将指定位图描述的不平性蒙版应用于画笔，并使用该画笔绘制渲染目标的区域。|
|[CRender 目标：：填充矩形](#fillrectangle)|绘制指定矩形的内部。|
|[CRender 目标：：填充四舍五入矩形](#fillroundedrectangle)|绘制指定圆角矩形的内部。|
|[CRender 目标：：刷新](#flush)|执行所有挂起的图形命令。|
|[CRender目标：：获取安蒂利亚模式](#getantialiasmode)|检索非文本绘图操作的当前反锯齿模式。|
|[CRender目标：：GetDpi](#getdpi)|返回渲染目标的点/英寸 （DPI）|
|[CRender 目标：：获取最大位图大小](#getmaximumbitmapsize)|获取渲染目标支持的任何一个位图维度的最大大小（以与设备相关的单位（像素）|
|[CRender目标：：获取像素格式](#getpixelformat)|检索渲染目标的像素格式和 Alpha 模式|
|[CRender 目标：：获取像素大小](#getpixelsize)|以设备像素为单位返回渲染目标的大小|
|[CRender目标：：获取渲染目标](#getrendertarget)|返回 ID2D1RenderTarget 接口|
|[CRender 目标：：获取大小](#getsize)|返回与设备无关的像素的渲染目标的大小|
|[CRender目标：：获取标记](#gettags)|获取后续绘图操作的标签。|
|[CRender目标：：获取文本Antialias模式](#gettextantialiasmode)|获取文本和字形绘图操作的当前防锯齿模式。|
|[CRender 目标：：获取文本渲染参数](#gettextrenderingparams)|检索渲染目标的当前文本呈现选项。|
|[CRender 目标：：获取转换](#gettransform)|将指定的转换应用于渲染目标，替换现有变换。 所有后续绘图操作都发生在转换的空间中。|
|[CRender 目标：：支持](#issupported)|指示渲染目标是否支持指定属性|
|[CRender 目标：：有效](#isvalid)|检查资源有效性|
|[CRender目标：:P操作轴对齐的剪辑](#popaxisalignedclip)|从渲染目标中删除最后一个轴对齐的剪辑。 调用此方法后，剪辑不再应用于后续绘图操作。|
|[CRender目标：:PopLayer](#poplayer)|停止将绘图操作重定向到上次 PushLayer 调用指定的图层。|
|[CRender目标：:PushAxis对齐的剪辑](#pushaxisalignedclip)|从渲染目标中删除最后一个轴对齐的剪辑。 调用此方法后，剪辑不再应用于后续绘图操作。|
|[CRender目标：:P](#pushlayer)|将指定的图层添加到渲染目标，以便它接收所有后续绘图操作，直到调用 PopLayer。|
|[CRender 目标：：恢复绘制状态](#restoredrawingstate)|将渲染目标的绘制状态设置为指定的 ID2D1 绘图StateBlock 的绘图状态。|
|[CRender 目标：：保存绘制状态](#savedrawingstate)|将当前绘图状态保存到指定的 ID2D1 绘图状态块。|
|[CRender目标：：设置反锯齿模式](#setantialiasmode)|设置渲染目标的防锯齿模式。 防锯齿模式适用于所有后续绘图操作，不包括文本和字形绘图操作。|
|[CRender 目标：：SetDpi](#setdpi)|设置渲染目标每英寸 （DPI） 的点数。|
|[CRender目标：：设置标记](#settags)|指定后续绘图操作的标签。|
|[CRender目标：：设置文本反锯齿模式](#settextantialiasmode)|指定用于后续文本和字形绘图操作的防锯齿模式。|
|[CRender 目标：：设置文本呈现参数](#settextrenderingparams)|指定要应用于所有后续文本和字形绘图操作的文本呈现选项。|
|[CRender 目标：：设置转换](#settransform)|已重载。 将指定的转换应用于渲染目标，替换现有变换。 所有后续绘图操作都发生在转换的空间中。|

### <a name="protected-methods"></a>受保护的方法

|名称|说明|
|----------|-----------------|
|[CRender目标：：验证资源](#verifyresource)|验证 CD2D 资源对象的有效性;如果对象不存在，则创建该对象。|

### <a name="public-operators"></a>公共运算符

|名称|说明|
|----------|-----------------|
|[CRender目标：：操作员 ID2D1RenderTarget*](#operator_id2d1rendertarget_star)|返回 ID2D1RenderTarget 接口|

### <a name="protected-data-members"></a>受保护的数据成员

|名称|说明|
|----------|-----------------|
|[CRender目标：：m_lstResources](#m_lstresources)|指向 CD2DResource 对象的指针列表。|
|[CRender 目标：：m_pRenderTarget](#m_prendertarget)|指向 ID2D1RenderTarget 对象的指针。|
|[CRender目标：m_pTextFormatDefault](#m_ptextformatdefault)|指向包含默认文本格式的 CD2DText格式对象的指针。|

## <a name="inheritance-hierarchy"></a>继承层次结构

[CObject](../../mfc/reference/cobject-class.md)

[CRender目标](../../mfc/reference/crendertarget-class.md)

## <a name="requirements"></a>要求

**标题：** afxrendertarget.h

## <a name="crendertargetcrendertarget"></a><a name="_dtorcrendertarget"></a>CRender 目标：：*CRender目标

析构函数。 销毁渲染目标对象时调用。

```
virtual ~CRenderTarget();
```

## <a name="crendertargetattach"></a><a name="attach"></a>CRender 目标：：附加

将现有渲染目标接口附加到对象

```
void Attach(ID2D1RenderTarget* pRenderTarget);
```

### <a name="parameters"></a>参数

*pRender目标*<br/>
现有渲染目标接口。 不能为 NULL

## <a name="crendertargetbegindraw"></a><a name="begindraw"></a>CRender 目标：：开始绘制

在此渲染目标上启动绘图。

```
void BeginDraw();
```

## <a name="crendertargetclear"></a><a name="clear"></a>CRender 目标：：清除

将绘图区域清除为指定颜色。

```
void Clear(D2D1_COLOR_F color);
```

### <a name="parameters"></a>参数

*颜色*<br/>
清除绘图区域的颜色。

## <a name="crendertargetcolorref_to_d2dcolor"></a><a name="colorref_to_d2dcolor"></a>CRender目标：：COLORREF_TO_D2DCOLOR

将 GDI 颜色和 alpha 值转换为D2D1_COLOR_F对象。

```
static D2D1_COLOR_F COLORREF_TO_D2DCOLOR(
    COLORREF color,
    int nAlpha = 255);
```

### <a name="parameters"></a>参数

*颜色*<br/>
RGB 值。

*n阿尔法*

### <a name="return-value"></a>返回值

D2D1_COLOR_F值。

## <a name="crendertargetcreatecompatiblerendertarget"></a><a name="createcompatiblerendertarget"></a>CRender目标：：创建兼容渲染目标

创建一个新的位图渲染目标，用于与当前渲染目标兼容的中间屏幕外绘图期间。

```
BOOL CreateCompatibleRenderTarget(
    CBitmapRenderTarget& bitmapTarget,
    CD2DSizeF sizeDesired = CD2DSizeF(0., 0.),
    CD2DSizeU sizePixelDesired = CD2DSizeU(0, 0),
    D2D1_PIXEL_FORMAT* desiredFormat = NULL,
    D2D1_COMPATIBLE_RENDER_TARGET_OPTIONS options = D2D1_COMPATIBLE_RENDER_TARGET_OPTIONS_NONE);
```

### <a name="parameters"></a>参数

*位映射目标*<br/>
当此方法返回时，包含指向新位图渲染目标的指针的地址。 此参数在传递时尚未初始化。

*大小所需*<br/>
如果新渲染目标应不同于原始渲染目标或 NULL，则新渲染目标在设备无关像素中所需的大小。 有关详细信息，请参见“备注”部分。

*大小像素所需*<br/>
如果新渲染目标应不同于原始渲染目标或 NULL，则新渲染目标的所需大小（以像素为单位）。 有关详细信息，请参见“备注”部分。

*所需的格式*<br/>
新渲染目标（NULL）所需的像素格式和 Alpha 模式。 如果像素格式设置为DXGI_FORMAT_UNKNOWN，或者此参数为空，则新的渲染目标使用与原始渲染目标相同的像素格式。 如果 alpha 模式为 D2D1_ALPHA_MODE_UNKNOWN 或此参数为 NULL，则新渲染目标的 alpha 模式默认为 D2D1_ALPHA_MODE_PREMULTIPLIED。 有关支持的像素格式的信息，请参阅支持的像素格式和 Alpha 模式。

*选项*<br/>
指定新渲染目标是否与 GDI 兼容的值。

### <a name="return-value"></a>返回值

如果该方法成功，它将返回 TRUE。 否则，它将返回 FALSE。

## <a name="crendertargetcrendertarget"></a><a name="crendertarget"></a>CRender 目标：：CRender目标

构造 CRenderTarget 对象。

```
CRenderTarget();
```

## <a name="crendertargetdestroy"></a><a name="destroy"></a>CRender目标：:D

删除一个或多个资源

```
BOOL Destroy(BOOL bDeleteResources = TRUE);
```

### <a name="parameters"></a>参数

*b 删除资源*<br/>
如果 bDeleteResources 为 TRUE，则位于m_lstResources中的所有资源将自动销毁。

### <a name="return-value"></a>返回值

如果该方法成功，它将返回 TRUE。 否则，它将返回 FALSE

## <a name="crendertargetdetach"></a><a name="detach"></a>CRender目标：:D

从对象分离渲染目标接口

```
ID2D1RenderTarget* Detach ();
```

### <a name="return-value"></a>返回值

指向分离的渲染目标接口的指针。

## <a name="crendertargetdrawbitmap"></a><a name="drawbitmap"></a>CRender目标：:D原始位图

绘制指定的 IDWriteTextLayout 对象描述的格式化文本。

```
void DrawBitmap(
    CD2DBitmap* pBitmap,
    const CD2DRectF& rectDest,
    float fOpacity = 1.0,
    D2D1_BITMAP_INTERPOLATION_MODE interpolationMode = D2D1_BITMAP_INTERPOLATION_MODE_LINEAR,
    const CD2DRectF* pRectSrc = NULL);
```

### <a name="parameters"></a>参数

*pBitmap*<br/>
要渲染的位图。

*整流*<br/>
以渲染目标坐标空间中的与设备无关的像素表示绘制位图的区域的大小和位置。 如果矩形顺序未良好，则不绘制任何内容，但渲染目标不会进入错误状态。

*不一部分性*<br/>
0.0f 和 1.0f 之间的值（包括）指定要应用于位图的不一元值;此值根据位图内容的 alpha 值相乘。

*插值模式*<br/>
如果绘制操作缩放或旋转位图，则要使用的插值模式。

*普雷茨克*<br/>
位图坐标空间中与设备无关的像素的大小和位置，用于绘制位图内区域的大小和位置。

## <a name="crendertargetdrawellipse"></a><a name="drawellipse"></a>CRender目标：:D原始椭圆

使用指定的描边样式绘制指定椭圆的轮廓。

```
void DrawEllipse(
    const CD2DEllipse& ellipse,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>参数

*ellipse*<br/>
椭圆的位置和半径，以与设备无关的像素进行绘制。

*pBrush*<br/>
用于绘制椭圆轮廓的画笔。

*f笔画宽度*<br/>
椭圆笔画的厚度。 描边以椭圆的轮廓为中心。

*笔画样式*<br/>
应用于椭圆轮廓的描边样式，或用于绘制实心描边的 NULL 的描边样式。

## <a name="crendertargetdrawgeometry"></a><a name="drawgeometry"></a>CRender目标：:D原始几何

使用指定的描边样式绘制指定几何体的轮廓。

```
void DrawGeometry(
    CD2DGeometry* pGeometry,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>参数

*p几何学*<br/>
要绘制的几何体。

*pBrush*<br/>
用于绘制几何图形描边的画笔。

*f笔画宽度*<br/>
几何图形的描边的厚度。 描边以几何体的轮廓为中心。

*笔画样式*<br/>
应用于几何体的轮廓的描边样式，或用于绘制实线描边的 NULL。

## <a name="crendertargetdrawglyphrun"></a><a name="drawglyphrun"></a>CRender目标：:D原始字形Run

绘制指定的字形。

```
void DrawGlyphRun(
    const CD2DPointF& ptBaseLineOrigin,
    const DWRITE_GLYPH_RUN& glyphRun,
    CD2DBrush* pForegroundBrush,
    DWRITE_MEASURING_MODE measuringMode = DWRITE_MEASURING_MODE_NATURAL);
```

### <a name="parameters"></a>参数

*点线原点*<br/>
字形基线的原点（以与设备无关的像素）。

*字形Run*<br/>
要渲染的字形。

*p前景刷*<br/>
用于绘制指定字形的画笔。

*测量模式*<br/>
指示字形指标在设置格式时如何使用其度量来测量文本的值。 默认值为DWRITE_MEASURING_MODE_NATURAL。

## <a name="crendertargetdrawline"></a><a name="drawline"></a>CRender目标：:D原始线

使用指定的描边样式在指定点之间绘制一条线。

```
void DrawLine(
    const CD2DPointF& ptFrom,
    const CD2DPointF& ptTo,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>参数

*pt 从*<br/>
线的起点，以与设备无关的像素。

*ptto*<br/>
线的终点，以与设备无关的像素。

*pBrush*<br/>
用于绘制线条笔画的画笔。

*f笔画宽度*<br/>
大于或等于 0.0f 的值，用于指定笔画的宽度。 如果未指定此参数，则默认为 1.0f。 描边位于线条上。

*笔画样式*<br/>
要绘制的描边样式，或要绘制实线的 NULL 样式。

## <a name="crendertargetdrawrectangle"></a><a name="drawrectangle"></a>CRender目标：:D原始矩形

绘制具有指定尺寸和描边样式的矩形的轮廓。

```
void DrawRectangle(
    const CD2DRectF& rectangle,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>参数

*矩形 (rectangle)*<br/>
以与设备无关的像素绘制的矩形的尺寸

*pBrush*<br/>
用于绘制矩形描边的画笔

*f笔画宽度*<br/>
大于或等于 0.0f 的值，用于指定矩形笔画的宽度。 描边以矩形的轮廓为中心。

*笔画样式*<br/>
要绘制的描边样式，或用于绘制实心描边的 NULL 样式。

## <a name="crendertargetdrawroundedrectangle"></a><a name="drawroundedrectangle"></a>CRender目标：:D原始圆角矩形

使用指定的描边样式绘制指定圆角矩形的轮廓。

```
void DrawRoundedRectangle(
    const CD2DRoundedRect& rectRounded,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>参数

*整圆*<br/>
要绘制的圆形矩形的尺寸（以与设备无关的像素）。

*pBrush*<br/>
用于绘制圆角矩形轮廓的画笔。

*f笔画宽度*<br/>
圆角矩形笔画的宽度。 描边以圆角矩形的轮廓为中心。 默认值为 1.0f。

*笔画样式*<br/>
圆角矩形描边或 NULL 的样式以绘制实心笔画。 默认值为 NULL。

## <a name="crendertargetdrawtext"></a><a name="drawtext"></a>CRenderTarget：:D原始文本

使用 IDWriteTextFormat 对象提供的格式信息绘制指定的文本。

```
void DrawText(
    const CString& strText,
    const CD2DRectF& rectangle,
    CD2DBrush* pForegroundBrush,
    CD2DTextFormat* textFormat = NULL,
    D2D1_DRAW_TEXT_OPTIONS options = D2D1_DRAW_TEXT_OPTIONS_NONE,
    DWRITE_MEASURING_MODE measuringMode = DWRITE_MEASURING_MODE_NATURAL);
```

### <a name="parameters"></a>参数

*斯特文本*<br/>
指向要绘制的 Unicode 字符数组的指针。

*矩形 (rectangle)*<br/>
绘制文本的区域的大小和位置。

*p前景刷*<br/>
用于绘制文本的画笔。

*textFormat*<br/>
描述要绘制的文本的格式设置详细信息的对象，如字体、字体大小和流方向。

*选项*<br/>
指示是否应将文本捕捉到像素边界以及是否应将文本剪切到布局矩形的值。 默认值为D2D1_DRAW_TEXT_OPTIONS_NONE，表示文本应捕捉到像素边界，不应将其剪切到布局矩形。

*测量模式*<br/>
指示字形指标在设置格式时如何使用其度量来测量文本的值。 默认值为DWRITE_MEASURING_MODE_NATURAL。

## <a name="crendertargetdrawtextlayout"></a><a name="drawtextlayout"></a>CRender目标：:D原始文本布局

绘制指定的 IDWriteTextLayout 对象描述的格式化文本。

```
void DrawTextLayout(
    const CD2DPointF& ptOrigin,
    CD2DTextLayout* textLayout,
    CD2DBrush* pBrushForeground,
    D2D1_DRAW_TEXT_OPTIONS options = D2D1_DRAW_TEXT_OPTIONS_NONE);
```

### <a name="parameters"></a>参数

*ptOrigin*<br/>
以与设备无关的像素描述的点，在该点中绘制文本布局描述的文本的左上角。

*文本布局*<br/>
要绘制的格式文本。 将忽略任何不从 ID2D1Resource 继承的绘图效果。 如果有从 ID2D1Resource 继承的不是画笔的绘图效果，则此方法将失败，渲染目标将置于错误状态。

*pBrush前景*<br/>
用于在 textLayout 中绘制尚未将画笔作为绘图效果关联的画笔的画笔（由 IDWriteTextLayout：：Set 绘图效果方法指定）。

*选项*<br/>
指示是否应将文本捕捉到像素边界以及是否应将文本剪切到布局矩形的值。 默认值为D2D1_DRAW_TEXT_OPTIONS_NONE，表示文本应捕捉到像素边界，不应将其剪切到布局矩形。

## <a name="crendertargetenddraw"></a><a name="enddraw"></a>CRender 目标：：结束绘制

结束渲染目标的绘图操作，并指示当前错误状态和关联的标记。

```
HRESULT EndDraw();
```

### <a name="return-value"></a>返回值

如果该方法成功，则它会返回 S_OK。 否则，它将返回一个 HRESULT 错误代码。

## <a name="crendertargetfillellipse"></a><a name="fillellipse"></a>CRender目标：：填充椭圆

绘制指定椭圆的内部。

```
void FillEllipse(
    const CD2DEllipse& ellipse,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>参数

*ellipse*<br/>
要绘制的椭圆的位置和半径（以与设备无关的像素表示）。

*pBrush*<br/>
用于绘制椭圆内部的画笔。

## <a name="crendertargetfillgeometry"></a><a name="fillgeometry"></a>CRender 目标：：填充几何

绘制指定几何体的内部。

```
void FillGeometry(
    CD2DGeometry* pGeometry,
    CD2DBrush* pBrush,
    CD2DBrush* pOpacityBrush = NULL);
```

### <a name="parameters"></a>参数

*p几何学*<br/>
要绘制的几何体。

*pBrush*<br/>
用于绘制几何体内部的画笔。

*pOpcityBrush*<br/>
应用于几何体的不一视点;NULL，无不一视性蒙版。 如果指定了不全性蒙版（不加速度器参数），则画笔必须是 ID2D1BitmapBrush，其 x 和 y 扩展模式设置为D2D1_EXTEND_MODE_CLAMP。 有关详细信息，请参见“备注”部分。

## <a name="crendertargetfillmesh"></a><a name="fillmesh"></a>CRender 目标：：填充网格

绘制指定网格的内部。

```
void FillMesh(
    CD2DMesh* pMesh,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>参数

*pMesh*<br/>
要绘制的网格。

*pBrush*<br/>
用于绘制网格的画笔。

## <a name="crendertargetfillopacitymask"></a><a name="fillopacitymask"></a>CRender 目标：：填充不一次蒙版

将指定位图描述的不平性蒙版应用于画笔，并使用该画笔绘制渲染目标的区域。

```
void FillOpacityMask(
    CD2DBitmap* pOpacityMask,
    CD2DBrush* pBrush,
    D2D1_OPACITY_MASK_CONTENT content,
    const CD2DRectF& rectDest,
    const CD2DRectF& rectSrc);
```

### <a name="parameters"></a>参数

*popacity Mask*<br/>
要绘制的椭圆的位置和半径（以与设备无关的像素表示）。

*pBrush*<br/>
用于绘制目标矩形指定的渲染目标的区域的画笔。

*content*<br/>
不一元蒙版包含的内容类型。 该值用于确定混合不相加性蒙版的颜色空间。

*整流*<br/>
要绘制的渲染目标区域（以与设备无关的像素）。

*雷克斯尔*<br/>
位图的区域，用于与设备无关的像素中的不一图蒙版。

## <a name="crendertargetfillrectangle"></a><a name="fillrectangle"></a>CRender 目标：：填充矩形

绘制指定矩形的内部。

```
void FillRectangle(
    const CD2DRectF& rectangle,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>参数

*矩形 (rectangle)*<br/>
要绘制的矩形的尺寸（以与设备无关的像素）。

*pBrush*<br/>
用于绘制矩形内部的画笔。

## <a name="crendertargetfillroundedrectangle"></a><a name="fillroundedrectangle"></a>CRender 目标：：填充四舍五入矩形

绘制指定圆角矩形的内部。

```
void FillRoundedRectangle(
    const CD2DRoundedRect& rectRounded,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>参数

*整圆*<br/>
要绘制的圆形矩形的尺寸（以设备无关的像素）。

*pBrush*<br/>
用于绘制圆角矩形内部的画笔。

## <a name="crendertargetflush"></a><a name="flush"></a>CRender 目标：：刷新

执行所有挂起的图形命令。

```
void Flush(
    D2D1_TAG* tag1 = NULL,
    D2D1_TAG* tag2 = NULL);
```

### <a name="parameters"></a>参数

*标签1*<br/>
包含导致错误的绘图操作的标记，如果没有错误，则包含 0。 此参数在传递时尚未初始化。

*tag2*<br/>
包含导致错误的绘图操作的标记，如果没有错误，则包含 0。 此参数在传递时尚未初始化。

## <a name="crendertargetgetantialiasmode"></a><a name="getantialiasmode"></a>CRender目标：：获取安蒂利亚模式

检索非文本绘图操作的当前反锯齿模式。

```
D2D1_ANTIALIAS_MODE GetAntialiasMode() const;
```

### <a name="return-value"></a>返回值

当前非文本绘图操作的防锯齿模式。

## <a name="crendertargetgetdpi"></a><a name="getdpi"></a>CRender目标：：GetDpi

返回渲染目标的点/英寸 （DPI）

```
CD2DSizeF GetDpi() const;
```

### <a name="return-value"></a>返回值

渲染目标的点/英寸 （DPI）。

## <a name="crendertargetgetmaximumbitmapsize"></a><a name="getmaximumbitmapsize"></a>CRender 目标：：获取最大位图大小

获取渲染目标支持的任何一个位图维度的最大大小（以与设备相关的单位（像素）

```
UINT32 GetMaximumBitmapSize() const;
```

### <a name="return-value"></a>返回值

渲染目标支持的任何一个位图维度的最大大小（以像素为单位）

## <a name="crendertargetgetpixelformat"></a><a name="getpixelformat"></a>CRender目标：：获取像素格式

检索渲染目标的像素格式和 Alpha 模式

```
D2D1_PIXEL_FORMAT GetPixelFormat() const;
```

### <a name="return-value"></a>返回值

渲染目标的像素格式和 Alpha 模式

## <a name="crendertargetgetpixelsize"></a><a name="getpixelsize"></a>CRender 目标：：获取像素大小

以设备像素为单位返回渲染目标的大小

```
CD2DSizeU GetPixelSize() const;
```

### <a name="return-value"></a>返回值

以设备像素为单位的渲染目标的大小

## <a name="crendertargetgetrendertarget"></a><a name="getrendertarget"></a>CRender目标：：获取渲染目标

返回 ID2D1RenderTarget 接口

```
ID2D1RenderTarget* GetRenderTarget();
```

### <a name="return-value"></a>返回值

如果对象尚未初始化，则指向 ID2D1RenderTarget 接口或 NULL 的指针。

## <a name="crendertargetgetsize"></a><a name="getsize"></a>CRender 目标：：获取大小

返回与设备无关的像素的渲染目标的大小

```
CD2DSizeF GetSize() const;
```

### <a name="return-value"></a>返回值

以与设备无关的像素表示渲染目标的当前大小

## <a name="crendertargetgettags"></a><a name="gettags"></a>CRender目标：：获取标记

获取后续绘图操作的标签。

```
void GetTags(
    D2D1_TAG* tag1 = NULL,
    D2D1_TAG* tag2 = NULL) const;
```

### <a name="parameters"></a>参数

*标签1*<br/>
包含后续绘图操作的第一个标签。 此参数在传递时尚未初始化。 如果指定 NULL，则不为此参数检索任何值。

*tag2*<br/>
包含后续绘图操作的第二个标签。 此参数在传递时尚未初始化。 如果指定 NULL，则不为此参数检索任何值。

## <a name="crendertargetgettextantialiasmode"></a><a name="gettextantialiasmode"></a>CRender目标：：获取文本Antialias模式

获取文本和字形绘图操作的当前防锯齿模式。

```
D2D1_TEXT_ANTIALIAS_MODE GetTextAntialiasMode() const;
```

### <a name="return-value"></a>返回值

当前用于文本和字形绘图操作的防锯齿模式。

## <a name="crendertargetgettextrenderingparams"></a><a name="gettextrenderingparams"></a>CRender 目标：：获取文本渲染参数

检索渲染目标的当前文本呈现选项。

```
void GetTextRenderingParams(IDWriteRenderingParams** textRenderingParams);
```

### <a name="parameters"></a>参数

*文本渲染参数*<br/>
当此方法返回时，文本 RenderParams 包含指向渲染目标的当前文本呈现选项的指针的地址。

## <a name="crendertargetgettransform"></a><a name="gettransform"></a>CRender 目标：：获取转换

获取渲染目标的当前变换。

```
void GetTransform(D2D1_MATRIX_3X2_F* transform);
```

### <a name="parameters"></a>参数

*transform*<br/>
当返回时，包含渲染目标的当前变换。 此参数在传递时尚未初始化。

## <a name="crendertargetissupported"></a><a name="issupported"></a>CRender 目标：：支持

指示渲染目标是否支持指定属性

```
BOOL IsSupported(const D2D1_RENDER_TARGET_PROPERTIES& renderTargetProperties) const;
```

### <a name="parameters"></a>参数

*渲染目标属性*<br/>
要测试的渲染目标属性

### <a name="return-value"></a>返回值

如果指定的渲染目标属性受此渲染目标支持，则为 TRUE;否则，FALSE

## <a name="crendertargetisvalid"></a><a name="isvalid"></a>CRender 目标：：有效

检查资源有效性

```
BOOL IsValid() const;
```

### <a name="return-value"></a>返回值

如果资源有效，则为 TRUE;否则 FALSE。

## <a name="crendertargetm_lstresources"></a><a name="m_lstresources"></a>CRender目标：：m_lstResources

指向 CD2DResource 对象的指针列表。

```
CObList m_lstResources;
```

## <a name="crendertargetm_prendertarget"></a><a name="m_prendertarget"></a>CRender 目标：：m_pRenderTarget

指向 ID2D1RenderTarget 对象的指针。

```
ID2D1RenderTarget* m_pRenderTarget;
```

## <a name="crendertargetm_ptextformatdefault"></a><a name="m_ptextformatdefault"></a>CRender目标：m_pTextFormatDefault

指向包含默认文本格式的 CD2DText格式对象的指针。

```
CD2DTextFormat* m_pTextFormatDefault;
```

## <a name="crendertargetoperator-id2d1rendertarget"></a><a name="operator_id2d1rendertarget_star"></a>CRender目标：：操作员 ID2D1RenderTarget*

返回 ID2D1RenderTarget 接口

```
operator ID2D1RenderTarget*();
```

### <a name="return-value"></a>返回值

如果对象尚未初始化，则指向 ID2D1RenderTarget 接口或 NULL 的指针。

## <a name="crendertargetpopaxisalignedclip"></a><a name="popaxisalignedclip"></a>CRender目标：:P操作轴对齐的剪辑

从渲染目标中删除最后一个轴对齐的剪辑。 调用此方法后，剪辑不再应用于后续绘图操作。

```
void PopAxisAlignedClip();
```

## <a name="crendertargetpoplayer"></a><a name="poplayer"></a>CRender目标：:PopLayer

停止将绘图操作重定向到上次 PushLayer 调用指定的图层。

```
void PopLayer();
```

## <a name="crendertargetpushaxisalignedclip"></a><a name="pushaxisalignedclip"></a>CRender目标：:PushAxis对齐的剪辑

从渲染目标中删除最后一个轴对齐的剪辑。 调用此方法后，剪辑不再应用于后续绘图操作。

```
void PushAxisAlignedClip(
    const CD2DRectF& rectClip,
    D2D1_ANTIALIAS_MODE mode = D2D1_ANTIALIAS_MODE_PER_PRIMITIVE);
```

### <a name="parameters"></a>参数

*整流*<br/>
剪辑区域的大小和位置，以与设备无关的像素。

*模式*<br/>
用于绘制具有子像素边界的剪辑矩形的边缘，并将剪辑与场景内容混合的防锯齿模式。 在调用 PopAxis 对齐Clip 方法时，将执行一次混合，并且不适用于图层中的每个基元。

## <a name="crendertargetpushlayer"></a><a name="pushlayer"></a>CRender目标：:P

将指定的图层添加到渲染目标，以便它接收所有后续绘图操作，直到调用 PopLayer。

```
void PushLayer(
    const D2D1_LAYER_PARAMETERS& layerParameters,
    CD2DLayer& layer);
```

### <a name="parameters"></a>参数

*图层参数*<br/>
图层的内容边界、几何蒙版、不一视情况、不一视情况蒙版和反锯齿选项。

*层*<br/>
接收后续绘图操作的图层。

## <a name="crendertargetrestoredrawingstate"></a><a name="restoredrawingstate"></a>CRender 目标：：恢复绘制状态

将渲染目标的绘制状态设置为指定的 ID2D1 绘图StateBlock 的绘图状态。

```
void RestoreDrawingState(ID2D1DrawingStateBlock& drawingStateBlock);
```

### <a name="parameters"></a>参数

*绘图状态块*<br/>
渲染目标的新绘图状态。

## <a name="crendertargetsavedrawingstate"></a><a name="savedrawingstate"></a>CRender 目标：：保存绘制状态

将当前绘图状态保存到指定的 ID2D1 绘图状态块。

```
void SaveDrawingState(ID2D1DrawingStateBlock& drawingStateBlock) const;
```

### <a name="parameters"></a>参数

*绘图状态块*<br/>
当此方法返回时，包含渲染目标的当前绘图状态。 在将此参数传递给方法之前，必须初始化此参数。

## <a name="crendertargetsetantialiasmode"></a><a name="setantialiasmode"></a>CRender目标：：设置反锯齿模式

设置渲染目标的防锯齿模式。 防锯齿模式适用于所有后续绘图操作，不包括文本和字形绘图操作。

```
void SetAntialiasMode(D2D1_ANTIALIAS_MODE antialiasMode);
```

### <a name="parameters"></a>参数

*反锯齿模式*<br/>
用于未来绘图操作的防锯齿模式。

## <a name="crendertargetsetdpi"></a><a name="setdpi"></a>CRender 目标：：SetDpi

设置渲染目标每英寸 （DPI） 的点数。

```
void SetDpi(const CD2DSizeF& sizeDPI);
```

### <a name="parameters"></a>参数

*大小DPI*<br/>
大于或等于零的值，用于指定渲染目标的水平/垂直 DPI。

## <a name="crendertargetsettags"></a><a name="settags"></a>CRender目标：：设置标记

指定后续绘图操作的标签。

```
void SetTags(
    D2D1_TAG tag1,
    D2D1_TAG tag2);
```

### <a name="parameters"></a>参数

*标签1*<br/>
应用于后续绘图操作的标签。

*tag2*<br/>
应用于后续绘图操作的标签。

## <a name="crendertargetsettextantialiasmode"></a><a name="settextantialiasmode"></a>CRender目标：：设置文本反锯齿模式

指定用于后续文本和字形绘图操作的防锯齿模式。

```
void SetTextAntialiasMode(D2D1_TEXT_ANTIALIAS_MODE textAntialiasMode);
```

### <a name="parameters"></a>参数

*文本Antialiasmode*<br/>
用于后续文本和字形绘图操作的防锯齿模式。

## <a name="crendertargetsettextrenderingparams"></a><a name="settextrenderingparams"></a>CRender 目标：：设置文本呈现参数

指定要应用于所有后续文本和字形绘图操作的文本呈现选项。

```
void SetTextRenderingParams(IDWriteRenderingParams* textRenderingParams = NULL);
```

### <a name="parameters"></a>参数

*文本渲染参数*<br/>
要应用于所有后续文本和字形绘图操作的文本呈现选项;NULL 以清除当前文本呈现选项。

## <a name="crendertargetsettransform"></a><a name="settransform"></a>CRender 目标：：设置转换

将指定的转换应用于渲染目标，替换现有变换。 所有后续绘图操作都发生在转换的空间中。

```
void SetTransform(const D2D1_MATRIX_3X2_F* transform);
void SetTransform(const D2D1_MATRIX_3X2_F& transform);
```

### <a name="parameters"></a>参数

*transform*<br/>
要应用于渲染目标的转换。

## <a name="crendertargetverifyresource"></a><a name="verifyresource"></a>CRender目标：：验证资源

验证 CD2D 资源对象的有效性;如果对象不存在，则创建该对象。

```
BOOL VerifyResource(CD2DResource* pResource);
```

### <a name="parameters"></a>参数

*p资源*<br/>
指向 CD2D 资源对象的指针。

### <a name="return-value"></a>返回值

TRUE 是有效的对象;如果有效，则为对象。否则 FALSE。

## <a name="see-also"></a>另请参阅

[类](../../mfc/reference/mfc-classes.md)
