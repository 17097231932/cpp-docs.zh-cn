---
title: 更改签名
ms.date: 11/16/2016
ms.assetid: 8daaa060-7305-4035-99d2-8b460b4f4454
ms.openlocfilehash: 97f70f7fdf6cb8a130427d8920152d44c1cb1349
ms.sourcegitcommit: b032daf81cb5fdb1f5a988277ee30201441c4945
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/15/2018
ms.locfileid: "51693525"
---
# <a name="change-signature"></a>更改签名

功能：可让你修改函数的参数。

时间：要重新排序、添加、删除或修改当前用于多个位置的函数参数时。

原因：可自行手动更改这些参数，然后查找对该函数的所有调用并逐个更改它们，但这可能会导致错误。  此重构工具可自动执行此任务。

方法：

1. 将文本或鼠标光标置于要修改的方法名称内，或它的某个使用中：

   ![突出显示的代码](images/changesignature_highlight.png)

1. 接下来，执行以下操作之一：
   * **键盘**
     * 按 Ctrl+R，然后按 Ctrl+O。  （请注意，键盘快捷方式可能因所选的配置文件而有所不同。）
     * 按“Ctrl+.” 触发“快速操作和重构”菜单，然后从快捷菜单选择“更改签名”。
   * **鼠标**
     * 选择“编辑 > 重构 > 重新排列参数”。
     * 右键单击代码，选择“快速操作和重构”菜单，然后从快捷菜单选择“更改签名”。

1. 在弹出的“更改签名”对话框中，可以使用右侧的按钮更改方法签名：

   ![“更改签名”对话框](images/changesignature_dialog.png)

   | Button | 描述
   | ------ | ---
   | 上移/下移    | 在列表中向上和向下移动所选的参数
   | **添加**        | 将新参数添加到列表
   | **移除**     | 从列表删除所选的参数
   | **修改**     | 通过更改选定参数的类型、名称、是否为可选参数以及注入的值来修改所选参数
   | **还原**     | 还原所选参数的原始状态
   | **还原全部** | 将所有参数还原到其原始状态

   > [!TIP]
   > 请使用“如果已确认所有引用，则跳过预览引用更改”复选框立即进行更改，而不会先弹出预览窗口。

   添加或修改参数时，将看到“添加参数”或“编辑参数”窗口。

   ![添加/修改参数](images/changesignature_addmodify.png)

   可在此处执行以下操作：

   | 条目 | 描述
   | ----- | ---
   | **Type**               | 参数的类型（int、double、float 等）
   | **名称**               | 参数的名称
   | **可选参数** | 选择性地指定参数
   | **注入值**     | 插入任何未指定参数的函数调用中的值（仅对“添加”有效）
   | **默认值**      | 如果调用方未指定值，则函数使用此值（仅对“可选参数”有效）

1. 使用“搜索范围”下拉列表选择更改是应用于项目还是整个解决方案。

1. 完成后，按“确定”按钮进行更改。  确保正确进行所请求的更改。  使用窗口上半部分的复选框，启用或禁用任何项的重命名。

   ![“更改签名”预览](images/changesignature_preview.png)

1. 当一切正常时，单击“应用”按钮，函数将在源代码中更改。

   ![“更改签名”的结果](images/changesignature_result.png)