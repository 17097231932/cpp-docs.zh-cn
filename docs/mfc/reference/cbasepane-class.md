---
title: CBasePane 类
ms.date: 11/06/2018
f1_keywords:
- CBasePane
- AFXBASEPANE/CBasePane
- AFXBASEPANE/CBasePane::AccNotifyObjectFocusEvent
- AFXBASEPANE/CBasePane::AddPane
- AFXBASEPANE/CBasePane::AdjustDockingLayout
- AFXBASEPANE/CBasePane::AdjustLayout
- AFXBASEPANE/CBasePane::CalcFixedLayout
- AFXBASEPANE/CBasePane::CanAcceptPane
- AFXBASEPANE/CBasePane::CanAutoHide
- AFXBASEPANE/CBasePane::CanBeAttached
- AFXBASEPANE/CBasePane::CanBeClosed
- AFXBASEPANE/CBasePane::CanBeDocked
- AFXBASEPANE/CBasePane::CanBeResized
- AFXBASEPANE/CBasePane::CanBeTabbedDocument
- AFXBASEPANE/CBasePane::CanFloat
- AFXBASEPANE/CBasePane::CanFocus
- AFXBASEPANE/CBasePane::CopyState
- AFXBASEPANE/CBasePane::CreateDefaultMiniframe
- AFXBASEPANE/CBasePane::CreateEx
- AFXBASEPANE/CBasePane::DockPane
- AFXBASEPANE/CBasePane::DockPaneUsingRTTI
- AFXBASEPANE/CBasePane::DockToFrameWindow
- AFXBASEPANE/CBasePane::DoesAllowDynInsertBefore
- AFXBASEPANE/CBasePane::EnableDocking
- AFXBASEPANE/CBasePane::EnableGripper
- AFXBASEPANE/CBasePane::FloatPane
- AFXBASEPANE/CBasePane::get_accHelpTopic
- AFXBASEPANE/CBasePane::get_accSelection
- AFXBASEPANE/CBasePane::GetCaptionHeight
- AFXBASEPANE/CBasePane::GetControlBarStyle
- AFXBASEPANE/CBasePane::GetCurrentAlignment
- AFXBASEPANE/CBasePane::GetDockingMode
- AFXBASEPANE/CBasePane::GetDockSiteFrameWnd
- AFXBASEPANE/CBasePane::GetEnabledAlignment
- AFXBASEPANE/CBasePane::GetMFCStyle
- AFXBASEPANE/CBasePane::GetPaneIcon
- AFXBASEPANE/CBasePane::GetPaneRow
- AFXBASEPANE/CBasePane::GetPaneStyle
- AFXBASEPANE/CBasePane::GetParentDockSite
- AFXBASEPANE/CBasePane::GetParentMiniFrame
- AFXBASEPANE/CBasePane::GetParentTabbedPane
- AFXBASEPANE/CBasePane::GetParentTabWnd
- AFXBASEPANE/CBasePane::GetRecentVisibleState
- AFXBASEPANE/CBasePane::HideInPrintPreviewMode
- AFXBASEPANE/CBasePane::InsertPane
- AFXBASEPANE/CBasePane::IsAccessibilityCompatible
- AFXBASEPANE/CBasePane::IsAutoHideMode
- AFXBASEPANE/CBasePane::IsDialogControl
- AFXBASEPANE/CBasePane::IsDocked
- AFXBASEPANE/CBasePane::IsFloating
- AFXBASEPANE/CBasePane::IsHorizontal
- AFXBASEPANE/CBasePane::IsInFloatingMultiPaneFrameWnd
- AFXBASEPANE/CBasePane::IsMDITabbed
- AFXBASEPANE/CBasePane::IsPaneVisible
- AFXBASEPANE/CBasePane::IsPointNearDockSite
- AFXBASEPANE/CBasePane::IsResizable
- AFXBASEPANE/CBasePane::IsRestoredFromRegistry
- AFXBASEPANE/CBasePane::IsTabbed
- AFXBASEPANE/CBasePane::IsVisible
- AFXBASEPANE/CBasePane::LoadState
- AFXBASEPANE/CBasePane::MoveWindow
- AFXBASEPANE/CBasePane::OnAfterChangeParent
- AFXBASEPANE/CBasePane::OnBeforeChangeParent
- AFXBASEPANE/CBasePane::OnDrawCaption
- AFXBASEPANE/CBasePane::OnMovePaneDivider
- AFXBASEPANE/CBasePane::OnPaneContextMenu
- AFXBASEPANE/CBasePane::OnRemoveFromMiniFrame
- AFXBASEPANE/CBasePane::OnSetAccData
- AFXBASEPANE/CBasePane::PaneFromPoint
- AFXBASEPANE/CBasePane::RecalcLayout
- AFXBASEPANE/CBasePane::RemovePaneFromDockManager
- AFXBASEPANE/CBasePane::SaveState
- AFXBASEPANE/CBasePane::SelectDefaultFont
- AFXBASEPANE/CBasePane::SetControlBarStyle
- AFXBASEPANE/CBasePane::SetDockingMode
- AFXBASEPANE/CBasePane::SetPaneAlignment
- AFXBASEPANE/CBasePane::SetPaneStyle
- AFXBASEPANE/CBasePane::SetWindowPos
- AFXBASEPANE/CBasePane::ShowPane
- AFXBASEPANE/CBasePane::StretchPane
- AFXBASEPANE/CBasePane::UndockPane
- AFXBASEPANE/CBasePane::DoPaint
helpviewer_keywords:
- CBasePane [MFC], AccNotifyObjectFocusEvent
- CBasePane [MFC], AddPane
- CBasePane [MFC], AdjustDockingLayout
- CBasePane [MFC], AdjustLayout
- CBasePane [MFC], CalcFixedLayout
- CBasePane [MFC], CanAcceptPane
- CBasePane [MFC], CanAutoHide
- CBasePane [MFC], CanBeAttached
- CBasePane [MFC], CanBeClosed
- CBasePane [MFC], CanBeDocked
- CBasePane [MFC], CanBeResized
- CBasePane [MFC], CanBeTabbedDocument
- CBasePane [MFC], CanFloat
- CBasePane [MFC], CanFocus
- CBasePane [MFC], CopyState
- CBasePane [MFC], CreateDefaultMiniframe
- CBasePane [MFC], CreateEx
- CBasePane [MFC], DockPane
- CBasePane [MFC], DockPaneUsingRTTI
- CBasePane [MFC], DockToFrameWindow
- CBasePane [MFC], DoesAllowDynInsertBefore
- CBasePane [MFC], EnableDocking
- CBasePane [MFC], EnableGripper
- CBasePane [MFC], FloatPane
- CBasePane [MFC], get_accHelpTopic
- CBasePane [MFC], get_accSelection
- CBasePane [MFC], GetCaptionHeight
- CBasePane [MFC], GetControlBarStyle
- CBasePane [MFC], GetCurrentAlignment
- CBasePane [MFC], GetDockingMode
- CBasePane [MFC], GetDockSiteFrameWnd
- CBasePane [MFC], GetEnabledAlignment
- CBasePane [MFC], GetMFCStyle
- CBasePane [MFC], GetPaneIcon
- CBasePane [MFC], GetPaneRow
- CBasePane [MFC], GetPaneStyle
- CBasePane [MFC], GetParentDockSite
- CBasePane [MFC], GetParentMiniFrame
- CBasePane [MFC], GetParentTabbedPane
- CBasePane [MFC], GetParentTabWnd
- CBasePane [MFC], GetRecentVisibleState
- CBasePane [MFC], HideInPrintPreviewMode
- CBasePane [MFC], InsertPane
- CBasePane [MFC], IsAccessibilityCompatible
- CBasePane [MFC], IsAutoHideMode
- CBasePane [MFC], IsDialogControl
- CBasePane [MFC], IsDocked
- CBasePane [MFC], IsFloating
- CBasePane [MFC], IsHorizontal
- CBasePane [MFC], IsInFloatingMultiPaneFrameWnd
- CBasePane [MFC], IsMDITabbed
- CBasePane [MFC], IsPaneVisible
- CBasePane [MFC], IsPointNearDockSite
- CBasePane [MFC], IsResizable
- CBasePane [MFC], IsRestoredFromRegistry
- CBasePane [MFC], IsTabbed
- CBasePane [MFC], IsVisible
- CBasePane [MFC], LoadState
- CBasePane [MFC], MoveWindow
- CBasePane [MFC], OnAfterChangeParent
- CBasePane [MFC], OnBeforeChangeParent
- CBasePane [MFC], OnDrawCaption
- CBasePane [MFC], OnMovePaneDivider
- CBasePane [MFC], OnPaneContextMenu
- CBasePane [MFC], OnRemoveFromMiniFrame
- CBasePane [MFC], OnSetAccData
- CBasePane [MFC], PaneFromPoint
- CBasePane [MFC], RecalcLayout
- CBasePane [MFC], RemovePaneFromDockManager
- CBasePane [MFC], SaveState
- CBasePane [MFC], SelectDefaultFont
- CBasePane [MFC], SetControlBarStyle
- CBasePane [MFC], SetDockingMode
- CBasePane [MFC], SetPaneAlignment
- CBasePane [MFC], SetPaneStyle
- CBasePane [MFC], SetWindowPos
- CBasePane [MFC], ShowPane
- CBasePane [MFC], StretchPane
- CBasePane [MFC], UndockPane
- CBasePane [MFC], DoPaint
ms.assetid: 8163dd51-d7c7-4def-9c74-61f8ecdfad82
ms.openlocfilehash: 59291516c14ea6ff8b1d2fe515d121dd6f910cba
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/15/2019
ms.locfileid: "69507461"
---
# <a name="cbasepane-class"></a>CBasePane 类

MFC 中所有窗格的基类。

## <a name="syntax"></a>语法

```
class CBasePane : public CWnd
```

## <a name="members"></a>成员

### <a name="public-constructors"></a>公共构造函数

|名称|描述|
|----------|-----------------|
|`CBasePane::CBasePane`|默认构造函数。|
|`CBasePane::~CBasePane`|析构函数。|

### <a name="public-methods"></a>公共方法

|名称|描述|
|----------|-----------------|
|`CBasePane::accHitTest`|由框架调用以检索屏幕上给定点处的子元素或子对象。 (重写[CWnd:: accHitTest](../../mfc/reference/cwnd-class.md#acchittest)。)|
|`CBasePane::accLocation`|由框架调用以检索指定对象的当前屏幕位置。 (重写[CWnd:: accLocation](../../mfc/reference/cwnd-class.md#acclocation)。)|
|[CBasePane::AccNotifyObjectFocusEvent](#accnotifyobjectfocusevent)|`CBasePane`不使用此方法。|
|`CBasePane::accSelect`|由框架调用以修改选定内容或移动指定对象的键盘焦点。 (重写[CWnd:: accSelect](../../mfc/reference/cwnd-class.md#accselect)。)|
|[CBasePane::AddPane](#addpane)|将窗格添加到停靠管理器。|
|[CBasePane::AdjustDockingLayout](#adjustdockinglayout)|重定向对停靠管理器的调用以调整停靠布局。|
|[CBasePane:: AdjustLayout](#adjustlayout)|当窗格应调整其内部布局时, 由框架调用。|
|[CBasePane::CalcFixedLayout](#calcfixedlayout)|计算控件条的水平大小。|
|[CBasePane::CanAcceptPane](#canacceptpane)|确定是否可将另一个窗格停靠到该窗格。|
|[CBasePane::CanAutoHide](#canautohide)|确定窗格是否支持自动隐藏模式。|
|[CBasePane::CanBeAttached](#canbeattached)|确定窗格是否可以停靠到另一个窗格。|
|[CBasePane:: CanBeClosed](#canbeclosed)|确定是否可以关闭窗格。|
|[CBasePane::CanBeDocked](#canbedocked)|确定窗格是否可以停靠到另一个窗格。|
|[CBasePane::CanBeResized](#canberesized)|确定窗格是否可以调整大小。|
|[CBasePane::CanBeTabbedDocument](#canbetabbeddocument)|指定窗格是否可转换为 MDI 选项卡式文档。|
|[CBasePane::CanFloat](#canfloat)|确定窗格是否可以浮动。|
|[CBasePane:: CanFocus](#canfocus)|指定窗格是否可以接收焦点。|
|[CBasePane::CopyState](#copystate)|复制给定窗格的状态。|
|[CBasePane::CreateDefaultMiniframe](#createdefaultminiframe)|如果窗格可以浮动, 则会创建一个微型框架窗口。|
|[CBasePane::CreateEx](#createex)|创建窗格控件。|
|[CBasePane::DockPane](#dockpane)|将一个窗格停靠到另一个窗格或框架窗口。|
|[CBasePane::DockPaneUsingRTTI](#dockpaneusingrtti)|使用运行时类型信息停靠窗格。|
|[CBasePane::DockToFrameWindow](#docktoframewindow)|将可停靠的窗格停靠到帧。|
|[CBasePane::DoesAllowDynInsertBefore](#doesallowdyninsertbefore)|确定是否可以在此窗格和父框架之间动态插入另一个窗格。|
|[CBasePane::EnableDocking](#enabledocking)|允许将窗格停靠到主帧。|
|[CBasePane::EnableGripper](#enablegripper)|启用或禁用控制手柄。 如果已启用控制手柄, 则用户可以拖动它来重新定位窗格。|
|`CBasePane::FillWindowRect`|内部使用。|
|[CBasePane::FloatPane](#floatpane)|在窗格中浮动。|
|`CBasePane::get_accChild`|由框架调用以检索指定子级的 `IDispatch` 接口地址。 (重写[CWnd:: get_accChild](../../mfc/reference/cwnd-class.md#get_accchild)。)|
|`CBasePane::get_accChildCount`|由框架调用以检索属于该对象的子级的数目。 (重写[CWnd:: get_accChildCount](../../mfc/reference/cwnd-class.md#get_accchildcount)。)|
|`CBasePane::get_accDefaultAction`|由框架调用以检索描述对象默认操作的字符串。 (重写[CWnd:: get_accDefaultAction](../../mfc/reference/cwnd-class.md#get_accdefaultaction)。)|
|`CBasePane::get_accDescription`|由框架调用以检索描述指定对象的可视外观的字符串。 (重写[CWnd:: get_accDescription](../../mfc/reference/cwnd-class.md#get_accdescription)。)|
|`CBasePane::get_accFocus`|由框架调用以检索具有键盘焦点的对象。 (重写[CWnd:: get_accFocus](../../mfc/reference/cwnd-class.md#get_accfocus)。)|
|`CBasePane::get_accHelp`|由框架调用以检索对象的 Help 属性字符串。 (重写[CWnd:: get_accHelp](../../mfc/reference/cwnd-class.md#get_acchelp)。)|
|[CBasePane::get_accHelpTopic](#get_acchelptopic)|由框架调用以检索与指定对象关联的 WinHelp 文件的完整路径以及该文件中相应主题的标识符。 (重写[CWnd:: get_accHelpTopic](../../mfc/reference/cwnd-class.md#get_acchelptopic)。)|
|`CBasePane::get_accKeyboardShortcut`|由框架调用以检索对象的指定快捷键。 (重写[CWnd:: get_accKeyboardShortcut](../../mfc/reference/cwnd-class.md#get_acckeyboardshortcut)。)|
|`CBasePane::get_accName`|由框架调用以检索指定对象的名称。 (重写[CWnd:: get_accName](../../mfc/reference/cwnd-class.md#get_accname)。)|
|`CBasePane::get_accParent`|由框架调用以检索`IDispatch`对象的父对象的接口。 (重写[CWnd:: get_accParent](../../mfc/reference/cwnd-class.md#get_accparent)。)|
|`CBasePane::get_accRole`|由框架调用以检索描述指定对象的角色的信息。 (重写[CWnd:: get_accRole](../../mfc/reference/cwnd-class.md#get_accrole)。)|
|[CBasePane::get_accSelection](#get_accselection)|由框架调用以检索该对象的选定子级。 (重写[CWnd:: get_accSelection](../../mfc/reference/cwnd-class.md#get_accselection)。)|
|`CBasePane::get_accState`|由框架调用以检索指定对象的当前状态。 (重写[CWnd:: get_accState](../../mfc/reference/cwnd-class.md#get_accstate)。)|
|`CBasePane::get_accValue`|由框架调用以检索指定对象的值。 (重写[CWnd:: get_accValue](../../mfc/reference/cwnd-class.md#get_accvalue)。)|
|[CBasePane::GetCaptionHeight](#getcaptionheight)|返回标题高度。|
|[CBasePane::GetControlBarStyle](#getcontrolbarstyle)|返回控件条形样式。|
|[CBasePane::GetCurrentAlignment](#getcurrentalignment)|返回当前窗格的对齐方式。|
|[CBasePane::GetDockingMode](#getdockingmode)|返回窗格的当前停靠模式。|
|[CBasePane::GetDockSiteFrameWnd](#getdocksiteframewnd)|返回一个指针, 该指针指向作为窗格停靠站点的窗口。|
|[CBasePane::GetEnabledAlignment](#getenabledalignment)|返回应用于此窗格的 CBRS_ALIGN_ 样式。|
|[CBasePane::GetMFCStyle](#getmfcstyle)|返回特定于 MFC 的窗格样式。|
|[CBasePane::GetPaneIcon](#getpaneicon)|返回窗格图标的句柄。|
|`CBasePane::GetPaneRect`|内部使用。|
|[CBasePane::GetPaneRow](#getpanerow)|返回一个指向窗格停靠位置的[CDockingPanesRow](../../mfc/reference/cdockingpanesrow-class.md)对象的指针。|
|[CBasePane::GetPaneStyle](#getpanestyle)|返回窗格样式。|
|[CBasePane::GetParentDockSite](#getparentdocksite)|返回指向父停靠站点的指针。|
|[CBasePane::GetParentMiniFrame](#getparentminiframe)|返回指向父级袖珍框架窗口的指针。|
|[CBasePane::GetParentTabbedPane](#getparenttabbedpane)|返回指向父选项卡式窗格的指针。|
|[CBasePane::GetParentTabWnd](#getparenttabwnd)|返回指向位于选项卡内的父窗口的指针。|
|[CBasePane::GetRecentVisibleState](#getrecentvisiblestate)|从存档中还原窗格时, 框架会调用此方法。|
|[CBasePane::HideInPrintPreviewMode](#hideinprintpreviewmode)|指定是否在打印预览中隐藏窗格。|
|[CBasePane::InsertPane](#insertpane)|向停靠管理器注册指定窗格。|
|[CBasePane::IsAccessibilityCompatible](#isaccessibilitycompatible)|指定窗格是否支持 Active Accessibility。|
|[CBasePane::IsAutoHideMode](#isautohidemode)|确定窗格是否处于自动隐藏模式。|
|[CBasePane::IsDialogControl](#isdialogcontrol)|指定窗格是否为对话框控件。|
|[CBasePane::IsDocked](#isdocked)|确定面板是否停靠。|
|[CBasePane::IsFloating](#isfloating)|确定窗格是否浮动。|
|[CBasePane::IsHorizontal](#ishorizontal)|确定窗格是否水平停靠。|
|[CBasePane::IsInFloatingMultiPaneFrameWnd](#isinfloatingmultipaneframewnd)|指定窗格是否位于多窗格框架窗口中。|
|[CBasePane::IsMDITabbed](#ismditabbed)|确定是否已将窗格作为选项卡式文档添加到 MDI 子窗口。|
|[CBasePane::IsPaneVisible](#ispanevisible)|指定是否为窗格设置 WS_VISIBLE 标志。|
|[CBasePane::IsPointNearDockSite](#ispointneardocksite)|确定指定点是否在停靠站点附近。|
|[CBasePane::IsResizable](#isresizable)|确定窗格是否可以调整大小。|
|[CBasePane::IsRestoredFromRegistry](#isrestoredfromregistry)|确定窗格是否从注册表还原。|
|[CBasePane::IsTabbed](#istabbed)|确定是否已将窗格插入到选项卡式窗口的选项卡控件中。|
|`CBasePane::IsTooltipTopmost`|内部使用。|
|[CBasePane::IsVisible](#isvisible)|确定窗格是否可见。|
|[CBasePane::LoadState](#loadstate)|从注册表加载窗格状态。|
|[CBasePane::MoveWindow](#movewindow)|移动窗格。|
|[CBasePane::OnAfterChangeParent](#onafterchangeparent)|在窗格的父项已更改时由框架调用。|
|[CBasePane::OnBeforeChangeParent](#onbeforechangeparent)|在窗格更改其父窗口之前, 由框架调用。|
|[CBasePane::OnDrawCaption](#ondrawcaption)|绘制标题时, 框架会调用此方法。|
|[CBasePane::OnMovePaneDivider](#onmovepanedivider)|当前未使用此方法。|
|[CBasePane::OnPaneContextMenu](#onpanecontextmenu)|当框架生成包含窗格列表的菜单时由框架调用。|
|[CBasePane::OnRemoveFromMiniFrame](#onremovefromminiframe)|当从其父袖珍框架窗口中移除窗格时, 由框架调用。|
|[CBasePane::OnSetAccData](#onsetaccdata)|`CBasePane`不使用此方法。|
|`CBasePane::OnUpdateCmdUI`|内部使用。|
|[CBasePane::PaneFromPoint](#panefrompoint)|返回包含给定点的窗格。|
|`CBasePane::PreTranslateMessage`|在将窗口消息发送到 [TranslateMessage](../../mfc/reference/cwinapp-class.md) 和 [DispatchMessage](/windows/win32/api/winuser/nf-winuser-translatemessage) Windows 函数之前，由 [CWinApp](/windows/win32/api/winuser/nf-winuser-dispatchmessage) 类用于对此消息进行转换。 （重写 [CWnd::PreTranslateMessage](../../mfc/reference/cwnd-class.md#pretranslatemessage)。）|
|[CBasePane::RecalcLayout](#recalclayout)|`CBasePane`不使用此方法。|
|[CBasePane::RemovePaneFromDockManager](#removepanefromdockmanager)|取消注册窗格, 并将其从停靠管理器的列表中删除。|
|[CBasePane::SaveState](#savestate)|将窗格的状态保存到注册表。|
|[CBasePane::SelectDefaultFont](#selectdefaultfont)|选择给定设备上下文的默认字体。|
|`CBasePane::Serialize`|从存档读取该对象或将该对象写入存档。 （重写 [CObject::Serialize](../../mfc/reference/cobject-class.md#serialize)。）|
|[CBasePane::SetControlBarStyle](#setcontrolbarstyle)|设置控件条形样式。|
|[CBasePane::SetDockingMode](#setdockingmode)|设置窗格的停靠模式。|
|`CBasePane::SetMDITabbed`|内部使用。|
|[CBasePane::SetPaneAlignment](#setpanealignment)|设置窗格的对齐方式。|
|`CBasePane::SetPaneRect`|内部使用。|
|[CBasePane::SetPaneStyle](#setpanestyle)|设置窗格的样式。|
|`CBasePane::SetRestoredFromRegistry`|内部使用。|
|[CBasePane::SetWindowPos](#setwindowpos)|更改窗格的大小、位置和 Z 顺序。|
|[CBasePane::ShowPane](#showpane)|显示或隐藏窗格。|
|[CBasePane::StretchPane](#stretchpane)|垂直或水平拉伸窗格。|
|[CBasePane::UndockPane](#undockpane)|从停靠站点、默认滑块或微型框架窗口中删除当前停靠的窗格。|

### <a name="protected-methods"></a>受保护的方法

|名称|描述|
|----------|-----------------|
|[CBasePane::DoPaint](#dopaint)|填充窗格的背景。|

## <a name="remarks"></a>备注

如果你想要创建一个支持在 MFC 中使用的扩展停靠功能的窗格类, 则必须从`CBasePane` [CPane 类](../../mfc/reference/cpane-class.md)或从该类派生。

## <a name="customization-tips"></a>自定义提示

以下自定义提示适用于`CBasePane Class`和从其继承的任何类:

- 创建窗格时, 可以应用多个新样式:

  - AFX_CBRS_FLOAT 使窗格浮动。

  - AFX_CBRS_AUTOHIDE 启用自动隐藏模式。

  - AFX_CBRS_CLOSE 使窗格关闭 (隐藏)。

  这些是可与按位 "或" 运算组合的标志。

`CBasePane`实现以下虚拟布尔方法, 以反映这些标志:[CBasePane:: CanBeClosed](#canbeclosed)、 [CBasePane:: CanAutoHide](#canautohide)、 [CBasePane:: CanFloat](#canfloat)。 可以在派生类中重写它们以自定义它们的行为。

- 可以通过重写[CBasePane:: CanAcceptPane](#canacceptpane)自定义停靠行为。 让窗格从此方法返回 FALSE, 以防止其他窗格停靠到其中。

- 如果你想要创建一个静态窗格, 该窗格将无法浮动, 并阻止其他任何窗格在其之前停靠 (类似于 OutlookDemo 示例中的 Outlook 栏), 请将其创建为非浮动, 并重写[CBasePane::D oesallowdyninsertbefore](#doesallowdyninsertbefore)返回FALSE. 如果创建的窗格没有 AFX_CBRS_FLOAT 样式, 则默认实现将返回 FALSE。

- 创建 Id 不为-1 的所有窗格。

- 若要确定窗格的可见性, 请使用[CBasePane:: IsVisible](#isvisible)。 它在选项卡式和自动隐藏模式下正确地处理可见性状态。

- 若要创建可调整大小的非浮动窗格, 请在不使用 AFX_CBRS_FLOAT 样式的情况下创建它, 并调用[CFrameWnd::D ockcontrolbar](../../mfc/reference/cframewnd-class.md#dockcontrolbar)。

- 若要从停靠布局中排除一个窗格或从其停靠栏中删除工具栏, 请调用[CBasePane:: UndockPane](#undockpane)。 不要为自动隐藏模式下的窗格或位于选项卡式窗口的选项卡中的窗格调用此方法。

- 如果希望浮动或取消停靠处于自动隐藏模式下的窗格, 则在调用[CBasePane:: FloatPane](#floatpane)或[CBasePane:: UndockPane](#undockpane)之前, 必须先将[CDockablePane:: SetAutoHideMode](../../mfc/reference/cdockablepane-class.md#setautohidemode)作为第一个参数调用。

## <a name="example"></a>示例

下面的示例演示了如何使用 `CBasePane` 类中的各种方法。 该示例演示如何从`CFrameWndEx`类检索窗格, 以及如何设置停靠模式、窗格对齐方式和窗格样式。 此代码来自[Word Pad 示例](../../overview/visual-cpp-samples.md)。

[!code-cpp[NVC_MFC_WordPad#2](../../mfc/reference/codesnippet/cpp/cbasepane-class_1.cpp)]

## <a name="inheritance-hierarchy"></a>继承层次结构

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

[CBasePane](../../mfc/reference/cbasepane-class.md)

## <a name="requirements"></a>要求

**标头:** afxbasepane

##  <a name="accnotifyobjectfocusevent"></a>CBasePane:: AccNotifyObjectFocusEvent

`CBasePane`不使用此方法。

```
virtual void AccNotifyObjectFocusEvent(int);
```

### <a name="parameters"></a>参数

*int*<br/>
中不使用。

##  <a name="addpane"></a>CBasePane:: AddPane

将窗格添加到停靠管理器。

```
void AddPane(CBasePane* pBar);
```

### <a name="parameters"></a>参数

*pBar*<br/>
中指向要添加的窗格的指针。

### <a name="remarks"></a>备注

这是将窗格添加到停靠管理器的便利方法。 通过使用此方法, 你无需编写代码来分析父框架的类型。

有关详细信息, 请参阅[CDockingManager 类](../../mfc/reference/cdockingmanager-class.md)和[CMDIFrameWndEx:: AddPane](../../mfc/reference/cmdiframewndex-class.md#addpane)。

##  <a name="adjustdockinglayout"></a>CBasePane:: AdjustDockingLayout

重定向对停靠管理器的调用以调整停靠布局。

```
virtual void AdjustDockingLayout(HDWP hdwp=NULL);
```

### <a name="parameters"></a>参数

*hdwp*<br/>
弄包含多个窗口位置的结构的句柄。

### <a name="remarks"></a>备注

这是一种调整停靠布局的便利方法。 通过使用此方法, 你无需编写代码来分析父框架的类型。

有关详细信息, 请参阅[CDockingManager:: AdjustDockingLayout](../../mfc/reference/cdockingmanager-class.md#adjustdockinglayout)

##  <a name="adjustlayout"></a>CBasePane:: AdjustLayout

由框架调用, 用于调整窗格的内部布局。

```
virtual void AdjustLayout();
```

### <a name="remarks"></a>备注

当窗格必须调整其内部布局时, 框架会调用此方法。 基实现不执行任何操作。

##  <a name="calcfixedlayout"></a>CBasePane:: CalcFixedLayout

计算控件条的水平大小。

```
virtual CSize CalcFixedLayout(
    BOOL bStretch,
    BOOL bHorz);
```

### <a name="parameters"></a>参数

*bStretch*<br/>
中指示是否应将栏拉伸到帧的大小。 如果栏不是停靠栏 (不能用于停靠), *bStretch*参数为非零值, 当停靠或浮动 (可用于停靠) 时, 此参数为0。

*bHorz*<br/>
中指示条形是水平方向还是垂直方向。 如果条形水平方向, 则*bHorz*参数为非零值, 如果垂直方向, 则为0。

### <a name="return-value"></a>返回值

`CSize`对象的控件条大小 (以像素为单位)。

### <a name="remarks"></a>备注

请参阅[CControlBar:: CalcFixedLayout](../../mfc/reference/ccontrolbar-class.md#calcfixedlayout)中的 "备注" 部分。

##  <a name="canacceptpane"></a>CBasePane:: CanAcceptPane

确定是否可将另一个窗格停靠到该窗格。

```
virtual BOOL CanAcceptPane(const CBasePane* pBar) const;
```

### <a name="parameters"></a>参数

*pBar*<br/>
中指向要停靠的窗格的指针。

### <a name="return-value"></a>返回值

如果可以接受其他窗格, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

框架在将*pBar*指定的窗格停靠到当前窗格之前调用此方法。

使用此方法和[CBasePane:: CanBeDocked](#canbedocked)方法可以控制窗格停靠到应用程序中的其他窗格的方式。

默认实现返回 FALSE。

##  <a name="canautohide"></a>CBasePane:: CanAutoHide

确定窗格是否支持自动隐藏模式。

```
virtual BOOL CanAutoHide() const;
```

### <a name="return-value"></a>返回值

如果此窗格支持自动隐藏模式, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

框架调用此函数来确定窗格是否支持自动隐藏模式。

在构造过程中, 可以通过将 AFX_CBRS_AUTOHIDE 标志传递到[CBasePane:: CreateEx](#createex)来设置此功能。

默认实现检查 AFX_CBRS_AUTOHIDE 标志。 在派生类中重写此方法以自定义此行为。

##  <a name="canbeattached"></a>CBasePane:: CanBeAttached

确定窗格是否可以停靠到另一个窗格或框架窗口中。

```
virtual BOOL CanBeAttached() const;
```

### <a name="return-value"></a>返回值

如果可以将窗格停靠到另一个窗格或框架窗口, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

默认实现返回 FALSE。 在派生类中重写此方法, 以在不调用[CBasePane:: EnableDocking](#enabledocking)的情况下启用或禁用停靠功能。

##  <a name="canbeclosed"></a>CBasePane:: CanBeClosed

确定是否可以关闭窗格。

```
virtual BOOL CanBeClosed() const;
```

### <a name="return-value"></a>返回值

如果可以关闭窗格, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

框架调用此方法来确定窗格是否可以关闭。 如果该方法返回 TRUE, 则在窗格的标题栏中添加 "关闭" 按钮, 或者在该窗格的 "微型框" 窗口的标题栏中添加 "**关闭**" 按钮。

在构造过程中, 可以通过将 AFX_CBRS_CLOSE 标志传递到[CBasePane:: CreateEx](#createex)来设置此功能。

默认实现检查 AFX_CBRS_CLOSE 标志。

##  <a name="canbedocked"></a>CBasePane:: CanBeDocked

确定窗格是否可以停靠到另一个窗格。

```
virtual BOOL CanBeDocked(CBasePane* pDockBar) const;
```

### <a name="parameters"></a>参数

*pDockBar*<br/>
中指向另一个窗格的指针。

### <a name="return-value"></a>返回值

如果可以将此窗格停靠到另一个窗格, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

框架在将*pDockBar*指定的窗格停靠到当前窗格之前调用此方法。

使用此方法和[CBasePane:: CanAcceptPane](#canacceptpane)方法可以控制窗格停靠到应用程序中的其他窗格的方式。

默认实现返回 FALSE。

##  <a name="canberesized"></a>CBasePane:: CanBeResized

确定窗格是否可以调整大小。

```
virtual BOOL CanBeResized() const;
```

### <a name="return-value"></a>返回值

如果可以调整窗格的大小, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

此方法检查 AFX_CBRS_RESIZE 标志, 该标志默认情况下在中`CBasePane::OnCreate`指定。 如果未指定此标志, 则停靠管理器将在内部将窗格标记为可移动, 而不是将其停靠。

##  <a name="canbetabbeddocument"></a>CBasePane:: CanBeTabbedDocument

指定窗格是否可转换为 MDI 选项卡式文档。

```
virtual BOOL CanBeTabbedDocument() const;
```

### <a name="return-value"></a>返回值

如果窗格可以转换为选项卡式文档, 则为 TRUE;否则为 FALSE。 `CBasePane::CanBeTabbedDocument`始终返回 FALSE。

### <a name="remarks"></a>备注

只有特定`CBasePane`派生类型的对象 (如[CDockablePane 类](../../mfc/reference/cdockablepane-class.md)) 才能转换为选项卡式文档。

##  <a name="canfloat"></a>CBasePane:: CanFloat

确定窗格是否可以浮动。

```
virtual BOOL CanFloat() const;
```

### <a name="return-value"></a>返回值

如果窗格可以浮动, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

框架调用此方法来确定窗格是否可以浮动。

在构造过程中, 可以通过将 AFX_CBRS_FLOAT 标志传递到[CBasePane:: CreateEx](#createex)来设置此功能。

> [!NOTE]
>  该框架假定非浮动窗格是静态的, 并且不能更改其停靠状态。 因此, 框架不会保存非浮动窗格的停靠状态。

默认实现检查 AFX_CBRS_FLOAT 样式。

##  <a name="canfocus"></a>CBasePane:: CanFocus

指定窗格是否可以接收焦点。

```
virtual BOOL CanFocus() const;
```

### <a name="return-value"></a>返回值

如果窗格可接收焦点, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

在派生类中重写此方法以控制焦点。 例如, 由于工具栏无法接收焦点, 因此在 toolbar 对象上调用此方法时, 此方法将返回 FALSE。

框架在停靠或浮动窗格时尝试设置输入焦点。

##  <a name="copystate"></a>CBasePane:: CopyState

复制给定窗格的状态。

```
virtual void CopyState(CBasePane* pOrgBar);
```

### <a name="parameters"></a>参数

*pOrgBar*<br/>
中指向另一个窗格的指针。

### <a name="remarks"></a>备注

此方法将状态从*pOrgBar*复制到此窗格。

##  <a name="createdefaultminiframe"></a>CBasePane:: CreateDefaultMiniframe

如果该窗格可以浮动, 则此方法将为其创建一个微型框架窗口。

```
virtual CPaneFrameWnd* CreateDefaultMiniframe(CRect rectInitial);
```

### <a name="parameters"></a>参数

*rectInitial*<br/>
中指定袖珍框架窗口的初始坐标。

### <a name="return-value"></a>返回值

指向新的袖珍框架窗口的指针; 如果创建失败, 则为 NULL。

### <a name="remarks"></a>备注

当窗格切换到浮动状态时, 框架会调用此方法。 方法创建袖珍框架窗口, 并将窗格附加到此窗口。

默认实现返回 NULL。

##  <a name="createex"></a>CBasePane:: CreateEx

创建窗格控件。

```
virtual BOOL CreateEx(
    DWORD dwStyleEx,
    LPCTSTR lpszClassName,
    LPCTSTR lpszWindowName,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    DWORD dwControlBarStyle=0,
    CCreateContext* pContext=NULL);
```

### <a name="parameters"></a>参数

*dwStyleEx*<br/>
中扩展样式 (有关详细信息, 请参阅[CWnd:: CreateEx](../../mfc/reference/cwnd-class.md#createex) )。

*lpszClassName*<br/>
中窗口类名称。

*lpszWindowName*<br/>
中窗口名称。

*dwStyle*<br/>
中窗口样式 (请参阅[CWnd:: CreateEx](../../mfc/reference/cwnd-class.md#createex))。

*rect*<br/>
中初始矩形。

*pParentWnd*<br/>
中指向父窗口的指针。

*nID*<br/>
中指定窗格 ID。 必须是唯一的。

*dwControlBarStyle*<br/>
中窗格的样式标志。

*pContext*<br/>
中指向`CcreateContext`

### <a name="return-value"></a>返回值

如果成功创建窗格, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

创建类`lpszClassName`的窗口。 如果指定 WS_CAPTION, 则此方法会清除 WS_CAPTION 样式位, 并`CBasePane::m_bHasCaption`将设置为 TRUE, 因为库不支持带有标题的窗格。

您可以使用子窗口样式和 MFC 控件条 (CBRS_) 样式的任意组合。

库为窗格添加了几个新样式。 下表介绍了新样式:

|样式|描述|
|-----------|-----------------|
|AFX_CBRS_FLOAT|窗格可以浮动。|
|AFX_CBRS_AUTOHIDE|窗格支持自动隐藏模式|
|AFX_CBRS_RESIZE|可以调整窗格的大小。 **重要提示：** 未实现此样式。|
|AFX_CBRS_CLOSE|可以关闭窗格。|
|AFX_CBRS_AUTO_ROLLUP|当该窗格浮动时, 可以将其汇总。|
|AFX_CBRS_REGULAR_TABS|将一个窗格停靠到具有此样式的另一个窗格时, 将创建一个常规选项卡式窗口。 (有关详细信息, 请参阅[CTabbedPane 类](../../mfc/reference/ctabbedpane-class.md)。)|
|AFX_CBRS_OUTLOOK_TABS|将一个窗格停靠到具有此样式的另一个窗格时, 将创建一个 Outlook 样式选项卡式窗口。 (有关详细信息, 请参阅[CMFCOutlookBar 类](../../mfc/reference/cmfcoutlookbar-class.md)。)|

若要使用新样式, 请在*dwControlBarStyle*中指定它们。

##  <a name="dockpane"></a>CBasePane::D ockPane

将一个窗格停靠到另一个窗格或框架窗口。

```
virtual BOOL DockPane(
    CBasePane* pDockBar,
    LPCRECT lpRect,
    AFX_DOCK_METHOD dockMethod);
```

### <a name="parameters"></a>参数

*pDockBar*<br/>
中指向另一个窗格的指针。

*lpRect*<br/>
中指定目标矩形。

*dockMethod*<br/>
中指定停靠方法。

### <a name="return-value"></a>返回值

如果成功停靠控件栏, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

调用此函数可将一个窗格停靠到另一个窗格或由*pDockBar*指定的停靠栏 ( [CDockSite 类](../../mfc/reference/cdocksite-class.md)); 如果*pDockBar*为 NULL, 则为主帧。

*dockMethod*指定窗格的停靠方式。 有关可能值的列表, 请参阅[CPane::D ockpane](../../mfc/reference/cpane-class.md#dockpane) 。

##  <a name="dockpaneusingrtti"></a>CBasePane::D ockPaneUsingRTTI

使用运行时类型信息停靠窗格。

```
void DockPaneUsingRTTI(BOOL bUseDockSite);
```

### <a name="parameters"></a>参数

*bUseDockSite*<br/>
中如果为 TRUE, 则停靠到停靠站点。 如果为 FALSE, 则停靠到父框架。

##  <a name="docktoframewindow"></a>CBasePane::D ockToFrameWindow

将可停靠的窗格停靠到帧。

```
virtual BOOL DockToFrameWindow(
    DWORD dwAlignment,
    LPCRECT lpRect = NULL,
    DWORD dwDockFlags = DT_DOCK_LAST,
    CBasePane* pRelativeBar = NULL,
    int nRelativeIndex = -1,
    BOOL bOuterEdge = FALSE);
```

### <a name="parameters"></a>参数

*dwAlignment*<br/>
中要将窗格停靠到的父框架侧。

*lpRect*<br/>
中所需大小。

*dwDockFlags*<br/>
中掉.

*pRelativeBar*<br/>
中掉.

*nRelativeIndex*<br/>
中掉.

*bOuterEdge*<br/>
中如果为 TRUE, 并且在*dwAlignment*指定的一侧有其他可停靠的窗格, 则该窗格将停靠在其他窗格外, 靠近父框架的边缘。 如果为 FALSE, 则窗格停靠在离工作区中心更近的地方。

### <a name="return-value"></a>返回值

如果方法成功, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

如果无法创建窗格分隔符 ( [CPaneDivider 类](../../mfc/reference/cpanedivider-class.md)), 则此方法将失败。 否则, 它始终返回 TRUE。

##  <a name="doesallowdyninsertbefore"></a>CBasePane::D oesAllowDynInsertBefore

确定是否可以在此窗格和父框架之间动态插入另一个窗格。

```
virtual BOOL DoesAllowDynInsertBefore() const;
```

### <a name="return-value"></a>返回值

如果用户可以插入另一个窗格, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

框架调用此方法以确定用户是否可以在此窗格之前动态插入窗格。

例如, 假设您的应用程序创建一个停靠在框架左侧的窗格 (如 Outlook 栏)。 若要防止用户在第一个窗格左侧停靠另一个窗格, 请重写此方法并返回 FALSE。

建议你重写此方法, 并为从[CDockablePane 类](../../mfc/reference/cdockablepane-class.md)派生的非浮动窗格返回 FALSE。

默认实现返回 TRUE。

##  <a name="dopaint"></a>CBasePane::D oPaint

填充窗格的背景。

```
virtual void DoPaint(CDC* pDC);
```

### <a name="parameters"></a>参数

*pDC*<br/>
中指向设备上下文的指针。

### <a name="remarks"></a>备注

默认实现将调用当前的可视管理器以填充背景 ( [CMFCVisualManager:: OnFillBarBackground](../../mfc/reference/cmfcvisualmanager-class.md#onfillbarbackground))。

##  <a name="enabledocking"></a>CBasePane:: EnableDocking

允许将窗格停靠到主帧。

```
virtual void EnableDocking(DWORD dwAlignment);
```

### <a name="parameters"></a>参数

*dwAlignment*<br/>
中指定要启用的停靠对齐方式。

### <a name="remarks"></a>备注

调用此方法以启用与主框架的停靠对齐。 可以传递 CBRS_ALIGN_ 标志的组合 (有关详细信息, 请参阅[CControlBar:: EnableDocking](../../mfc/reference/ccontrolbar-class.md#enabledocking))。

`EnableDocking`设置内部标志`CBasePane::m_dwEnabledAlignment` , 在停靠窗格时框架将检查此标志。

调用[CBasePane:: GetEnabledAlignment](#getenabledalignment)以确定窗格的停靠对齐方式。

##  <a name="enablegripper"></a>CBasePane:: EnableGripper

启用或禁用控制手柄。 如果已启用控制手柄, 则用户可以拖动它来重新定位窗格。

```
virtual void EnableGripper(BOOL bEnable);
```

### <a name="parameters"></a>参数

*bEnable*<br/>
中若要启用控制手柄, 则为 TRUE;若要禁用它, 则为 FALSE。

### <a name="remarks"></a>备注

框架使用此方法来启用控制手柄, 而不是使用 WS_CAPTION 样式。

##  <a name="floatpane"></a>CBasePane:: FloatPane

在窗格中浮动。

```
virtual BOOL FloatPane(
    CRect rectFloat,
    AFX_DOCK_METHOD dockMethod=DM_UNKNOWN,
    bool bShow=true);
```

### <a name="parameters"></a>参数

*rectFloat*<br/>
中指定浮动窗格的显示位置的屏幕坐标。

*dockMethod*<br/>
中指定用于浮动窗格的停靠方法。

*bShow*<br/>
中指定浮动窗格是可见的 (TRUE) 还是隐藏 (FALSE)。

### <a name="return-value"></a>返回值

如果成功浮动窗格, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

调用此方法以在由*rectFloat*指定的屏幕位置上浮动一个窗格。

##  <a name="get_acchelptopic"></a>CBasePane:: get_accHelpTopic

框架调用此方法来检索与指定对象关联的**WinHelp**文件的完整路径以及该文件中相应主题的标识符。

```
virtual HRESULT get_accHelpTopic(
    BSTR* pszHelpFile,
    VARIANT varChild,
    long* pidTopic);
```

### <a name="parameters"></a>参数

*pszHelpFile*<br/>
中用于接收与指定对象关联的**WinHelp**文件的完整路径的 BSTR 的地址 (如果有)。

*varChild*<br/>
中指定要检索的帮助主题是否为对象的对象或该对象的一个子元素。 此参数可以是 CHILDID_SELF (用于获取对象的帮助主题) 或子 ID (以获取对象的一个子元素的帮助主题)。

*pidTopic*<br/>
中标识与指定的对象相关联的**帮助**文件主题。

### <a name="return-value"></a>返回值

`CBasePane`不实现此方法。 因此, `CBasePane::get_accHelpTopic`始终返回 S_FALSE。

### <a name="remarks"></a>备注

此函数是 MFC 中的 Active Accessibility 支持的一部分。 在派生类中重写此函数可提供有关对象的帮助信息。

##  <a name="get_accselection"></a>CBasePane:: get_accSelection

框架调用此方法来检索此对象的选定子对象。

```
virtual HRESULT get_accSelection(VARIANT* pvarChildren);
```

### <a name="parameters"></a>参数

*pvarChildren*<br/>
中接收标识选定子项的信息。

### <a name="return-value"></a>返回值

`CBasePane`不实现此方法。 如果*pvarChildren*为 NULL, 则此方法将返回 E_INVALIDARG。 否则, 此方法将返回 DISP_E_MEMBERNOTFOUND。

### <a name="remarks"></a>备注

此函数是 MFC 中的 Active Accessibility 支持的一部分。 如果有非窗口的用户界面元素而非无窗口 ActiveX 控件, 则在派生类中重写此函数。

##  <a name="getcaptionheight"></a>CBasePane:: GetCaptionHeight

返回标题高度。

```
virtual int GetCaptionHeight() const;
```

### <a name="return-value"></a>返回值

标题高度。

##  <a name="getcontrolbarstyle"></a>CBasePane:: GetControlBarStyle

返回控件条形样式。

```
virtual DWORD GetControlBarStyle() const
```

### <a name="return-value"></a>返回值

AFX_CBRS_ 标志的按位 "或" 组合。

### <a name="remarks"></a>备注

返回值是以下可能值的组合。

|样式|描述|
|-----------|-----------------|
|AFX_CBRS_FLOAT|使控件条浮动。|
|AFX_CBRS_AUTOHIDE|启用自动隐藏模式。|
|AFX_CBRS_RESIZE|启用控件栏的大小调整。 设置此标志后, 可以将控制条放置在可停靠窗格中。|
|AFX_CBRS_CLOSE|启用控件条的隐藏。|

##  <a name="getcurrentalignment"></a>CBasePane:: GetCurrentAlignment

返回当前窗格的对齐方式。

```
virtual DWORD GetCurrentAlignment() const;
```

### <a name="return-value"></a>返回值

控件条的当前对齐方式。 下表显示了可能的值:

|值|对齐方式|
|-----------|---------------|
|CBRS_ALIGN_LEFT|左对齐。|
|CBRS_ALIGN_RIGHT|右对齐。|
|CBRS_ALIGN_TOP|顶部对齐。|
|CBRS_ALIGN_BOTTOM|底端对齐。|

##  <a name="getdockingmode"></a>CBasePane:: GetDockingMode

返回窗格的当前停靠模式。

```
virtual AFX_DOCK_TYPE GetDockingMode() const;
```

### <a name="return-value"></a>返回值

DT_STANDARD 如果拖动窗格在屏幕上通过拖动矩形指示。 如果拖动窗格的内容, 则为 DT_IMMEDIATE。

### <a name="remarks"></a>备注

框架调用此方法来确定窗格的当前停靠模式。

如果`CBasePane::m_dockMode`未定义 (DT_UNDEFINED), 则将从全局停靠模式 (`AFX_GLOBAL_DATA::m_dockModeGlobal`) 获取停靠模式。

通过设置*m_dockMode*或替代`GetDockingMode` , 可以控制每个窗格的停靠模式。

##  <a name="getdocksiteframewnd"></a>CBasePane:: GetDockSiteFrameWnd

返回一个指向窗格停靠位置的[CDockingPanesRow](../../mfc/reference/cdockingpanesrow-class.md)对象的指针。

```
virtual CWnd* GetDockSiteFrameWnd() const;
```

### <a name="return-value"></a>返回值

指向窗格停靠站点的指针。

### <a name="remarks"></a>备注

调用此方法可检索指向窗格停靠站点的指针。 如果面板停靠在主框架, 则停靠站点可以是主框架窗口, 如果窗格是浮动的, 则可以是小型框架窗口。

##  <a name="getenabledalignment"></a>CBasePane:: GetEnabledAlignment

返回应用于此窗格的 CBRS_ALIGN_ 样式。

```
virtual DWORD GetEnabledAlignment() const;
```

### <a name="return-value"></a>返回值

CBRS_ALIGN_ 样式的组合。 下表显示了可能的样式:

|Flag|启用对齐|
|----------|-----------------------|
|CBRS_ALIGN_LEFT|左中.|
|CBRS_ALIGN_RIGHT|然后.|
|CBRS_ALIGN_TOP|返回页首。|
|CBRS_ALIGN_BOTTOM|最终.|
|CBRS_ALIGN_ANY|所有标志的组合。|

### <a name="remarks"></a>备注

调用此方法以确定窗格的已启用对齐方式。 "已启用对齐" 表示窗格可以停靠到的主框架窗口的两侧。

使用[CBasePane:: EnableDocking](#enabledocking)启用停靠对齐。

##  <a name="getmfcstyle"></a>CBasePane:: GetMFCStyle

返回特定于 MFC 的窗格样式。

```
virtual DWORD GetMFCStyle() const;
```

### <a name="return-value"></a>返回值

库特定 (AFX_CBRS_) 窗格样式的组合。

##  <a name="getpaneicon"></a>CBasePane:: GetPaneIcon

返回窗格图标的句柄。

```
virtual HICON GetPaneIcon(BOOL bBigIcon);
```

### <a name="parameters"></a>参数

*bBigIcon*<br/>
中如果为 TRUE, 则指定32像素 x 32 像素图标;如果为 FALSE, 则指定 16 x 16 像素图标。

### <a name="return-value"></a>返回值

窗格图标的句柄。 如果不成功, 则返回 NULL。

### <a name="remarks"></a>备注

默认实现调用[CWnd:: GetIcon](../../mfc/reference/cwnd-class.md#geticon)。

##  <a name="getpanerow"></a>CBasePane:: GetPaneRow

返回一个指向窗格停靠位置的[CDockingPanesRow](../../mfc/reference/cdockingpanesrow-class.md)对象的指针。

```
CDockingPanesRow* GetPaneRow();
```

### <a name="return-value"></a>返回值

如果面板停靠`CDockingPanesRow` , 则为指向的指针; 如果它是浮动的, 则为 NULL。

### <a name="remarks"></a>备注

调用此方法可访问窗格停靠的行。 例如, 若要排列特定行中的窗格, 请调用`GetPaneRow` , 然后调用[CDockingPanesRow:: ArrangePanes](../../mfc/reference/cdockingpanesrow-class.md#arrangepanes)。

##  <a name="getpanestyle"></a>CBasePane:: GetPaneStyle

返回窗格样式。

```
virtual DWORD GetPaneStyle() const;
```

### <a name="return-value"></a>返回值

由[CBasePane:: SetPaneStyle](#setpanestyle)方法在创建时设置的控件条样式 (包括 CBRS_ 样式) 的组合。

##  <a name="getparentdocksite"></a>CBasePane:: GetParentDockSite

返回指向父停靠站点的指针。

```
virtual CDockSite* GetParentDockSite() const;
```

### <a name="return-value"></a>返回值

父停靠站点。

##  <a name="getparentminiframe"></a>CBasePane:: GetParentMiniFrame

返回指向父级袖珍框架窗口的指针。

```
virtual CPaneFrameWnd* GetParentMiniFrame(BOOL bNoAssert=FALSE) const;
```

### <a name="parameters"></a>参数

*bNoAssert*<br/>
中如果为 TRUE, 则此方法不检查无效指针。 如果在应用程序退出时调用此方法, 请将此参数设置为 TRUE。

### <a name="return-value"></a>返回值

如果该窗格是浮动的, 则为指向父袖珍框架窗口的有效指针;否则为 NULL。

### <a name="remarks"></a>备注

调用此函数可检索指向父袖珍框架窗口的指针。 此方法循环访问所有父项, 并检查从[CPaneFrameWnd 类](../../mfc/reference/cpaneframewnd-class.md)派生的对象。

使用`GetParentMiniFrame`确定窗格是否浮动。

##  <a name="getparenttabbedpane"></a>CBasePane:: GetParentTabbedPane

返回指向父选项卡式窗格的指针。

```
CBaseTabbedPane* GetParentTabbedPane() const;
```

### <a name="return-value"></a>返回值

指向父选项卡式窗格 (如果存在) 的指针;否则为 NULL。

##  <a name="getparenttabwnd"></a>CBasePane:: GetParentTabWnd

返回指向位于选项卡内的父窗口的指针。

```
CMFCBaseTabCtrl* GetParentTabWnd(HWND& hWndTab) const;
```

### <a name="parameters"></a>参数

*hWndTab*<br/>
弄如果返回值不为 NULL, 则此参数包含父选项卡式窗口的句柄。

### <a name="return-value"></a>返回值

指向父选项卡式窗口的有效指针或 NULL。

### <a name="remarks"></a>备注

使用此函数可检索指向父选项卡式窗口的指针。 有时无法调用`GetParent`, 因为窗格可以位于停靠包装器 ( [CDockablePaneAdapter 类](../../mfc/reference/cdockablepaneadapter-class.md)) 内或窗格适配器 ( [CDockablePaneAdapter 类](../../mfc/reference/cdockablepaneadapter-class.md)) 内。 通过使用`GetParentTabWnd` , 你将能够在这些情况下检索有效指针 (假定父项是选项卡式窗口)。

##  <a name="getrecentvisiblestate"></a>CBasePane:: GetRecentVisibleState

从存档中还原窗格时, 框架会调用此方法。

```
virtual BOOL GetRecentVisibleState() const;
```

### <a name="return-value"></a>返回值

指定最新可见状态的布尔值。 如果为 TRUE, 则在序列化时窗格是可见的, 并且在还原时应可见。 如果为 FALSE, 则在序列化时隐藏窗格, 并在还原时隐藏。

##  <a name="hideinprintpreviewmode"></a>CBasePane:: HideInPrintPreviewMode

指定是否在打印预览中隐藏窗格。

```
virtual BOOL HideInPrintPreviewMode() const;
```

### <a name="return-value"></a>返回值

如果不在打印预览中显示窗格, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

"打印预览" 中不显示基本窗格。 因此, 此方法始终返回 TRUE。

##  <a name="insertpane"></a>CBasePane:: InsertPane

向停靠管理器注册指定窗格。

```
BOOL InsertPane(
    CBasePane* pControlBar,
    CBasePane* pTarget,
    BOOL bAfter = TRUE);
```

### <a name="parameters"></a>参数

*pControlBar*<br/>
中指向要插入的窗格的指针。

*pTarget*<br/>
中指向相邻窗格的指针。

*bAfter*<br/>
中如果为 TRUE, 则在*pTarget*之后插入*pControlBar* 。 如果为 FALSE, 则在*pTarget*之前插入*pControlBar* 。

### <a name="return-value"></a>返回值

如果该方法成功, 则为 TRUE; 否则为 FALSE。

##  <a name="isaccessibilitycompatible"></a>CBasePane:: IsAccessibilityCompatible

指定窗格是否支持 Active Accessibility。

```
virtual BOOL IsAccessibilityCompatible();
```

### <a name="return-value"></a>返回值

如果窗格支持 Active Accessibility, 则为 TRUE;否则为 FALSE。

##  <a name="isautohidemode"></a>CBasePane:: IsAutoHideMode

确定窗格是否处于自动隐藏模式。

```
virtual BOOL IsAutoHideMode() const;
```

### <a name="return-value"></a>返回值

如果窗格处于自动隐藏模式, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

基本窗格无法自动隐藏。 此方法始终返回 FALSE。

##  <a name="isdialogcontrol"></a>CBasePane:: IsDialogControl

指定窗格是否为对话框控件。

```
BOOL IsDialogControl() const;
```

### <a name="return-value"></a>返回值

如果窗格是对话框控件, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

框架使用此方法来确保所有窗格的布局一致。

##  <a name="isdocked"></a>CBasePane:: IsDocked

确定面板是否停靠。

```
virtual BOOL IsDocked() const;
```

### <a name="return-value"></a>返回值

如果窗格的父项不是小型框架, 或者该窗格在具有另一个窗格的微型框架中浮动, 则为 TRUE;否则为 FALSE。

##  <a name="isfloating"></a>CBasePane:: IsFloating

确定窗格是否浮动。

```
virtual BOOL IsFloating() const;
```

### <a name="return-value"></a>返回值

如果窗格是浮动的, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

此方法返回[CBasePane:: IsDocked](#isdocked)的相反值。

##  <a name="ishorizontal"></a>CBasePane:: IsHorizontal

确定窗格是否水平停靠。

```
virtual BOOL IsHorizontal() const;
```

### <a name="return-value"></a>返回值

如果窗格水平停靠, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

默认实现检查 CBRS_ORIENT_HORZ 的当前停靠对齐方式。

##  <a name="isinfloatingmultipaneframewnd"></a>CBasePane:: IsInFloatingMultiPaneFrameWnd

指定窗格是否位于多窗格框架窗口 ( [CMultiPaneFrameWnd 类](../../mfc/reference/cmultipaneframewnd-class.md)) 中。

```
virtual BOOL IsInFloatingMultiPaneFrameWnd() const;
```

### <a name="return-value"></a>返回值

如果窗格位于多窗格框架窗口中, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

只有可停靠的窗格可以在多窗格框架窗口中浮动。 因此, `CBasePane::IsInFloatingMultiPaneFrameWnd`始终返回 FALSE。

##  <a name="ismditabbed"></a>CBasePane:: IsMDITabbed

确定是否已将窗格作为选项卡式文档添加到 MDI 子窗口。

```
virtual BOOL IsMDITabbed() const;
```

### <a name="return-value"></a>返回值

如果窗格作为选项卡式文档添加到 MDI 子窗口, 则为 TRUE;否则为 FALSE。

##  <a name="ispanevisible"></a>CBasePane:: IsPaneVisible

指定是否为窗格设置 WS_VISIBLE 标志。

```
BOOL IsPaneVisible() const;
```

### <a name="return-value"></a>返回值

如果设置了 WS_VISIBLE, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

使用[CBasePane:: IsVisible](#isvisible)来确定窗格的可见性。

##  <a name="ispointneardocksite"></a>CBasePane:: IsPointNearDockSite

确定指定点是否在停靠站点附近。

```
BOOL IsPointNearDockSite(
    CPoint point,
    DWORD& dwBarAlignment,
    BOOL& bOuterEdge) const;
```

### <a name="parameters"></a>参数

*point*<br/>
中指定的点。

*dwBarAlignment*<br/>
弄指定点附近的边缘。 可能的值为 CBRS_ALIGN_LEFT、CBRS_ALIGN_RIGHT、CBRS_ALIGN_TOP 和 CBRS_ALIGN_BOTTOM

*bOuterEdge*<br/>
弄如果点位于停靠站点的外边框附近, 则为 TRUE;否则为 FALSE。

### <a name="return-value"></a>返回值

如果点在停靠站点附近, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

如果该点位于停靠管理器的灵敏度集中, 则该点位于停靠站点附近。 默认敏感度为15像素。

##  <a name="isresizable"></a>CBasePane:: IsResizable

确定窗格是否可以调整大小。

```
virtual BOOL IsResizable() const;
```

### <a name="return-value"></a>返回值

如果用户可以调整窗格的大小, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

可以调整[CDockablePane 类](../../mfc/reference/cdockablepane-class.md)的窗格大小。

无法调整状态栏 ( [CMFCStatusBar 类](../../mfc/reference/cmfcstatusbar-class.md)) 和停靠栏 ( [CDockSite 类](../../mfc/reference/cdocksite-class.md)) 的大小。

##  <a name="isrestoredfromregistry"></a>CBasePane:: IsRestoredFromRegistry

确定窗格是否从注册表还原。

```
virtual BOOL IsRestoredFromRegistry() const;
```

### <a name="return-value"></a>返回值

如果从注册表还原窗格, 则为 TRUE;否则为 FALSE。

##  <a name="istabbed"></a>CBasePane:: IsTabbed

确定是否已将窗格插入到选项卡式窗口的选项卡控件中。

```
virtual BOOL IsTabbed() const;
```

### <a name="return-value"></a>返回值

如果在选项卡式窗口的选项卡中插入控件条, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

此方法检索指向直接父项的指针, 并确定父的运行时类是否为[CMFCBaseTabCtrl 类](../../mfc/reference/cmfcbasetabctrl-class.md)。

##  <a name="isvisible"></a>CBasePane:: IsVisible

确定窗格是否可见。

```
virtual BOOL IsVisible() const;
```

### <a name="return-value"></a>返回值

如果窗格可见, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

使用此方法可以确定窗格的可见性。 请勿使用 `::IsWindowVisible`。

如果窗格不是选项卡式的 (请参阅[CBasePane:: IsTabbed](#istabbed)), 此方法将检查 WS_VISIBLE 样式。 如果窗格是选项卡式, 则此方法检查父选项卡式窗口的可见性。 如果父窗口可见, 则函数使用[CMFCBaseTabCtrl:: IsTabVisible](../../mfc/reference/cmfcbasetabctrl-class.md#istabvisible)检查窗格选项卡的可见性。

##  <a name="loadstate"></a>CBasePane:: LoadState

从注册表加载窗格的状态。

```
virtual BOOL LoadState(
    LPCTSTR lpszProfileName=NULL,
    int nIndex=-1,
    UINT uiID=(UINT)-1);
```

### <a name="parameters"></a>参数

*lpszProfileName*<br/>
中配置文件名称。

*nIndex*<br/>
中配置文件索引。

*uiID*<br/>
中窗格 ID。

### <a name="return-value"></a>返回值

如果成功加载了窗格状态, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

框架调用此方法从注册表加载窗格状态。 在派生类中重写它以加载[CBasePane:: SaveState](#savestate)保存的附加信息。

##  <a name="movewindow"></a>CBasePane:: MoveWindow

移动窗格。

```
virtual HDWP MoveWindow(
    CRect& rect,
    BOOL bRepaint = TRUE,
    HDWP hdwp = NULL);
```

### <a name="parameters"></a>参数

*rect*<br/>
中指定窗格的新位置和大小的矩形。

*bRepaint*<br/>
中如果为 TRUE, 则重绘窗格。 如果为 FALSE, 则不重新绘制窗格。

*hdwp*<br/>
中延迟窗口位置结构的句柄。

### <a name="return-value"></a>返回值

延迟窗口位置结构的句柄, 或 NULL。

### <a name="remarks"></a>备注

如果将 NULL 作为*hdwp*参数传递, 则此方法会正常移动窗口。 如果传递了句柄, 则此方法会执行延迟的窗口移动。 可以通过调用[BeginDeferWindowPos](/windows/win32/api/winuser/nf-winuser-begindeferwindowpos)或存储之前对此方法的调用的返回值来获取句柄。

##  <a name="onafterchangeparent"></a>CBasePane:: OnAfterChangeParent

在窗格的父项更改后由框架调用。

```
virtual void OnAfterChangeParent(CWnd* pWndOldParent);
```

### <a name="parameters"></a>参数

*pWndOldParent*<br/>
中指向上一个父项的指针。

### <a name="remarks"></a>备注

框架在该窗格的父项发生更改后调用此方法, 这通常是由于停靠或浮动操作导致的。

默认实现不执行任何操作。

##  <a name="onbeforechangeparent"></a>CBasePane:: OnBeforeChangeParent

在窗格更改其父窗口之前, 由框架调用。

```
virtual void OnBeforeChangeParent(
    CWnd* pWndNewParent,
    BOOL bDelay=FALSE);
```

### <a name="parameters"></a>参数

*pWndNewParent*<br/>
中指向新的父窗口的指针。

*bDelay*<br/>
中指定是否必须延迟布局调整。

### <a name="remarks"></a>备注

框架在窗格的父项更改之前调用此方法, 通常是因为停靠、浮动或自动隐藏操作。

默认实现不执行任何操作。

##  <a name="ondrawcaption"></a>CBasePane:: OnDrawCaption

绘制标题时, 框架会调用此方法。

```
virtual void OnDrawCaption();
```

### <a name="remarks"></a>备注

此方法对于`CBasePane`类没有任何功能。

##  <a name="onmovepanedivider"></a>CBasePane:: OnMovePaneDivider

当前未使用此方法。

```
virtual void OnMovePaneDivider(CPaneDivider* /* unused */);
```

### <a name="parameters"></a>参数

*用*<br/>
中不使用。

##  <a name="onpanecontextmenu"></a>CBasePane:: OnPaneContextMenu

当框架生成包含窗格列表的菜单时由框架调用。

```
virtual void OnPaneContextMenu(
    CWnd* pParentFrame,
    CPoint point);
```

### <a name="parameters"></a>参数

*pParentFrame*<br/>
中指向父帧的指针。

*point*<br/>
中指定快捷菜单的位置。

### <a name="remarks"></a>备注

`OnPaneContextMenu`调用停靠管理器, 该管理器维护属于当前框架窗口的窗格的列表。 此方法将窗格的名称添加到快捷菜单并显示它。 菜单上的命令显示或隐藏单个窗格。

重写此方法以自定义此行为。

##  <a name="onremovefromminiframe"></a>CBasePane:: OnRemoveFromMiniFrame

当从其父袖珍框架窗口中移除窗格时, 由框架调用。

```
virtual void OnRemoveFromMiniFrame(CPaneFrameWnd* pMiniFrame);
```

### <a name="parameters"></a>参数

*pMiniFrame*<br/>
中一个指针, 指向要从中移除窗格的微型框架窗口。

### <a name="remarks"></a>备注

当从其父微型框架窗口中移除窗格时, 框架会调用此方法 (例如, 停靠的结果)。

默认实现不执行任何操作。

##  <a name="onsetaccdata"></a>CBasePane:: OnSetAccData

`CBasePane`不使用此方法。

```
virtual BOOL OnSetAccData(long lVal);
```

### <a name="parameters"></a>参数

*lVal*<br/>
中不使用。

### <a name="return-value"></a>返回值

此方法始终返回 TRUE。

### <a name="remarks"></a>备注

##  <a name="panefrompoint"></a>CBasePane::P aneFromPoint

返回包含给定点的窗格。

```
CBasePane* PaneFromPoint(
    CPoint point,
    int nSensitivity,
    bool bExactBar = false,
    CRuntimeClass* pRTCBarType = NULL) const;
```

### <a name="parameters"></a>参数

*point*<br/>
中指定要检查的以屏幕坐标表示的点。

*nSensitivity*<br/>
中按此量增加搜索区域。 如果给定点位于增加的区域, 则窗格将满足搜索条件。

*bExactBar*<br/>
中若要忽略*nSensitivity*参数, 则为 TRUE;否则为 FALSE。

*pRTCBarType*<br/>
中如果不为 NULL, 则方法只搜索指定类型的窗格。

### <a name="return-value"></a>返回值

`CBasePane`包含给定点的派生对象, 如果未找到任何窗格, 则为 NULL。

##  <a name="recalclayout"></a>CBasePane:: RecalcLayout

`CBasePane`不使用此方法。

```
virtual void RecalcLayout();
```

##  <a name="removepanefromdockmanager"></a>CBasePane:: RemovePaneFromDockManager

取消注册窗格, 并将其从停靠管理器的列表中删除。

```
void RemovePaneFromDockManager(
    CBasePane* pBar,
    BOOL bDestroy = TRUE,
    BOOL bAdjustLayout = FALSE,
    BOOL bAutoHide = FALSE,
    CBasePane* pBarReplacement = NULL);
```

### <a name="parameters"></a>参数

*pBar*<br/>
中指向要删除的窗格的指针。

*bDestroy*<br/>
中如果为 TRUE, 则删除的窗格被销毁。

*bAdjustLayout*<br/>
中如果为 TRUE, 则立即调整停靠布局。

*bAutoHide*<br/>
中如果为 TRUE, 则停靠布局与自动隐藏栏的列表相关。 如果为 FALSE, 则停靠布局与常规窗格的列表相关。

*pBarReplacement*<br/>
中指向替换已删除窗格的窗格的指针。

##  <a name="savestate"></a>CBasePane:: SaveState

将窗格的状态保存到注册表。

```
virtual BOOL SaveState(
    LPCTSTR lpszProfileName=NULL,
    int nIndex=-1,
    UINT uiID=(UINT)-1);
```

### <a name="parameters"></a>参数

*lpszProfileName*<br/>
中配置文件名称。

*nIndex*<br/>
中配置文件索引。

*uiID*<br/>
中窗格 ID。

### <a name="return-value"></a>返回值

如果成功保存状态, 则为 TRUE;否则为 FALSE。

### <a name="remarks"></a>备注

框架在将窗格的状态保存到注册表时调用此方法。 在`SaveState`派生类中重写以存储附加信息。

##  <a name="selectdefaultfont"></a>CBasePane:: SelectDefaultFont

选择给定设备上下文的默认字体。

```
CFont* SelectDefaultFont(CDC* pDC);
```

### <a name="parameters"></a>参数

*pDC*<br/>
中设备上下文。

### <a name="return-value"></a>返回值

指向默认[CFont 类](../../mfc/reference/cfont-class.md)对象的指针。

##  <a name="setcontrolbarstyle"></a>CBasePane:: SetControlBarStyle

设置控件条形样式。

```
virtual void SetControlBarStyle(DWORD dwNewStyle);
```

### <a name="parameters"></a>参数

*dwNewStyle*<br/>
中以下可能值的按位 "或" 组合。

|样式|描述|
|-----------|-----------------|
|AFX_CBRS_FLOAT|使控件条浮动。|
|AFX_CBRS_AUTOHIDE|启用自动隐藏模式。|
|AFX_CBRS_RESIZE|启用控件栏的大小调整。 设置此标志后, 可以将控制条放置在可停靠窗格中。|
|AFX_CBRS_CLOSE|启用控件条的隐藏。|

##  <a name="setdockingmode"></a>CBasePane:: SetDockingMode

设置窗格的停靠模式。

```
void SetDockingMode(AFX_DOCK_TYPE dockModeNew);
```

### <a name="parameters"></a>参数

*dockModeNew*<br/>
中指定窗格的新停靠模式。

### <a name="remarks"></a>备注

此框架支持两种停靠模式: 标准和即时。

在标准停靠模式下, 使用拖动矩形移动窗格和袖珍框架窗口。 在即时停靠模式下, 控件条和袖珍框架窗口会立即随其上下文一起移动。

最初, 插接模式由[CDockingManager:: m_dockModeGlobal](../../mfc/reference/cdockingmanager-class.md#m_dockmodeglobal)全局定义。 您可以使用`SetDockingMode`方法分别为每个窗格设置停靠模式。

##  <a name="setpanealignment"></a>CBasePane:: SetPaneAlignment

设置窗格的对齐方式。

```
virtual void SetPaneAlignment(DWORD dwAlignment);
```

### <a name="parameters"></a>参数

*dwAlignment*<br/>
中指定新的对齐方式。

### <a name="remarks"></a>备注

通常, 当窗格停靠在主框架的一侧时, 框架会调用此方法。

下表显示了*dwAlignment*的可能值:

|值|对齐方式|
|-----------|---------------|
|CBRS_ALIGN_LEFT|左对齐。|
|CBRS_ALIGN_RIGHT|右对齐。|
|CBRS_ALIGN_TOP|顶部对齐。|
|CBRS_ALIGN_BOTTOM|底端对齐。|

##  <a name="setpanestyle"></a>CBasePane:: SetPaneStyle

设置窗格的样式。

```
virtual void SetPaneStyle(DWORD dwNewStyle);
```

### <a name="parameters"></a>参数

*dwNewStyle*<br/>
中指定要设置的新样式。

### <a name="remarks"></a>备注

此方法可用于设置在 afxres.h 中定义的任何 CBRS_ 样式。 由于窗格样式和窗格对齐方式存储在一起, 因此, 通过将其与当前对齐方式组合来设置新样式, 如下所示。

`pPane->SetPaneStyle (pPane->GetCurrentAlignment() | CBRS_TOOLTIPS);`

##  <a name="setwindowpos"></a>CBasePane:: SetWindowPos

更改窗格的大小、位置和 Z 顺序。

```
virtual HDWP SetWindowPos(
    const CWnd* pWndInsertAfter,
    int x,
    int y,
    int cx,
    int cy,
    UINT nFlags,
    HDWP hdwp = NULL);
```

### <a name="parameters"></a>参数

*pWndInsertAfter*<br/>
中标识在 Z 顺序中位于此`CWnd`对象之前的对象。`CWnd` 有关详细信息, 请参阅[CWnd:: SetWindowPos](../../mfc/reference/cwnd-class.md#setwindowpos)。

*x*<br/>
中指定窗口左侧的位置。

*y*<br/>
中指定窗口顶部的位置。

*cx*<br/>
中指定窗口的宽度。

*cy*<br/>
中指定窗口的高度。

*nFlags*<br/>
中指定大小和位置选项。 有关详细信息, 请参阅[CWnd:: SetWindowPos](../../mfc/reference/cwnd-class.md#setwindowpos)。

*hdwp*<br/>
中结构的句柄, 其中包含一个或多个窗口的大小和位置信息。

### <a name="return-value"></a>返回值

已更新延迟窗口位置结构的句柄, 或者为 NULL。

### <a name="remarks"></a>备注

如果*pWndInsertAfter*为 NULL, 则此方法将调用[CWnd:: SetWindowPos](../../mfc/reference/cwnd-class.md#setwindowpos)。 如果*pWndInsertAfter*为非 NULL, 则此方法将`DeferWindowPos`调用。

##  <a name="showpane"></a>CBasePane:: ShowPane

显示或隐藏窗格。

```
virtual void ShowPane(
    BOOL bShow,
    BOOL bDelay,
    BOOL bActivate);
```

### <a name="parameters"></a>参数

*bShow*<br/>
中指定是否显示 (TRUE) 或隐藏 (FALSE) 窗格。

*bDelay*<br/>
中如果为 TRUE, 则重新计算停靠布局将延迟。

*bActivate*<br/>
中如果为 TRUE, 则在显示时窗格处于活动状态。

### <a name="remarks"></a>备注

此方法显示或隐藏窗格。 使用此方法, 而`ShowWindow`不是, 因为此方法会向相关的停靠管理器通知窗格可见性中的更改。

使用[CBasePane:: IsVisible](#isvisible)来确定窗格的当前可见性。

##  <a name="stretchpane"></a>CBasePane:: StretchPane

垂直或水平拉伸窗格。

```
virtual CSize StretchPane(
    int nLength,
    BOOL bVert);
```

### <a name="parameters"></a>参数

*nLength*<br/>
中窗格伸展的长度。

*bVert*<br/>
中如果为 TRUE, 则垂直拉伸窗格。 如果为 FALSE, 则水平拉伸窗格。

### <a name="return-value"></a>返回值

延伸窗格的大小。

##  <a name="undockpane"></a>CBasePane:: UndockPane

从停靠站点、默认滑块或微型框架窗口中删除当前停靠的窗格。

```
virtual void UndockPane(BOOL bDelay=FALSE);
```

### <a name="parameters"></a>参数

*bDelay*<br/>
如果为 TRUE, 则不会立即重新计算停靠布局。

### <a name="remarks"></a>备注

调用此方法以操作窗格状态或从停靠布局中排除该窗格。

如果要继续使用此窗格, 请在调用此方法之前调用[CBasePane::D ockpane](#dockpane)或[CBasePane:: FloatPane](#floatpane) 。

## <a name="see-also"></a>请参阅

[层次结构图](../../mfc/hierarchy-chart.md)<br/>
[类](../../mfc/reference/mfc-classes.md)<br/>
[CPane](../../mfc/reference/cbasepane-class.md)<br/>
[CWnd 类](../../mfc/reference/cwnd-class.md)
